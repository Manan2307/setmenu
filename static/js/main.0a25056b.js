/*! For license information please see main.0a25056b.js.LICENSE.txt */
!function(){var e={562:function(e,t,n){var r,i;i="undefined"==typeof n.g?"undefined"==typeof window?this:window:n.g,r=function(){return function(e){"use strict";if("undefined"==typeof e&&"undefined"==typeof e.document)return!1;var t,n,r,i,a,o="\n\nVisit documentation page to learn more: https://notiflix.github.io/documentation",s='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif',u={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},c={wrapID:"NotiflixNotifyWrap",overlayID:"NotiflixNotifyOverlay",width:"280px",position:"right-top",distance:"10px",opacity:1,borderRadius:"5px",rtl:!1,timeout:3e3,messageMaxLength:110,backOverlay:!1,backOverlayColor:"rgba(0,0,0,0.5)",plainText:!0,showOnlyTheLastOne:!1,clickToClose:!1,pauseOnHover:!0,ID:"NotiflixNotify",className:"notiflix-notify",zindex:4001,fontFamily:"Quicksand",fontSize:"13px",cssAnimation:!0,cssAnimationDuration:400,cssAnimationStyle:"fade",closeButton:!1,useIcon:!0,useFontAwesome:!1,fontAwesomeIconStyle:"basic",fontAwesomeIconSize:"34px",success:{background:"#32c682",textColor:"#fff",childClassName:"notiflix-notify-success",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-check-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{background:"#ff5549",textColor:"#fff",childClassName:"notiflix-notify-failure",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-times-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{background:"#eebf31",textColor:"#fff",childClassName:"notiflix-notify-warning",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-exclamation-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(238,191,49,0.2)"},info:{background:"#26c0d3",textColor:"#fff",childClassName:"notiflix-notify-info",notiflixIconColor:"rgba(0,0,0,0.2)",fontAwesomeClassName:"fas fa-info-circle",fontAwesomeIconColor:"rgba(0,0,0,0.2)",backOverlayColor:"rgba(38,192,211,0.2)"}},l={Success:"Success",Failure:"Failure",Warning:"Warning",Info:"Info"},f={ID:"NotiflixReportWrap",className:"notiflix-report",width:"320px",backgroundColor:"#f8f8f8",borderRadius:"25px",rtl:!1,zindex:4002,backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",backOverlayClickToClose:!1,fontFamily:"Quicksand",svgSize:"110px",plainText:!0,titleFontSize:"16px",titleMaxLength:34,messageFontSize:"13px",messageMaxLength:400,buttonFontSize:"14px",buttonMaxLength:34,cssAnimation:!0,cssAnimationDuration:360,cssAnimationStyle:"fade",success:{svgColor:"#32c682",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#32c682",buttonColor:"#fff",backOverlayColor:"rgba(50,198,130,0.2)"},failure:{svgColor:"#ff5549",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#ff5549",buttonColor:"#fff",backOverlayColor:"rgba(255,85,73,0.2)"},warning:{svgColor:"#eebf31",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#eebf31",buttonColor:"#fff",backOverlayColor:"rgba(238,191,49,0.2)"},info:{svgColor:"#26c0d3",titleColor:"#1e1e1e",messageColor:"#242424",buttonBackground:"#26c0d3",buttonColor:"#fff",backOverlayColor:"rgba(38,192,211,0.2)"}},h={Show:"Show",Ask:"Ask",Prompt:"Prompt"},d={ID:"NotiflixConfirmWrap",className:"notiflix-confirm",width:"300px",zindex:4003,position:"center",distance:"10px",backgroundColor:"#f8f8f8",borderRadius:"25px",backOverlay:!0,backOverlayColor:"rgba(0,0,0,0.5)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,cssAnimationStyle:"fade",plainText:!0,titleColor:"#32c682",titleFontSize:"16px",titleMaxLength:34,messageColor:"#1e1e1e",messageFontSize:"14px",messageMaxLength:110,buttonsFontSize:"15px",buttonsMaxLength:34,okButtonColor:"#f8f8f8",okButtonBackground:"#32c682",cancelButtonColor:"#f8f8f8",cancelButtonBackground:"#a9a9a9"},p={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse",Custom:"Custom",Notiflix:"Notiflix"},v={ID:"NotiflixLoadingWrap",className:"notiflix-loading",zindex:4e3,backgroundColor:"rgba(0,0,0,0.8)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:400,clickToClose:!1,customSvgUrl:null,customSvgCode:null,svgSize:"80px",svgColor:"#32c682",messageID:"NotiflixLoadingMessage",messageFontSize:"15px",messageMaxLength:34,messageColor:"#dcdcdc"},m={Standard:"Standard",Hourglass:"Hourglass",Circle:"Circle",Arrows:"Arrows",Dots:"Dots",Pulse:"Pulse"},y={ID:"NotiflixBlockWrap",querySelectorLimit:200,className:"notiflix-block",position:"absolute",zindex:1e3,backgroundColor:"rgba(255,255,255,0.9)",rtl:!1,fontFamily:"Quicksand",cssAnimation:!0,cssAnimationDuration:300,svgSize:"45px",svgColor:"#383838",messageFontSize:"14px",messageMaxLength:34,messageColor:"#383838"},g=function(e){return console.error("%c Notiflix Error ","padding:2px;border-radius:20px;color:#fff;background:#ff5549","\n"+e+o)},k=function(e){return console.log("%c Notiflix Info ","padding:2px;border-radius:20px;color:#fff;background:#26c0d3","\n"+e+o)},b=function(t){return t||(t="head"),null!==e.document[t]||(g('\nNotiflix needs to be appended to the "<'+t+'>" element, but you called it before the "<'+t+'>" element has been created.'),!1)},w=function(t,n){if(!b("head"))return!1;if(null!==t()&&!e.document.getElementById(n)){var r=e.document.createElement("style");r.id=n,r.innerHTML=t(),e.document.head.appendChild(r)}},x=function e(){var t={},n=!1,r=0;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(n=arguments[0],r++);for(var i=function(r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=n&&"[object Object]"===Object.prototype.toString.call(r[i])?e(t[i],r[i]):r[i])};r<arguments.length;r++)i(arguments[r]);return t},_=function(t){var n=e.document.createElement("div");return n.innerHTML=t,n.textContent||n.innerText||""},I=function(e,t){return e||(e="110px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportSuccess" width="'+e+'" height="'+e+'" fill="'+t+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@keyframes NXReportSuccess1-animation{0%{-webkit-transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.5,.5) translate(-60px,-57.7px)}50%,to{-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px)}60%{-webkit-transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px);transform:translate(60px,57.7px) scale(.95,.95) translate(-60px,-57.7px)}}@-webkit-keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportSuccess4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportSuccess3-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportSuccess2-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportSuccess *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportSuccess2-animation;animation-name:NXReportSuccess2-animation;-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportSuccess3-animation;animation-name:NXReportSuccess3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportSuccess1-animation;animation-name:NXReportSuccess1-animation;-webkit-transform:translate(60px,57.7px) scale(1,1) translate(-60px,-57.7px);-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)"><path d="M88.27 35.39L52.8 75.29 31.43 58.2c-.98-.81-2.44-.63-3.24.36-.79.99-.63 2.44.36 3.24l23.08 18.46c.43.34.93.51 1.44.51.64 0 1.27-.26 1.74-.78l36.91-41.53a2.3 2.3 0 0 0-.19-3.26c-.95-.86-2.41-.77-3.26.19z" style="-webkit-animation-name:NXReportSuccess4-animation;animation-name:NXReportSuccess4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'},S=function(e,t){return e||(e="110px"),t||(t="#ff5549"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportFailure" width="'+e+'" height="'+e+'" fill="'+t+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportFailure2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportFailure3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportFailure4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportFailure *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportFailure1-animation;animation-name:NXReportFailure1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M4.35 34.95c0-16.82 13.78-30.6 30.6-30.6h50.1c16.82 0 30.6 13.78 30.6 30.6v50.1c0 16.82-13.78 30.6-30.6 30.6h-50.1c-16.82 0-30.6-13.78-30.6-30.6v-50.1zM34.95 120h50.1c19.22 0 34.95-15.73 34.95-34.95v-50.1C120 15.73 104.27 0 85.05 0h-50.1C15.73 0 0 15.73 0 34.95v50.1C0 104.27 15.73 120 34.95 120z" style="-webkit-animation-name:NXReportFailure2-animation;animation-name:NXReportFailure2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportFailure3-animation;animation-name:NXReportFailure3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M82.4 37.6c-.9-.9-2.37-.9-3.27 0L60 56.73 40.86 37.6a2.306 2.306 0 0 0-3.26 3.26L56.73 60 37.6 79.13c-.9.9-.9 2.37 0 3.27.45.45 1.04.68 1.63.68.59 0 1.18-.23 1.63-.68L60 63.26 79.13 82.4c.45.45 1.05.68 1.64.68.58 0 1.18-.23 1.63-.68.9-.9.9-2.37 0-3.27L63.26 60 82.4 40.86c.9-.91.9-2.36 0-3.26z" style="-webkit-animation-name:NXReportFailure4-animation;animation-name:NXReportFailure4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'},E=function(e,t){return e||(e="110px"),t||(t="#eebf31"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportWarning" width="'+e+'" height="'+e+'" fill="'+t+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportWarning2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportWarning1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@keyframes NXReportWarning3-animation{0%{-webkit-transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.5,.5) translate(-60px,-66.6px)}50%,to{-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)}60%{-webkit-transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px);transform:translate(60px,66.6px) scale(.95,.95) translate(-60px,-66.6px)}}@-webkit-keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportWarning4-animation{0%{opacity:0}50%,to{opacity:1}}#NXReportWarning *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportWarning1-animation;animation-name:NXReportWarning1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M115.46 106.15l-54.04-93.8c-.61-1.06-2.23-1.06-2.84 0l-54.04 93.8c-.62 1.07.21 2.29 1.42 2.29h108.08c1.21 0 2.04-1.22 1.42-2.29zM65.17 10.2l54.04 93.8c2.28 3.96-.65 8.78-5.17 8.78H5.96c-4.52 0-7.45-4.82-5.17-8.78l54.04-93.8c2.28-3.95 8.03-4 10.34 0z" style="-webkit-animation-name:NXReportWarning2-animation;animation-name:NXReportWarning2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportWarning3-animation;animation-name:NXReportWarning3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,66.6px) scale(1,1) translate(-60px,-66.6px)"><path d="M57.83 94.01c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17v-3.2c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v3.2zm0-14.15c0 1.2.97 2.17 2.17 2.17s2.17-.97 2.17-2.17V39.21c0-1.2-.97-2.17-2.17-2.17s-2.17.97-2.17 2.17v40.65z" style="-webkit-animation-name:NXReportWarning4-animation;animation-name:NXReportWarning4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'},T=function(e,t){return e||(e="110px"),t||(t="#26c0d3"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXReportInfo" width="'+e+'" height="'+e+'" fill="'+t+'" viewBox="0 0 120 120"><style>@-webkit-keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@keyframes NXReportInfo4-animation{0%{opacity:0}50%,to{opacity:1}}@-webkit-keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo3-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}50%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@-webkit-keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@keyframes NXReportInfo2-animation{0%{opacity:0}40%,to{opacity:1}}@-webkit-keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}@keyframes NXReportInfo1-animation{0%{-webkit-transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px);transform:translate(60px,60px) scale(.5,.5) translate(-60px,-60px)}40%,to{-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px);transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)}60%{-webkit-transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px);transform:translate(60px,60px) scale(.95,.95) translate(-60px,-60px)}}#NXReportInfo *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g style="-webkit-animation-name:NXReportInfo1-animation;animation-name:NXReportInfo1-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M60 115.38C29.46 115.38 4.62 90.54 4.62 60 4.62 29.46 29.46 4.62 60 4.62c30.54 0 55.38 24.84 55.38 55.38 0 30.54-24.84 55.38-55.38 55.38zM60 0C26.92 0 0 26.92 0 60s26.92 60 60 60 60-26.92 60-60S93.08 0 60 0z" style="-webkit-animation-name:NXReportInfo2-animation;animation-name:NXReportInfo2-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g><g style="-webkit-animation-name:NXReportInfo3-animation;animation-name:NXReportInfo3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform:translate(60px,60px) scale(1,1) translate(-60px,-60px)"><path d="M57.75 43.85c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v48.18c0 1.24-1.01 2.25-2.25 2.25s-2.25-1.01-2.25-2.25V43.85zm0-15.88c0-1.24 1.01-2.25 2.25-2.25s2.25 1.01 2.25 2.25v3.32c0 1.25-1.01 2.25-2.25 2.25s-2.25-1-2.25-2.25v-3.32z" style="-webkit-animation-name:NXReportInfo4-animation;animation-name:NXReportInfo4-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1)" fill="inherit" data-animator-group="true" data-animator-type="2"/></g></svg>'},N=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+t+'" width="'+e+'" height="'+e+'" transform="scale(.8)" viewBox="0 0 38 38"><g fill="none" fill-rule="evenodd" stroke-width="2" transform="translate(1 1)"><circle cx="18" cy="18" r="18" stroke-opacity=".25"/><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" dur="1s" from="0 18 18" repeatCount="indefinite" to="360 18 18" type="rotate"/></path></g></svg>'},C=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingHourglass" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 200 200"><style>@-webkit-keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@keyframes NXhourglass5-animation{0%{-webkit-transform:scale(1,1);transform:scale(1,1)}16.67%{-webkit-transform:scale(1,.8);transform:scale(1,.8)}33.33%{-webkit-transform:scale(.88,.6);transform:scale(.88,.6)}37.5%{-webkit-transform:scale(.85,.55);transform:scale(.85,.55)}41.67%{-webkit-transform:scale(.8,.5);transform:scale(.8,.5)}45.83%{-webkit-transform:scale(.75,.45);transform:scale(.75,.45)}50%{-webkit-transform:scale(.7,.4);transform:scale(.7,.4)}54.17%{-webkit-transform:scale(.6,.35);transform:scale(.6,.35)}58.33%{-webkit-transform:scale(.5,.3);transform:scale(.5,.3)}83.33%,to{-webkit-transform:scale(.2,0);transform:scale(.2,0)}}@-webkit-keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@keyframes NXhourglass3-animation{0%{-webkit-transform:scale(1,.02);transform:scale(1,.02)}79.17%,to{-webkit-transform:scale(1,1);transform:scale(1,1)}}@-webkit-keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}@keyframes NXhourglass1-animation{0%,83.33%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(180deg);transform:rotate(180deg)}}#NXLoadingHourglass *{-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(0,0,1,1);animation-timing-function:cubic-bezier(0,0,1,1)}</style><g data-animator-group="true" data-animator-type="1" style="-webkit-animation-name:NXhourglass1-animation;animation-name:NXhourglass1-animation;-webkit-transform-origin:50% 50%;transform-origin:50% 50%;transform-box:fill-box"><g id="NXhourglass2" fill="inherit"><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass3-animation;animation-name:NXhourglass3-animation;-webkit-animation-timing-function:cubic-bezier(.42,0,.58,1);animation-timing-function:cubic-bezier(.42,0,.58,1);-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass4" d="M100 100l-34.38 32.08v31.14h68.76v-31.14z"/></g><g data-animator-group="true" data-animator-type="2" style="-webkit-animation-name:NXhourglass5-animation;animation-name:NXhourglass5-animation;-webkit-transform-origin:50% 100%;transform-origin:50% 100%;transform-box:fill-box" opacity=".4"><path id="NXhourglass6" d="M100 100L65.62 67.92V36.78h68.76v31.14z"/></g><path d="M51.14 38.89h8.33v14.93c0 15.1 8.29 28.99 23.34 39.1 1.88 1.25 3.04 3.97 3.04 7.08s-1.16 5.83-3.04 7.09c-15.05 10.1-23.34 23.99-23.34 39.09v14.93h-8.33a4.859 4.859 0 1 0 0 9.72h97.72a4.859 4.859 0 1 0 0-9.72h-8.33v-14.93c0-15.1-8.29-28.99-23.34-39.09-1.88-1.26-3.04-3.98-3.04-7.09s1.16-5.83 3.04-7.08c15.05-10.11 23.34-24 23.34-39.1V38.89h8.33a4.859 4.859 0 1 0 0-9.72H51.14a4.859 4.859 0 1 0 0 9.72zm79.67 14.93c0 15.87-11.93 26.25-19.04 31.03-4.6 3.08-7.34 8.75-7.34 15.15 0 6.41 2.74 12.07 7.34 15.15 7.11 4.78 19.04 15.16 19.04 31.03v14.93H69.19v-14.93c0-15.87 11.93-26.25 19.04-31.02 4.6-3.09 7.34-8.75 7.34-15.16 0-6.4-2.74-12.07-7.34-15.15-7.11-4.78-19.04-15.16-19.04-31.03V38.89h61.62v14.93z"/></g></g></svg>'},A=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+e+'" viewBox="25 25 50 50" style="-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:'+e+";-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center;width:"+e+';position:absolute;top:0;left:0;margin:auto"><style>@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35}to{stroke-dasharray:89,200;stroke-dashoffset:-124}}</style><circle cx="50" cy="50" r="20" fill="none" stroke="'+t+'" stroke-width="2" style="-webkit-animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 1.5s ease-in-out infinite" stroke-dasharray="150 200" stroke-dashoffset="-10" stroke-linecap="round"/></svg>'},D=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 128 128"><g><path fill="inherit" d="M109.25 55.5h-36l12-12a29.54 29.54 0 0 0-49.53 12H18.75A46.04 46.04 0 0 1 96.9 31.84l12.35-12.34v36zm-90.5 17h36l-12 12a29.54 29.54 0 0 0 49.53-12h16.97A46.04 46.04 0 0 1 31.1 96.16L18.74 108.5v-36z"/><animateTransform attributeName="transform" dur="1.5s" from="0 64 64" repeatCount="indefinite" to="360 64 64" type="rotate"/></g></svg>'},R=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" fill="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 100 100"><g transform="translate(25 50)"><circle r="9" fill="inherit" transform="scale(.239)"><animateTransform attributeName="transform" begin="-0.266s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(50 50)"><circle r="9" fill="inherit" transform="scale(.00152)"><animateTransform attributeName="transform" begin="-0.133s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g><g transform="translate(75 50)"><circle r="9" fill="inherit" transform="scale(.299)"><animateTransform attributeName="transform" begin="0s" calcMode="spline" dur="0.8s" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" keyTimes="0;0.5;1" repeatCount="indefinite" type="scale" values="0;1;0"/></circle></g></svg>'},P=function(e,t){return e||(e="60px"),t||(t="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" stroke="'+t+'" width="'+e+'" height="'+e+'" viewBox="0 0 44 44"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'},L=function(e,t,n){return e||(e="60px"),t||(t="#f8f8f8"),n||(n="#32c682"),'<svg xmlns="http://www.w3.org/2000/svg" id="NXLoadingNotiflixLib" width="'+e+'" height="'+e+'" viewBox="0 0 200 200"><defs><style>@keyframes notiflix-n{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-x{0%{stroke-dashoffset:1000}to{stroke-dashoffset:0}}@keyframes notiflix-dot{0%,to{stroke-width:0}50%{stroke-width:12}}.nx-icon-line{stroke:'+t+';stroke-width:12;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:22;fill:none}</style></defs><path d="M47.97 135.05a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z" style="animation-name:notiflix-dot;animation-timing-function:ease-in-out;animation-duration:1.25s;animation-iteration-count:infinite;animation-direction:normal" fill="'+n+'" stroke="'+n+'" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="22" stroke-width="12"/><path class="nx-icon-line" d="M10.14 144.76V87.55c0-5.68-4.54-41.36 37.83-41.36 42.36 0 37.82 35.68 37.82 41.36v57.21" style="animation-name:notiflix-n;animation-timing-function:linear;animation-duration:2.5s;animation-delay:0s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/><path class="nx-icon-line" d="M115.06 144.49c24.98-32.68 49.96-65.35 74.94-98.03M114.89 46.6c25.09 32.58 50.19 65.17 75.29 97.75" style="animation-name:notiflix-x;animation-timing-function:linear;animation-duration:2.5s;animation-delay:.2s;animation-iteration-count:infinite;animation-direction:normal" stroke-dasharray="500"/></svg>'},O=function(){return'[id^=NotiflixNotifyWrap]{pointer-events:none;position:fixed;z-index:4001;opacity:1;right:10px;top:10px;width:280px;max-width:96%;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent}[id^=NotiflixNotifyWrap].nx-flex-center-center{max-height:calc(100vh - 20px);overflow-x:hidden;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin:auto}[id^=NotiflixNotifyWrap]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixNotifyWrap]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixNotifyWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyOverlay]{-webkit-transition:background .3s ease-in-out;-o-transition:background .3s ease-in-out;transition:background .3s ease-in-out}[id^=NotiflixNotifyWrap]>div{pointer-events:all;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;width:100%;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative;margin:0 0 10px;border-radius:5px;background:#1e1e1e;color:#fff;padding:10px 12px;font-size:14px;line-height:1.4}[id^=NotiflixNotifyWrap]>div:last-child{margin:0}[id^=NotiflixNotifyWrap]>div.nx-with-callback{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-icon{padding:8px;min-height:56px}[id^=NotiflixNotifyWrap]>div.nx-paused{cursor:auto}[id^=NotiflixNotifyWrap]>div.nx-notify-click-to-close{cursor:pointer}[id^=NotiflixNotifyWrap]>div.nx-with-close-button{padding:10px 36px 10px 12px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button{padding:6px 36px 6px 6px}[id^=NotiflixNotifyWrap]>div>span.nx-message{cursor:inherit;font-weight:normal;font-family:inherit!important;word-break:break-all;word-break:break-word}[id^=NotiflixNotifyWrap]>div>span.nx-close-button{cursor:pointer;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;position:absolute;right:8px;top:0;bottom:0;margin:auto;color:inherit;width:20px;height:20px}[id^=NotiflixNotifyWrap]>div>span.nx-close-button:hover{-webkit-transform:rotate(90deg);transform:rotate(90deg)}[id^=NotiflixNotifyWrap]>div>span.nx-close-button>svg{position:absolute;width:16px;height:16px;right:2px;top:2px}[id^=NotiflixNotifyWrap]>div>.nx-message-icon{position:absolute;width:40px;height:40px;font-size:30px;line-height:40px;text-align:center;left:8px;top:0;bottom:0;margin:auto;border-radius:inherit}[id^=NotiflixNotifyWrap]>div>.nx-message-icon-fa.nx-message-icon-fa-shadow{color:inherit;background:rgba(0,0,0,.15);-webkit-box-shadow:inset 0 0 34px rgba(0,0,0,.2);box-shadow:inset 0 0 34px rgba(0,0,0,.2);text-shadow:0 0 10px rgba(0,0,0,.3)}[id^=NotiflixNotifyWrap]>div>span.nx-with-icon{position:relative;float:left;width:calc(100% - 40px);margin:0 0 0 40px;padding:0 0 0 10px;-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>.nx-message-icon{left:auto;right:8px}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-with-icon{padding:0 10px 0 0;margin:0 40px 0 0}[id^=NotiflixNotifyWrap]>div.nx-rtl-on>span.nx-close-button{right:auto;left:8px}[id^=NotiflixNotifyWrap]>div.nx-with-icon.nx-with-close-button.nx-rtl-on{padding:6px 6px 6px 36px}[id^=NotiflixNotifyWrap]>div.nx-with-close-button.nx-rtl-on{padding:10px 12px 10px 36px}[id^=NotiflixNotifyOverlay].nx-with-animation,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade{-webkit-animation:notify-animation-fade .3s ease-in-out 0s normal;animation:notify-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes notify-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom{-webkit-animation:notify-animation-zoom .3s ease-in-out 0s normal;animation:notify-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes notify-animation-zoom{0%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right{-webkit-animation:notify-animation-from-right .3s ease-in-out 0s normal;animation:notify-animation-from-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}@keyframes notify-animation-from-right{0%{right:-300px;opacity:0}50%{right:8px;opacity:1}100%{right:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left{-webkit-animation:notify-animation-from-left .3s ease-in-out 0s normal;animation:notify-animation-from-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}@keyframes notify-animation-from-left{0%{left:-300px;opacity:0}50%{left:8px;opacity:1}100%{left:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top{-webkit-animation:notify-animation-from-top .3s ease-in-out 0s normal;animation:notify-animation-from-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}@keyframes notify-animation-from-top{0%{top:-50px;opacity:0}50%{top:8px;opacity:1}100%{top:0;opacity:1}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom{-webkit-animation:notify-animation-from-bottom .3s ease-in-out 0s normal;animation:notify-animation-from-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}@keyframes notify-animation-from-bottom{0%{bottom:-50px;opacity:0}50%{bottom:8px;opacity:1}100%{bottom:0;opacity:1}}[id^=NotiflixNotifyOverlay].nx-with-animation.nx-remove,[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-fade.nx-remove{opacity:0;-webkit-animation:notify-remove-fade .3s ease-in-out 0s normal;animation:notify-remove-fade .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}@keyframes notify-remove-fade{0%{opacity:1}100%{opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-zoom.nx-remove{-webkit-transform:scale(0);transform:scale(0);-webkit-animation:notify-remove-zoom .3s ease-in-out 0s normal;animation:notify-remove-zoom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes notify-remove-zoom{0%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}100%{-webkit-transform:scale(0);transform:scale(0)}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-top.nx-remove{opacity:0;-webkit-animation:notify-remove-to-top .3s ease-in-out 0s normal;animation:notify-remove-to-top .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}@keyframes notify-remove-to-top{0%{top:0;opacity:1}50%{top:8px;opacity:1}100%{top:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-right.nx-remove{opacity:0;-webkit-animation:notify-remove-to-right .3s ease-in-out 0s normal;animation:notify-remove-to-right .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}@keyframes notify-remove-to-right{0%{right:0;opacity:1}50%{right:8px;opacity:1}100%{right:-300px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-bottom.nx-remove{opacity:0;-webkit-animation:notify-remove-to-bottom .3s ease-in-out 0s normal;animation:notify-remove-to-bottom .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}@keyframes notify-remove-to-bottom{0%{bottom:0;opacity:1}50%{bottom:8px;opacity:1}100%{bottom:-50px;opacity:0}}[id^=NotiflixNotifyWrap]>div.nx-with-animation.nx-from-left.nx-remove{opacity:0;-webkit-animation:notify-remove-to-left .3s ease-in-out 0s normal;animation:notify-remove-to-left .3s ease-in-out 0s normal}@-webkit-keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}@keyframes notify-remove-to-left{0%{left:0;opacity:1}50%{left:8px;opacity:1}100%{left:-300px;opacity:0}}'},M=0,F=function(n,r,i,a){if(!b("body"))return!1;t||Q.Notify.init({});var o=x(!0,t,{});if("object"==typeof i&&!Array.isArray(i)||"object"==typeof a&&!Array.isArray(a)){var l={};"object"==typeof i?l=i:"object"==typeof a&&(l=a),t=x(!0,t,l)}var f=t[n.toLocaleLowerCase("en")];M++,"string"!=typeof r&&(r="Notiflix "+n),t.plainText&&(r=_(r)),!t.plainText&&r.length>t.messageMaxLength&&(t=x(!0,t,{closeButton:!0,messageMaxLength:150}),r='Possible HTML Tags Error: The "plainText" option is "false" and the notification content length is more than the "messageMaxLength" option.'),r.length>t.messageMaxLength&&(r=r.substring(0,t.messageMaxLength)+"..."),"shadow"===t.fontAwesomeIconStyle&&(f.fontAwesomeIconColor=f.background),t.cssAnimation||(t.cssAnimationDuration=0);var h=e.document.getElementById(c.wrapID)||e.document.createElement("div");if(h.id=c.wrapID,h.style.width=t.width,h.style.zIndex=t.zindex,h.style.opacity=t.opacity,"center-center"===t.position?(h.style.left=t.distance,h.style.top=t.distance,h.style.right=t.distance,h.style.bottom=t.distance,h.style.margin="auto",h.classList.add("nx-flex-center-center"),h.style.maxHeight="calc((100vh - "+t.distance+") - "+t.distance+")",h.style.display="flex",h.style.flexWrap="wrap",h.style.flexDirection="column",h.style.justifyContent="center",h.style.alignItems="center",h.style.pointerEvents="none"):"center-top"===t.position?(h.style.left=t.distance,h.style.right=t.distance,h.style.top=t.distance,h.style.bottom="auto",h.style.margin="auto"):"center-bottom"===t.position?(h.style.left=t.distance,h.style.right=t.distance,h.style.bottom=t.distance,h.style.top="auto",h.style.margin="auto"):"right-bottom"===t.position?(h.style.right=t.distance,h.style.bottom=t.distance,h.style.top="auto",h.style.left="auto"):"left-top"===t.position?(h.style.left=t.distance,h.style.top=t.distance,h.style.right="auto",h.style.bottom="auto"):"left-bottom"===t.position?(h.style.left=t.distance,h.style.bottom=t.distance,h.style.top="auto",h.style.right="auto"):(h.style.right=t.distance,h.style.top=t.distance,h.style.left="auto",h.style.bottom="auto"),t.backOverlay){var d=e.document.getElementById(c.overlayID)||e.document.createElement("div");d.id=c.overlayID,d.style.width="100%",d.style.height="100%",d.style.position="fixed",d.style.zIndex=t.zindex-1,d.style.left=0,d.style.top=0,d.style.right=0,d.style.bottom=0,d.style.background=f.backOverlayColor||t.backOverlayColor,d.className=t.cssAnimation?"nx-with-animation":"",d.style.animationDuration=t.cssAnimation?t.cssAnimationDuration+"ms":"",e.document.getElementById(c.overlayID)||e.document.body.appendChild(d)}e.document.getElementById(c.wrapID)||e.document.body.appendChild(h);var p=e.document.createElement("div");p.id=t.ID+"-"+M,p.className=t.className+" "+f.childClassName+" "+(t.cssAnimation?"nx-with-animation":"")+" "+(t.useIcon?"nx-with-icon":"")+" nx-"+t.cssAnimationStyle+" "+(t.closeButton&&"function"!=typeof i?"nx-with-close-button":"")+" "+("function"==typeof i?"nx-with-callback":"")+" "+(t.clickToClose?"nx-notify-click-to-close":""),p.style.fontSize=t.fontSize,p.style.color=f.textColor,p.style.background=f.background,p.style.borderRadius=t.borderRadius,p.style.pointerEvents="all",t.rtl&&(p.setAttribute("dir","rtl"),p.classList.add("nx-rtl-on")),p.style.fontFamily='"'+t.fontFamily+'", '+s,t.cssAnimation&&(p.style.animationDuration=t.cssAnimationDuration+"ms");var v="";if(t.closeButton&&"function"!=typeof i&&(v='<span class="nx-close-button"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><g><path fill="'+f.notiflixIconColor+'" d="M0.38 2.19l7.8 7.81 -7.8 7.81c-0.51,0.5 -0.51,1.31 -0.01,1.81 0.25,0.25 0.57,0.38 0.91,0.38 0.34,0 0.67,-0.14 0.91,-0.38l7.81 -7.81 7.81 7.81c0.24,0.24 0.57,0.38 0.91,0.38 0.34,0 0.66,-0.14 0.9,-0.38 0.51,-0.5 0.51,-1.31 0,-1.81l-7.81 -7.81 7.81 -7.81c0.51,-0.5 0.51,-1.31 0,-1.82 -0.5,-0.5 -1.31,-0.5 -1.81,0l-7.81 7.81 -7.81 -7.81c-0.5,-0.5 -1.31,-0.5 -1.81,0 -0.51,0.51 -0.51,1.32 0,1.82z"/></g></svg></span>'),t.useIcon)if(t.useFontAwesome)p.innerHTML='<i style="color:'+f.fontAwesomeIconColor+"; font-size:"+t.fontAwesomeIconSize+';" class="nx-message-icon nx-message-icon-fa '+f.fontAwesomeClassName+" "+("shadow"===t.fontAwesomeIconStyle?"nx-message-icon-fa-shadow":"nx-message-icon-fa-basic")+'"></i><span class="nx-message nx-with-icon">'+r+"</span>"+(t.closeButton?v:"");else{var m="";n===u.Success?m='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+f.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-2.4 -13.29l11.52 -12.96c0.37,-0.41 1.01,-0.45 1.42,-0.08 0.42,0.37 0.46,1 0.09,1.42l-12.16 13.67c-0.19,0.22 -0.46,0.34 -0.75,0.34 -0.23,0 -0.45,-0.07 -0.63,-0.22l-7.6 -6.07c-0.43,-0.35 -0.5,-0.99 -0.16,-1.42 0.35,-0.43 0.99,-0.5 1.42,-0.16l6.85 5.48z"/></g></svg>':n===u.Failure?m='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+f.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm1.42 -17.98l6.13 6.12c0.39,0.4 0.39,1.04 0,1.43 -0.19,0.19 -0.45,0.29 -0.71,0.29 -0.27,0 -0.53,-0.1 -0.72,-0.29l-6.12 -6.13 -6.13 6.13c-0.19,0.19 -0.44,0.29 -0.71,0.29 -0.27,0 -0.52,-0.1 -0.71,-0.29 -0.39,-0.39 -0.39,-1.03 0,-1.43l6.13 -6.12 -6.13 -6.13c-0.39,-0.39 -0.39,-1.03 0,-1.42 0.39,-0.39 1.03,-0.39 1.42,0l6.13 6.12 6.12 -6.12c0.4,-0.39 1.04,-0.39 1.43,0 0.39,0.39 0.39,1.03 0,1.42l-6.13 6.13z"/></g></svg>':n===u.Warning?m='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+f.notiflixIconColor+'" d="M21.91 3.48l17.8 30.89c0.84,1.46 -0.23,3.25 -1.91,3.25l-35.6 0c-1.68,0 -2.75,-1.79 -1.91,-3.25l17.8 -30.89c0.85,-1.47 2.97,-1.47 3.82,0zm16.15 31.84l-17.8 -30.89c-0.11,-0.2 -0.41,-0.2 -0.52,0l-17.8 30.89c-0.12,0.2 0.05,0.4 0.26,0.4l35.6 0c0.21,0 0.38,-0.2 0.26,-0.4zm-19.01 -4.12l0 -1.05c0,-0.53 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.42 0.95,0.95l0 1.05c0,0.53 -0.42,0.95 -0.95,0.95 -0.53,0 -0.95,-0.42 -0.95,-0.95zm0 -4.66l0 -13.39c0,-0.52 0.42,-0.95 0.95,-0.95 0.53,0 0.95,0.43 0.95,0.95l0 13.39c0,0.53 -0.42,0.96 -0.95,0.96 -0.53,0 -0.95,-0.43 -0.95,-0.96z"/></g></svg>':n===u.Info&&(m='<svg class="nx-message-icon" xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><g><path fill="'+f.notiflixIconColor+'" d="M20 0c11.03,0 20,8.97 20,20 0,11.03 -8.97,20 -20,20 -11.03,0 -20,-8.97 -20,-20 0,-11.03 8.97,-20 20,-20zm0 37.98c9.92,0 17.98,-8.06 17.98,-17.98 0,-9.92 -8.06,-17.98 -17.98,-17.98 -9.92,0 -17.98,8.06 -17.98,17.98 0,9.92 8.06,17.98 17.98,17.98zm-0.99 -23.3c0,-0.54 0.44,-0.98 0.99,-0.98 0.55,0 0.99,0.44 0.99,0.98l0 15.86c0,0.55 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.44 -0.99,-0.99l0 -15.86zm0 -5.22c0,-0.55 0.44,-0.99 0.99,-0.99 0.55,0 0.99,0.44 0.99,0.99l0 1.09c0,0.54 -0.44,0.99 -0.99,0.99 -0.55,0 -0.99,-0.45 -0.99,-0.99l0 -1.09z"/></g></svg>'),p.innerHTML=m+'<span class="nx-message nx-with-icon">'+r+"</span>"+(t.closeButton?v:"")}else p.innerHTML='<span class="nx-message">'+r+"</span>"+(t.closeButton?v:"");if("left-bottom"===t.position||"right-bottom"===t.position){var y=e.document.getElementById(c.wrapID);y.insertBefore(p,y.firstChild)}else e.document.getElementById(c.wrapID).appendChild(p);var g=e.document.getElementById(p.id);if(g){var k,w,I=function(){g.classList.add("nx-remove");var t=e.document.getElementById(c.overlayID);t&&0>=h.childElementCount&&t.classList.add("nx-remove"),clearTimeout(k)},S=function(){if(g&&null!==g.parentNode&&g.parentNode.removeChild(g),0>=h.childElementCount&&null!==h.parentNode){h.parentNode.removeChild(h);var t=e.document.getElementById(c.overlayID);t&&null!==t.parentNode&&t.parentNode.removeChild(t)}clearTimeout(w)};if(t.closeButton&&"function"!=typeof i&&e.document.getElementById(p.id).querySelector("span.nx-close-button").addEventListener("click",(function(){I();var e=setTimeout((function(){S(),clearTimeout(e)}),t.cssAnimationDuration)})),("function"==typeof i||t.clickToClose)&&g.addEventListener("click",(function(){"function"==typeof i&&i(),I();var e=setTimeout((function(){S(),clearTimeout(e)}),t.cssAnimationDuration)})),!t.closeButton&&"function"!=typeof i){var E=function(){k=setTimeout((function(){I()}),t.timeout),w=setTimeout((function(){S()}),t.timeout+t.cssAnimationDuration)};E(),t.pauseOnHover&&(g.addEventListener("mouseenter",(function(){g.classList.add("nx-paused"),clearTimeout(k),clearTimeout(w)})),g.addEventListener("mouseleave",(function(){g.classList.remove("nx-paused"),E()})))}}if(t.showOnlyTheLastOne&&0<M)for(var T,N=e.document.querySelectorAll("[id^="+t.ID+"-]:not([id="+t.ID+"-"+M+"])"),C=0;C<N.length;C++)null!==(T=N[C]).parentNode&&T.parentNode.removeChild(T);t=x(!0,t,o)},j=function(){return'[id^=NotiflixReportWrap]{position:fixed;z-index:4002;width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;left:0;top:0;padding:10px;color:#1e1e1e;border-radius:25px;background:transparent;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixReportWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixReportWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixReportWrap]>div.nx-report-click-to-close{cursor:pointer}[id^=NotiflixReportWrap]>div[class*="-content"]{width:320px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:inherit;padding:10px;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));border:1px solid rgba(0,0,0,.03);background:#f8f8f8;position:relative;z-index:1}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:110px;height:110px;display:block;margin:6px auto 12px}[id^=NotiflixReportWrap]>div[class*="-content"]>div[class$="-icon"] svg{min-width:100%;max-width:100%;height:auto}[id^=NotiflixReportWrap]>*>h5{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:16px;font-weight:500;line-height:1.4;margin:0 0 10px;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);float:left;width:100%;text-align:center}[id^=NotiflixReportWrap]>*>p{word-break:break-all;word-break:break-word;font-family:inherit!important;font-size:13px;line-height:1.4;font-weight:normal;float:left;width:100%;padding:0 10px;margin:0 0 10px}[id^=NotiflixReportWrap] a#NXReportButton{word-break:break-all;word-break:break-word;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;cursor:pointer;float:right;padding:7px 17px;background:#32c682;font-size:14px;line-height:1.4;font-weight:500;border-radius:inherit!important;color:#fff}[id^=NotiflixReportWrap] a#NXReportButton:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixReportWrap].nx-rtl-on a#NXReportButton{float:left}[id^=NotiflixReportWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:report-overlay-animation .3s ease-in-out 0s normal;animation:report-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes report-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-fade{-webkit-animation:report-animation-fade .3s ease-in-out 0s normal;animation:report-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes report-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixReportWrap]>div[class*="-content"].nx-with-animation.nx-zoom{-webkit-animation:report-animation-zoom .3s ease-in-out 0s normal;animation:report-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes report-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixReportWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:report-overlay-animation-remove .3s ease-in-out 0s normal;animation:report-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-fade{opacity:0;-webkit-animation:report-animation-fade-remove .3s ease-in-out 0s normal;animation:report-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes report-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixReportWrap].nx-remove>div[class*="-content"].nx-with-animation.nx-zoom{opacity:0;-webkit-animation:report-animation-zoom-remove .3s ease-in-out 0s normal;animation:report-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes report-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},U=function(t,r,i,a,o,u){if(!b("body"))return!1;n||Q.Report.init({});var c={};if("object"==typeof o&&!Array.isArray(o)||"object"==typeof u&&!Array.isArray(u)){var h={};"object"==typeof o?h=o:"object"==typeof u&&(h=u),c=x(!0,n,{}),n=x(!0,n,h)}var d=n[t.toLocaleLowerCase("en")];"string"!=typeof r&&(r="Notiflix "+t),"string"!=typeof i&&(t===l.Success?i='"Do not try to become a person of success but try to become a person of value." <br><br>- Albert Einstein':t===l.Failure?i='"Failure is simply the opportunity to begin again, this time more intelligently." <br><br>- Henry Ford':t===l.Warning?i='"The peoples who want to live comfortably without producing and fatigue; they are doomed to lose their dignity, then liberty, and then independence and destiny." <br><br>- Mustafa Kemal Ataturk':t===l.Info&&(i='"Knowledge rests not upon truth alone, but upon error also." <br><br>- Carl Gustav Jung')),"string"!=typeof a&&(a="Okay"),n.plainText&&(r=_(r),i=_(i),a=_(a)),n.plainText||(r.length>n.titleMaxLength&&(r="Possible HTML Tags Error",i='The "plainText" option is "false" and the title content length is more than the "titleMaxLength" option.',a="Okay"),i.length>n.messageMaxLength&&(r="Possible HTML Tags Error",i='The "plainText" option is "false" and the message content length is more than the "messageMaxLength" option.',a="Okay"),a.length>n.buttonMaxLength&&(r="Possible HTML Tags Error",i='The "plainText" option is "false" and the button content length is more than the "buttonMaxLength" option.',a="Okay")),r.length>n.titleMaxLength&&(r=r.substring(0,n.titleMaxLength)+"..."),i.length>n.messageMaxLength&&(i=i.substring(0,n.messageMaxLength)+"..."),a.length>n.buttonMaxLength&&(a=a.substring(0,n.buttonMaxLength)+"..."),n.cssAnimation||(n.cssAnimationDuration=0);var p=e.document.createElement("div");p.id=f.ID,p.className=n.className,p.style.zIndex=n.zindex,p.style.borderRadius=n.borderRadius,p.style.fontFamily='"'+n.fontFamily+'", '+s,n.rtl&&(p.setAttribute("dir","rtl"),p.classList.add("nx-rtl-on")),p.style.display="flex",p.style.flexWrap="wrap",p.style.flexDirection="column",p.style.alignItems="center",p.style.justifyContent="center";var v="",m=!0===n.backOverlayClickToClose;n.backOverlay&&(v='<div class="'+n.className+"-overlay"+(n.cssAnimation?" nx-with-animation":"")+(m?" nx-report-click-to-close":"")+'" style="background:'+(d.backOverlayColor||n.backOverlayColor)+";animation-duration:"+n.cssAnimationDuration+'ms;"></div>');var y="";if(t===l.Success?y=I(n.svgSize,d.svgColor):t===l.Failure?y=S(n.svgSize,d.svgColor):t===l.Warning?y=E(n.svgSize,d.svgColor):t===l.Info&&(y=T(n.svgSize,d.svgColor)),p.innerHTML=v+'<div class="'+n.className+"-content"+(n.cssAnimation?" nx-with-animation ":"")+" nx-"+n.cssAnimationStyle+'" style="width:'+n.width+"; background:"+n.backgroundColor+"; animation-duration:"+n.cssAnimationDuration+'ms;"><div style="width:'+n.svgSize+"; height:"+n.svgSize+';" class="'+n.className+'-icon">'+y+'</div><h5 class="'+n.className+'-title" style="font-weight:500; font-size:'+n.titleFontSize+"; color:"+d.titleColor+';">'+r+'</h5><p class="'+n.className+'-message" style="font-size:'+n.messageFontSize+"; color:"+d.messageColor+';">'+i+'</p><a id="NXReportButton" class="'+n.className+'-button" style="font-weight:500; font-size:'+n.buttonFontSize+"; background:"+d.buttonBackground+"; color:"+d.buttonColor+';">'+a+"</a></div>",!e.document.getElementById(p.id)){e.document.body.appendChild(p);var g=function(){var t=e.document.getElementById(p.id);t.classList.add("nx-remove");var r=setTimeout((function(){null!==t.parentNode&&t.parentNode.removeChild(t),clearTimeout(r)}),n.cssAnimationDuration)};e.document.getElementById("NXReportButton").addEventListener("click",(function(){"function"==typeof o&&o(),g()})),v&&m&&e.document.querySelector(".nx-report-click-to-close").addEventListener("click",(function(){g()}))}n=x(!0,n,c)},z=function(){return'[id^=NotiflixConfirmWrap]{position:fixed;z-index:4003;width:100%;height:100%;left:0;top:0;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;background:transparent;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixConfirmWrap].nx-position-center-top{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-center-bottom{-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-left-top{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-center{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start}[id^=NotiflixConfirmWrap].nx-position-left-bottom{-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-top{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start}[id^=NotiflixConfirmWrap].nx-position-right-center{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end}[id^=NotiflixConfirmWrap].nx-position-right-bottom{-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}[id^=NotiflixConfirmWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixConfirmWrap]>div[class*="-overlay"]{width:100%;height:100%;left:0;top:0;background:rgba(255,255,255,.5);position:fixed;z-index:0}[id^=NotiflixConfirmWrap]>div[class*="-overlay"].nx-with-animation{-webkit-animation:confirm-overlay-animation .3s ease-in-out 0s normal;animation:confirm-overlay-animation .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}@keyframes confirm-overlay-animation{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-remove>div[class*="-overlay"].nx-with-animation{opacity:0;-webkit-animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal;animation:confirm-overlay-animation-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-overlay-animation-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap]>div[class*="-content"]{width:300px;max-width:100%;max-height:96vh;overflow-x:hidden;overflow-y:auto;border-radius:25px;padding:10px;margin:0;-webkit-filter:drop-shadow(0 0 5px rgba(0,0,0,0.05));filter:drop-shadow(0 0 5px rgba(0, 0, 0, .05));background:#f8f8f8;color:#1e1e1e;position:relative;z-index:1;text-align:center}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar{width:0;height:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-thumb{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]::-webkit-scrollbar-track{background:transparent}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]{float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>h5{float:left;width:100%;margin:0;padding:0 0 10px;border-bottom:1px solid rgba(0,0,0,.1);color:#32c682;font-family:inherit!important;font-size:16px;line-height:1.4;font-weight:500;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div{font-family:inherit!important;margin:15px 0 20px;padding:0 10px;float:left;width:100%;font-size:14px;line-height:1.4;font-weight:normal;color:inherit;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div{font-family:inherit!important;float:left;width:100%;margin:15px 0 0;padding:0}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input{font-family:inherit!important;float:left;width:100%;height:40px;margin:0;padding:0 15px;border:1px solid rgba(0,0,0,.1);border-radius:25px;font-size:14px;font-weight:normal;line-height:1;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;text-align:left}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-head"]>div>div>input{text-align:right}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:hover{border-color:rgba(0,0,0,.1)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input:focus{border-color:rgba(0,0,0,.3)}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-failure{border-color:#ff5549}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-head"]>div>div>input.nx-validation-success{border-color:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:inherit;float:left;width:100%;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a{cursor:pointer;font-family:inherit!important;-webkit-transition:all .25s ease-in-out;-o-transition:all .25s ease-in-out;transition:all .25s ease-in-out;float:left;width:48%;padding:9px 5px;border-radius:inherit!important;font-weight:500;font-size:15px;line-height:1.4;color:#f8f8f8;text-align:inherit}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-ok{margin:0 2% 0 0;background:#32c682}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-confirm-button-cancel{margin:0 0 0 2%;background:#a9a9a9}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a.nx-full{margin:0;width:100%}[id^=NotiflixConfirmWrap]>div[class*="-content"]>div[class*="-buttons"]>a:hover{-webkit-box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25);box-shadow:inset 0 -60px 5px -5px rgba(0,0,0,.25)}[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"],[id^=NotiflixConfirmWrap].nx-rtl-on>div[class*="-content"]>div[class*="-buttons"]>a{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade>div[class*="-content"]{-webkit-animation:confirm-animation-fade .3s ease-in-out 0s normal;animation:confirm-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes confirm-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom>div[class*="-content"]{-webkit-animation:confirm-animation-zoom .3s ease-in-out 0s normal;animation:confirm-animation-zoom .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes confirm-animation-zoom{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{opacity:1;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-fade.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-fade-remove .3s ease-in-out 0s normal;animation:confirm-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes confirm-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixConfirmWrap].nx-with-animation.nx-zoom.nx-remove>div[class*="-content"]{opacity:0;-webkit-animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal;animation:confirm-animation-zoom-remove .3s ease-in-out 0s normal}@-webkit-keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes confirm-animation-zoom-remove{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.5;-webkit-transform:scale(1.05);transform:scale(1.05)}100%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}'},V=function(t,n,i,a,o,u,c,l,f){if(!b("body"))return!1;r||Q.Confirm.init({});var p=x(!0,r,{});"object"!=typeof f||Array.isArray(f)||(r=x(!0,r,f)),"string"!=typeof n&&(n="Notiflix Confirm"),"string"!=typeof i&&(i="Do you agree with me?"),"string"!=typeof o&&(o="Yes"),"string"!=typeof u&&(u="No"),"function"!=typeof c&&(c=void 0),"function"!=typeof l&&(l=void 0),r.plainText&&(n=_(n),i=_(i),o=_(o),u=_(u)),r.plainText||(n.length>r.titleMaxLength&&(n="Possible HTML Tags Error",i='The "plainText" option is "false" and the title content length is more than "titleMaxLength" option.',o="Okay",u="..."),i.length>r.messageMaxLength&&(n="Possible HTML Tags Error",i='The "plainText" option is "false" and the message content length is more than "messageMaxLength" option.',o="Okay",u="..."),(o.length||u.length)>r.buttonsMaxLength&&(n="Possible HTML Tags Error",i='The "plainText" option is "false" and the buttons content length is more than "buttonsMaxLength" option.',o="Okay",u="...")),n.length>r.titleMaxLength&&(n=n.substring(0,r.titleMaxLength)+"..."),i.length>r.messageMaxLength&&(i=i.substring(0,r.messageMaxLength)+"..."),o.length>r.buttonsMaxLength&&(o=o.substring(0,r.buttonsMaxLength)+"..."),u.length>r.buttonsMaxLength&&(u=u.substring(0,r.buttonsMaxLength)+"..."),r.cssAnimation||(r.cssAnimationDuration=0);var v=e.document.createElement("div");v.id=d.ID,v.className=r.className+(r.cssAnimation?" nx-with-animation nx-"+r.cssAnimationStyle:""),v.style.zIndex=r.zindex,v.style.padding=r.distance,r.rtl&&(v.setAttribute("dir","rtl"),v.classList.add("nx-rtl-on"));var m="string"==typeof r.position?r.position.trim():"center";v.classList.add("nx-position-"+m),v.style.fontFamily='"'+r.fontFamily+'", '+s;var y="";r.backOverlay&&(y='<div class="'+r.className+"-overlay"+(r.cssAnimation?" nx-with-animation":"")+'" style="background:'+r.backOverlayColor+";animation-duration:"+r.cssAnimationDuration+'ms;"></div>');var g="";"function"==typeof c&&(g='<a id="NXConfirmButtonCancel" class="nx-confirm-button-cancel" style="color:'+r.cancelButtonColor+";background:"+r.cancelButtonBackground+";font-size:"+r.buttonsFontSize+';">'+u+"</a>");var k="",w=null,I=void 0;if(t===h.Ask||t===h.Prompt){w=a||"";var S=t===h.Ask||200<w.length?Math.ceil(1.5*w.length):250;k='<div><input id="NXConfirmValidationInput" type="text" '+(t===h.Prompt?'value="'+w+'"':"")+' maxlength="'+S+'" style="font-size:'+r.messageFontSize+";border-radius: "+r.borderRadius+';" autocomplete="off" spellcheck="false" autocapitalize="none" /></div>'}if(v.innerHTML=y+'<div class="'+r.className+'-content" style="width:'+r.width+"; background:"+r.backgroundColor+"; animation-duration:"+r.cssAnimationDuration+"ms; border-radius: "+r.borderRadius+';"><div class="'+r.className+'-head"><h5 style="color:'+r.titleColor+";font-size:"+r.titleFontSize+';">'+n+'</h5><div style="color:'+r.messageColor+";font-size:"+r.messageFontSize+';">'+i+k+'</div></div><div class="'+r.className+'-buttons"><a id="NXConfirmButtonOk" class="nx-confirm-button-ok'+("function"==typeof c?"":" nx-full")+'" style="color:'+r.okButtonColor+";background:"+r.okButtonBackground+";font-size:"+r.buttonsFontSize+';">'+o+"</a>"+g+"</div></div>",!e.document.getElementById(v.id)){e.document.body.appendChild(v);var E=e.document.getElementById(v.id),T=e.document.getElementById("NXConfirmButtonOk"),N=e.document.getElementById("NXConfirmValidationInput");N&&(N.focus(),N.setSelectionRange(0,(N.value||"").length),N.addEventListener("keyup",(function(e){var n=e.target.value;t===h.Ask&&n!==w?(e.preventDefault(),N.classList.add("nx-validation-failure"),N.classList.remove("nx-validation-success")):(t===h.Ask&&(N.classList.remove("nx-validation-failure"),N.classList.add("nx-validation-success")),("enter"===(e.key||"").toLocaleLowerCase("en")||13===e.keyCode)&&T.dispatchEvent(new Event("click")))}))),T.addEventListener("click",(function(e){if(t===h.Ask&&w&&N){if((N.value||"").toString()!==w)return N.focus(),N.classList.add("nx-validation-failure"),e.stopPropagation(),e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0,!1;N.classList.remove("nx-validation-failure")}"function"==typeof c&&(t===h.Prompt&&N&&(I=N.value||""),c(I)),E.classList.add("nx-remove");var n=setTimeout((function(){null!==E.parentNode&&(E.parentNode.removeChild(E),clearTimeout(n))}),r.cssAnimationDuration)})),"function"==typeof c&&e.document.getElementById("NXConfirmButtonCancel").addEventListener("click",(function(){"function"==typeof l&&(t===h.Prompt&&N&&(I=N.value||""),l(I)),E.classList.add("nx-remove");var e=setTimeout((function(){null!==E.parentNode&&(E.parentNode.removeChild(E),clearTimeout(e))}),r.cssAnimationDuration)}))}r=x(!0,r,p)},B=function(){return'[id^=NotiflixLoadingWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:fixed;z-index:4000;width:100%;height:100%;left:0;top:0;right:0;bottom:0;margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;background:rgba(0,0,0,.8);font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif}[id^=NotiflixLoadingWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixLoadingWrap].nx-loading-click-to-close{cursor:pointer}[id^=NotiflixLoadingWrap]>div[class*="-icon"]{width:60px;height:60px;position:relative;-webkit-transition:top .2s ease-in-out;-o-transition:top .2s ease-in-out;transition:top .2s ease-in-out;margin:0 auto}[id^=NotiflixLoadingWrap]>div[class*="-icon"] img,[id^=NotiflixLoadingWrap]>div[class*="-icon"] svg{max-width:unset;max-height:unset;width:100%;height:auto;position:absolute;left:0;top:0}[id^=NotiflixLoadingWrap]>p{position:relative;margin:10px auto 0;font-family:inherit!important;font-weight:normal;font-size:15px;line-height:1.4;padding:0 10px;width:100%;text-align:center}[id^=NotiflixLoadingWrap].nx-with-animation{-webkit-animation:loading-animation-fade .3s ease-in-out 0s normal;animation:loading-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixLoadingWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:loading-animation-fade-remove .3s ease-in-out 0s normal;animation:loading-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes loading-animation-fade-remove{0%{opacity:1}100%{opacity:0}}[id^=NotiflixLoadingWrap]>p.nx-loading-message-new{-webkit-animation:loading-new-message-fade .3s ease-in-out 0s normal;animation:loading-new-message-fade .3s ease-in-out 0s normal}@-webkit-keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}@keyframes loading-new-message-fade{0%{opacity:0}100%{opacity:1}}'},q=function(t,n,r,a,o){if(!b("body"))return!1;i||Q.Loading.init({});var u=x(!0,i,{});if("object"==typeof n&&!Array.isArray(n)||"object"==typeof r&&!Array.isArray(r)){var c={};"object"==typeof n?c=n:"object"==typeof r&&(c=r),i=x(!0,i,c)}var l="";if("string"==typeof n&&0<n.length&&(l=n),a){var f="";0<(l=l.length>i.messageMaxLength?_(l).toString().substring(0,i.messageMaxLength)+"...":_(l).toString()).length&&(f='<p id="'+i.messageID+'" class="nx-loading-message" style="color:'+i.messageColor+";font-size:"+i.messageFontSize+';">'+l+"</p>"),i.cssAnimation||(i.cssAnimationDuration=0);var h="";if(t===p.Standard)h=N(i.svgSize,i.svgColor);else if(t===p.Hourglass)h=C(i.svgSize,i.svgColor);else if(t===p.Circle)h=A(i.svgSize,i.svgColor);else if(t===p.Arrows)h=D(i.svgSize,i.svgColor);else if(t===p.Dots)h=R(i.svgSize,i.svgColor);else if(t===p.Pulse)h=P(i.svgSize,i.svgColor);else if(t===p.Custom&&null!==i.customSvgCode&&null===i.customSvgUrl)h=i.customSvgCode||"";else if(t===p.Custom&&null!==i.customSvgUrl&&null===i.customSvgCode)h='<img class="nx-custom-loading-icon" width="'+i.svgSize+'" height="'+i.svgSize+'" src="'+i.customSvgUrl+'" alt="Notiflix">';else{if(t===p.Custom&&(null===i.customSvgUrl||null===i.customSvgCode))return g('You have to set a static SVG url to "customSvgUrl" option to use Loading Custom.'),!1;h=L(i.svgSize,"#f8f8f8","#32c682")}var d=parseInt((i.svgSize||"").replace(/[^0-9]/g,"")),m=e.innerWidth,y=d>=m?m-40+"px":d+"px",k='<div style="width:'+y+"; height:"+y+';" class="'+i.className+"-icon"+(0<l.length?" nx-with-message":"")+'">'+h+"</div>",w=e.document.createElement("div");w.id=v.ID,w.className=i.className+(i.cssAnimation?" nx-with-animation":"")+(i.clickToClose?" nx-loading-click-to-close":""),w.style.zIndex=i.zindex,w.style.background=i.backgroundColor,w.style.animationDuration=i.cssAnimationDuration+"ms",w.style.fontFamily='"'+i.fontFamily+'", '+s,w.style.display="flex",w.style.flexWrap="wrap",w.style.flexDirection="column",w.style.alignItems="center",w.style.justifyContent="center",i.rtl&&(w.setAttribute("dir","rtl"),w.classList.add("nx-rtl-on")),w.innerHTML=k+f,!e.document.getElementById(w.id)&&(e.document.body.appendChild(w),i.clickToClose)&&e.document.getElementById(w.id).addEventListener("click",(function(){w.classList.add("nx-remove");var e=setTimeout((function(){null!==w.parentNode&&(w.parentNode.removeChild(w),clearTimeout(e))}),i.cssAnimationDuration)}))}else if(e.document.getElementById(v.ID))var I=e.document.getElementById(v.ID),S=setTimeout((function(){I.classList.add("nx-remove");var e=setTimeout((function(){null!==I.parentNode&&(I.parentNode.removeChild(I),clearTimeout(e))}),i.cssAnimationDuration);clearTimeout(S)}),o);i=x(!0,i,u)},W=function(t){"string"!=typeof t&&(t="");var n=e.document.getElementById(v.ID);if(n)if(0<t.length){t=t.length>i.messageMaxLength?_(t).substring(0,i.messageMaxLength)+"...":_(t);var r=n.getElementsByTagName("p")[0];if(r)r.innerHTML=t;else{var a=e.document.createElement("p");a.id=i.messageID,a.className="nx-loading-message nx-loading-message-new",a.style.color=i.messageColor,a.style.fontSize=i.messageFontSize,a.innerHTML=t,n.appendChild(a)}}else g("Where is the new message?")},H=function(){return'[id^=NotiflixBlockWrap]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1000;font-family:"Quicksand",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;background:rgba(255,255,255,.9);text-align:center;animation-duration:.4s;width:100%;height:100%;left:0;top:0;border-radius:inherit;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}[id^=NotiflixBlockWrap] *{-webkit-box-sizing:border-box;box-sizing:border-box}[id^=NotiflixBlockWrap]>span[class*="-icon"]{display:block;width:45px;height:45px;position:relative;margin:0 auto}[id^=NotiflixBlockWrap]>span[class*="-icon"] svg{width:inherit;height:inherit}[id^=NotiflixBlockWrap]>span[class*="-message"]{position:relative;display:block;width:100%;margin:10px auto 0;padding:0 10px;font-family:inherit!important;font-weight:normal;font-size:14px;line-height:1.4}[id^=NotiflixBlockWrap].nx-with-animation{-webkit-animation:block-animation-fade .3s ease-in-out 0s normal;animation:block-animation-fade .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}@keyframes block-animation-fade{0%{opacity:0}100%{opacity:1}}[id^=NotiflixBlockWrap].nx-with-animation.nx-remove{opacity:0;-webkit-animation:block-animation-fade-remove .3s ease-in-out 0s normal;animation:block-animation-fade-remove .3s ease-in-out 0s normal}@-webkit-keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}@keyframes block-animation-fade-remove{0%{opacity:1}100%{opacity:0}}'},K=0,G=function(t,n,r,i,o,u){var c;if(Array.isArray(r)){if(1>r.length)return g("Array of HTMLElements should contains at least one HTMLElement."),!1;c=r}else if(Object.prototype.isPrototypeOf.call(NodeList.prototype,r)){if(1>r.length)return g("NodeListOf<HTMLElement> should contains at least one HTMLElement."),!1;c=Array.prototype.slice.call(r)}else{if("string"!=typeof r||1>(r||"").length||1===(r||"").length&&("#"===(r||"")[0]||"."===(r||"")[0]))return g("The selector parameter must be a string and matches a specified CSS selector(s)."),!1;var l=e.document.querySelectorAll(r);if(1>l.length)return g('You called the "Notiflix.Block..." function with "'+r+'" selector, but there is no such element(s) in the document.'),!1;c=l}a||Q.Block.init({});var f=x(!0,a,{});if("object"==typeof i&&!Array.isArray(i)||"object"==typeof o&&!Array.isArray(o)){var h={};"object"==typeof i?h=i:"object"==typeof o&&(h=o),a=x(!0,a,h)}var d="";"string"==typeof i&&0<i.length&&(d=i),a.cssAnimation||(a.cssAnimationDuration=0);var p=y.className;"string"==typeof a.className&&(p=a.className.trim());var v="number"==typeof a.querySelectorLimit?a.querySelectorLimit:200,w=(c||[]).length>=v?v:c.length,I="nx-block-temporary-position";if(t){for(var S,E=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","html","head","title","script","style","iframe"],T=0;T<w;T++)if(S=c[T]){if(-1<E.indexOf(S.tagName.toLocaleLowerCase("en")))break;var L=S.querySelectorAll("[id^="+y.ID+"]");if(1>L.length){var O="";n&&(O=n===m.Hourglass?C(a.svgSize,a.svgColor):n===m.Circle?A(a.svgSize,a.svgColor):n===m.Arrows?D(a.svgSize,a.svgColor):n===m.Dots?R(a.svgSize,a.svgColor):n===m.Pulse?P(a.svgSize,a.svgColor):N(a.svgSize,a.svgColor));var M='<span class="'+p+'-icon" style="width:'+a.svgSize+";height:"+a.svgSize+';">'+O+"</span>",F="";0<d.length&&(d=d.length>a.messageMaxLength?_(d).substring(0,a.messageMaxLength)+"...":_(d),F='<span style="font-size:'+a.messageFontSize+";color:"+a.messageColor+';" class="'+p+'-message">'+d+"</span>"),K++;var j=e.document.createElement("div");j.id=y.ID+"-"+K,j.className=p+(a.cssAnimation?" nx-with-animation":""),j.style.position=a.position,j.style.zIndex=a.zindex,j.style.background=a.backgroundColor,j.style.animationDuration=a.cssAnimationDuration+"ms",j.style.fontFamily='"'+a.fontFamily+'", '+s,j.style.display="flex",j.style.flexWrap="wrap",j.style.flexDirection="column",j.style.alignItems="center",j.style.justifyContent="center",a.rtl&&(j.setAttribute("dir","rtl"),j.classList.add("nx-rtl-on")),j.innerHTML=M+F;var U=e.getComputedStyle(S).getPropertyValue("position"),z="string"==typeof U?U.toLocaleLowerCase("en"):"relative",V=Math.round(1.25*parseInt(a.svgSize))+40,B="";V>(S.offsetHeight||0)&&(B="min-height:"+V+"px;");var q="";q=S.getAttribute("id")?"#"+S.getAttribute("id"):S.classList[0]?"."+S.classList[0]:(S.tagName||"").toLocaleLowerCase("en");var W="",H=-1>=["absolute","relative","fixed","sticky"].indexOf(z);if(H||0<B.length){if(!b("head"))return!1;H&&(W="position:relative!important;");var G='<style id="Style-'+y.ID+"-"+K+'">'+q+"."+I+"{"+W+B+"}</style>",X=e.document.createRange();X.selectNode(e.document.head);var Y=X.createContextualFragment(G);e.document.head.appendChild(Y),S.classList.add(I)}S.appendChild(j)}}}else var $=function(t){var n=setTimeout((function(){null!==t.parentNode&&t.parentNode.removeChild(t);var r=t.getAttribute("id"),i=e.document.getElementById("Style-"+r);i&&null!==i.parentNode&&i.parentNode.removeChild(i),clearTimeout(n)}),a.cssAnimationDuration)},J=function(e){if(e&&0<e.length)for(var t,n=0;n<e.length;n++)(t=e[n])&&(t.classList.add("nx-remove"),$(t));else k("string"==typeof r?'"Notiflix.Block.remove();" function called with "'+r+'" selector, but this selector does not have a "Block" element to remove.':'"Notiflix.Block.remove();" function called with "'+r+'", but this "Array<HTMLElement>" or "NodeListOf<HTMLElement>" does not have a "Block" element to remove.')},Z=function(e){var t=setTimeout((function(){e.classList.remove(I),clearTimeout(t)}),a.cssAnimationDuration+300)},ee=setTimeout((function(){for(var e,t=0;t<w;t++)(e=c[t])&&(Z(e),L=e.querySelectorAll("[id^="+y.ID+"]"),J(L));clearTimeout(ee)}),u);a=x(!0,a,f)},Q={Notify:{init:function(e){t=x(!0,c,e),w(O,"NotiflixNotifyInternalCSS")},merge:function(e){return t?void(t=x(!0,t,e)):(g("You have to initialize the Notify module before call Merge function."),!1)},success:function(e,t,n){F(u.Success,e,t,n)},failure:function(e,t,n){F(u.Failure,e,t,n)},warning:function(e,t,n){F(u.Warning,e,t,n)},info:function(e,t,n){F(u.Info,e,t,n)}},Report:{init:function(e){n=x(!0,f,e),w(j,"NotiflixReportInternalCSS")},merge:function(e){return n?void(n=x(!0,n,e)):(g("You have to initialize the Report module before call Merge function."),!1)},success:function(e,t,n,r,i){U(l.Success,e,t,n,r,i)},failure:function(e,t,n,r,i){U(l.Failure,e,t,n,r,i)},warning:function(e,t,n,r,i){U(l.Warning,e,t,n,r,i)},info:function(e,t,n,r,i){U(l.Info,e,t,n,r,i)}},Confirm:{init:function(e){r=x(!0,d,e),w(z,"NotiflixConfirmInternalCSS")},merge:function(e){return r?void(r=x(!0,r,e)):(g("You have to initialize the Confirm module before call Merge function."),!1)},show:function(e,t,n,r,i,a,o){V(h.Show,e,t,null,n,r,i,a,o)},ask:function(e,t,n,r,i,a,o,s){V(h.Ask,e,t,n,r,i,a,o,s)},prompt:function(e,t,n,r,i,a,o,s){V(h.Prompt,e,t,n,r,i,a,o,s)}},Loading:{init:function(e){i=x(!0,v,e),w(B,"NotiflixLoadingInternalCSS")},merge:function(e){return i?void(i=x(!0,i,e)):(g("You have to initialize the Loading module before call Merge function."),!1)},standard:function(e,t){q(p.Standard,e,t,!0,0)},hourglass:function(e,t){q(p.Hourglass,e,t,!0,0)},circle:function(e,t){q(p.Circle,e,t,!0,0)},arrows:function(e,t){q(p.Arrows,e,t,!0,0)},dots:function(e,t){q(p.Dots,e,t,!0,0)},pulse:function(e,t){q(p.Pulse,e,t,!0,0)},custom:function(e,t){q(p.Custom,e,t,!0,0)},notiflix:function(e,t){q(p.Notiflix,e,t,!0,0)},remove:function(e){"number"!=typeof e&&(e=0),q(null,null,null,!1,e)},change:function(e){W(e)}},Block:{init:function(e){a=x(!0,y,e),w(H,"NotiflixBlockInternalCSS")},merge:function(e){return a?void(a=x(!0,a,e)):(g('You have to initialize the "Notiflix.Block" module before call Merge function.'),!1)},standard:function(e,t,n){G(!0,m.Standard,e,t,n)},hourglass:function(e,t,n){G(!0,m.Hourglass,e,t,n)},circle:function(e,t,n){G(!0,m.Circle,e,t,n)},arrows:function(e,t,n){G(!0,m.Arrows,e,t,n)},dots:function(e,t,n){G(!0,m.Dots,e,t,n)},pulse:function(e,t,n){G(!0,m.Pulse,e,t,n)},remove:function(e,t){"number"!=typeof t&&(t=0),G(!1,null,e,null,null,t)}}};return"object"==typeof e.Notiflix?x(!0,e.Notiflix,{Notify:Q.Notify,Report:Q.Report,Confirm:Q.Confirm,Loading:Q.Loading,Block:Q.Block}):{Notify:Q.Notify,Report:Q.Report,Confirm:Q.Confirm,Loading:Q.Loading,Block:Q.Block}}(i)}.apply(t,[]),void 0===r||(e.exports=r)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ie)&&(Ce(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(le){Pe=!1}function Oe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,ze={onError:function(e){Me=!0,Fe=e}};function Ve(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Oe.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,It,St,Et=!1,Tt=[],Nt=null,Ct=null,At=null,Dt=new Map,Rt=new Map,Pt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function zt(){Et=!1,null!==Nt&&jt(Nt)&&(Nt=null),null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),Dt.forEach(Ut),Rt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Bt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Vt(Nt,e),null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Xt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return Ct=Mt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Xt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Nn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Dn),Pn=[9,13,27,32],Ln=l&&"CompositionEvent"in window,On=null;l&&"documentMode"in document&&(On=document.documentMode);var Mn=l&&"TextEvent"in window&&!On,Fn=l&&(!Ln||On&&8<On&&11>=On),jn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function Xn(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Hn(t,Gn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Nr=Sr("animationstart"),Cr=Sr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),u(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Lr=Dr[Pr];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Nr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var s=Ar.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Er:case Tr:case Nr:u=yn;break;case Cr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Wn(s))if($n)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Ln&&zn(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ni=Ii(Ti),Ci=Ii(!1),Ai=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(Ci),Si(Ni)}function Li(e,t,n){if(Ni.current!==Ti)throw Error(a(168));Ei(Ni,t),Ei(Ci,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ni.current,Ei(Ni,e),Ei(Ci,Ci.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ci),Si(Ni),Ei(Ni,e)):Si(Ci),Ei(Ci,n)}var ji=null,Ui=!1,zi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!zi&&null!==ji){zi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,zi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Xi=null,Yi=1,$i="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=$i,Gi[Qi++]=Xi,Xi=e;var r=Yi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Yi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Xi;)Xi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ii(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Si(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Na(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function La(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Aa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Va={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(nc(t,e,i,r),Oa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=La(e,a,i))&&(nc(t,e,i,r),Oa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=La(e,i,r))&&(nc(t,e,r,n),Oa(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ri(t)?Ai:Ni.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Va,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Va.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ri(t)?Ai:Ni.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Va.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,s,u,c){var l=O(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Oc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Lc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(O(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Xa(!0),$a=Xa(!1),Ja={},Za=Ii(Ja),eo=Ii(Ja),to=Ii(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ei(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var so=Ii(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function No(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Mu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Mu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Lo.bind(null,n,r,i,t),void 0,null),null===Cu)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Oo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Ca(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return To().memoizedState}function Vo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Xo(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Na(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Na(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Xo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Cu)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Cu.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:$o,useReducer:Co,useRef:zo,useState:function(){return Co(No)},useDebugValue:Xo,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[Co(No)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:Sa,useCallback:Yo,useContext:Sa,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:$o,useReducer:Ao,useRef:zo,useState:function(){return Ao(No)},useDebugValue:Xo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(No)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Hu=r),hs(0,t)},n}function vs(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,La(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?$a(t,null,n,r):Ya(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Ia(t,i),r=Io(e,t,n,r,a,i),n=So(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Is(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Pu,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Pu,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Pu,Ru),Ru|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Pu,Ru),Ru|=r;return ws(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ri(n)?Ai:Ni.current;return a=Di(t,a),Ia(t,i),n=Io(e,t,n,r,a,i),r=So(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ns(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Ia(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Di(t,c=Ri(n)?Ai:Ni.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ci.current||Aa?("function"===typeof l&&(za(t,n,l,r),u=t.memoizedState),(s=Aa||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ma(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Sa(u):u=Di(t,u=Ri(n)?Ai:Ni.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Aa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ci.current||Aa?("function"===typeof d&&(za(t,n,d,r),p=t.memoizedState),(c=Aa||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ws(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ro(e,t.containerInfo)}function Ds(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ps,Ls,Os={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Mc(u,i,0,null),e=Oc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Os,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Oc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Os,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Cu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=$i,Gi[Qi++]=Xi,Yi=e.id,$i=e.overflow,Xi=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Oc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Os,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Vs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,a);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Ks(t),null;case 3:return r=t.stateNode,io(),Si(Ci),Si(Ni),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>Bu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*$e()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=so.current,Ei(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ci),Si(Ni),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,hu(e,t,n),Ys=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(m){Ic(e,e.return,m)}try{nu(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=$e())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(l=Ys)||f,vu(t,e),Ys=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Js=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Xs;var c=Ys;if(Xs=o,(Ys=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?xu(i):null!==u?(u.return=o,Js=u):xu(i);for(;null!==a;)Js=a,ku(a,t,n),a=a.sibling;Js=i,Xs=s,Ys=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bu(e)}}function bu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&iu(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Ic(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ic(t,i,u)}}var a=t.return;try{iu(t)}catch(u){Ic(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){Ic(t,o,u)}}}catch(u){Ic(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _u,Iu=Math.ceil,Su=b.ReactCurrentDispatcher,Eu=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Nu=0,Cu=null,Au=null,Du=0,Ru=0,Pu=Ii(0),Lu=0,Ou=null,Mu=0,Fu=0,ju=0,Uu=null,zu=null,Vu=0,Bu=1/0,qu=null,Wu=!1,Hu=null,Ku=null,Gu=!1,Qu=null,Xu=0,Yu=0,$u=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Nu)?$e():-1!==Ju?Ju:Ju=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Du?Du&-Du:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yu)throw Yu=0,$u=null,Error(a(185));yt(e,n,r),0!==(2&Nu)&&e===Cu||(e===Cu&&(0===(2&Nu)&&(Fu|=n),4===Lu&&sc(e,Du)),rc(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(Bu=$e()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Cu?Du:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),oi((function(){0===(6&Nu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Cu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Nu;Nu|=2;var o=pc();for(Cu===e&&Du===t||(qu=null,Bu=$e()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Su.current=o,Nu=i,null!==Au?t=0:(Cu=null,Du=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ou,hc(e,0),sc(e,r),rc(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ou,hc(e,0),sc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,zu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Vu+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,zu,qu),t);break}wc(e,zu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Iu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,zu,qu),r);break}wc(e,zu,qu);break;default:throw Error(a(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zu,zu=n,null!==t&&oc(t)),e}function oc(e){null===zu?zu=e:zu.push.apply(zu,e)}function sc(e,t){for(t&=~ju,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Nu))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ou,hc(e,0),sc(e,t),rc(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zu,qu),rc(e,$e()),null}function cc(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(Bu=$e()+500,Ui&&Bi())}}function lc(e){null!==Qu&&0===Qu.tag&&0===(6&Nu)&&xc();var t=Nu;Nu|=1;var n=Tu.transition,r=kt;try{if(Tu.transition=null,kt=1,e)return e()}finally{kt=r,Tu.transition=n,0===(6&(Nu=t))&&Bi()}}function fc(){Ru=Pu.current,Si(Pu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Si(Ci),Si(Ni),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Cu=e,Au=e=Pc(e.current,null),Du=Ru=t,Lu=0,Ou=null,ju=Fu=Mu=0,zu=Uu=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Au;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Eu.current=null,null===n||null===n.return){Lu=1,Ou=t,Au=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Du,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Lu&&(Lu=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pc(){var e=Su.current;return Su.current=os,null===e?os:e}function vc(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Cu||0===(268435455&Mu)&&0===(268435455&Fu)||sc(Cu,Du)}function mc(e,t){var n=Nu;Nu|=2;var r=pc();for(Cu===e&&Du===t||(qu=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Nu=n,Su.current=r,null!==Au)throw Error(a(261));return Cu=null,Du=0,Lu}function yc(){for(;null!==Au;)kc(Au)}function gc(){for(;null!==Au&&!Xe();)kc(Au)}function kc(e){var t=_u(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?bc(e):Au=t,Eu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ru)))return void(Au=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Lu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Lu&&(Lu=5)}function wc(e,t,n){var r=kt,i=Tu.transition;try{Tu.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Qu);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Cu&&(Au=Cu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Cc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=kt;kt=1;var u=Nu;Nu|=4,Eu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),mu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Ye(),Nu=u,kt=s,Tu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,Xu=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Hu,Hu=null,e;0!==(1&Xu)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===$u?Yu++:(Yu=0,$u=e):Yu=0,Bi()}(e,t,n,r)}finally{Tu.transition=i,kt=r}return null}function xc(){if(null!==Qu){var e=bt(Xu),t=Tu.transition,n=kt;try{if(Tu.transition=null,kt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Xu=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var k=e.current;for(Js=k;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=k;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){Ic(u,u.return,x)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Nu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Tu.transition=t}}return!1}function _c(e,t,n){e=La(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=La(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Cu===e&&(Du&n)===n&&(4===Lu||3===Lu&&(130023424&Du)===Du&&500>$e()-Vu?hc(e,0):ju|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ca(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Cc(e,t){return Ge(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Oc(n.children,i,o,t);case I:s=8,i|=8;break;case S:return(e=Dc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case C:return(e=Dc(13,n,t,i)).elementType=C,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case N:s=11;break e;case D:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,La(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=La(i,t,o))&&(nc(e,i,o,a),Oa(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:As(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ei(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ei(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Di(t,Ni.current);Ia(t,n),i=Io(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Va,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(As(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ds(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ei(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ia(t,n),r=r(i=Sa(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_s(e,t,r,i=ma(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qs(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ia(t,n),qa(t,r,i),Ha(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Yc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,$e()),0===(6&Nu)&&(Bu=$e()+500,Bi()))}break;case 13:lc((function(){var t=Ca(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ca(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=cc,Ce=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+N(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+N(s=e[c],c);u+=C(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=a+N(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(x);else{var t=r(l);null!==t&&L(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&L(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,N=-1;function C(){return!(t.unstable_now()-N<T)}function A(){if(null!==S){var e=t.unstable_now();N=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=A,_=function(){R.postMessage(null)}}else _=function(){y(A,0)};function P(e){S=e,I||(I=!0,_())}function L(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,L(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,P(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return it},SDK_VERSION:function(){return bn},_DEFAULT_ENTRY_NAME:function(){return sn},_addComponent:function(){return fn},_addOrOverwriteComponent:function(){return hn},_apps:function(){return cn},_clearComponents:function(){return mn},_components:function(){return ln},_getProvider:function(){return pn},_registerComponent:function(){return dn},_removeServiceInstance:function(){return vn},deleteApp:function(){return In},getApp:function(){return xn},getApps:function(){return _n},initializeApp:function(){return wn},onLog:function(){return Tn},registerVersion:function(){return En},setLogLevel:function(){return Nn}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function c(e){return function(e){if(Array.isArray(e))return o(e)}(e)||s(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function b(e){var t=m();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function w(e){if(Array.isArray(e))return e}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){return w(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||u(e,t)||x()}function I(e,t,n){return I=m()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},I.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},S(e)}function E(e){return w(e)||s(e)||u(e)||x()}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var C,A="popstate";function D(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e){return{usr:e.state,key:e.key}}function P(e,t,n,r){return void 0===n&&(n=null),N({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?O(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function O(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(e){var t="undefined"!==typeof window&&"undefined"!==typeof window.location&&"null"!==window.location.origin?window.location.origin:window.location.href,n="string"===typeof e?e:L(e);return D(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}function F(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null;function d(){f=t.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(A,d),h=e,function(){s.removeEventListener(A,d),h=null}},createHref:function(e){return n(s,e)},encodeLocation:function(e){var t=M("string"===typeof e?e:L(e));return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=P(p.location,e,n);r&&r(i,e);var a=R(i),o=p.createHref(i);try{l.pushState(a,"",o)}catch(u){s.location.assign(o)}c&&h&&h({action:f,location:p.location})},replace:function(e,n){f=t.Replace;var i=P(p.location,e,n);r&&r(i,e);var a=R(i),o=p.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:p.location})},go:function(e){return l.go(e)}};return p}function j(e,t,n){void 0===n&&(n="/");var r=G(("string"===typeof t?O(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=W(i[o],K(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(D(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=J([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(D(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:q(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=T(z(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function z(e){var t=e.split("/");if(0===t.length)return[];var n=E(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=z(i.join("/")),u=[];return u.push.apply(u,c(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,c(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));var V=/^:\w+$/,B=function(e){return"*"===e};function q(e,t){var n=e.split("/"),r=n.length;return n.some(B)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!B(e)})).reduce((function(e,t){return e+(V.test(t)?3:""===t?1:10)}),r)}function W(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=H({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:J([i,l.pathname]),pathnameBase:Z(J([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=J([i,l.pathnameBase]))}return a}function H(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Q("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=_(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Q(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function K(e){try{return decodeURI(e)}catch(t){return Q(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function G(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Q(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Y(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function $(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=O(e):(D(!(i=N({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),D(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),D(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?O(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ee(a),hash:te(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var J=function(e){return e.join("/").replace(/\/\/+/g,"/")},Z=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ee=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},te=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ne=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(S(Error));var re=h((function e(t,n,r,i){l(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function ie(e){return e instanceof re}var ae=["post","put","patch","delete"],oe=(new Set(ae),["get"].concat(ae));new Set(oe),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var ue="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ce=r.useState,le=r.useEffect,fe=r.useLayoutEffect,he=r.useDebugValue;function de(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ue(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext(null);var ye=r.createContext(null);var ge=r.createContext(null);var ke=r.createContext(null);var be=r.createContext({outlet:null,matches:[]});var we=r.createContext(null);function xe(){return null!=r.useContext(ke)}function _e(){return xe()||D(!1),r.useContext(ke).location}function Ie(){xe()||D(!1);var e=r.useContext(ge),t=e.basename,n=e.navigator,i=r.useContext(be).matches,a=_e().pathname,o=JSON.stringify(Y(i).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);r.useEffect((function(){s.current=!0}));var u=r.useCallback((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=$(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:J([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return u}function Se(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(be).matches,a=_e().pathname,o=JSON.stringify(Y(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return $(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Ee(){var e=function(){var e,t=r.useContext(we),n=Re(Ne.UseRouteError),i=r.useContext(be),a=i.matches[i.matches.length-1];if(t)return t;return i||D(!1),!a.route.id&&D(!1),null==(e=n.errors)?void 0:e[a.route.id]}(),t=ie(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:o},"errorElement")," props on\xa0",r.createElement("code",{style:o},"<Route>")))}var Te,Ne,Ce=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return h(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(we.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Ae(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(pe);return a&&n.route.errorElement&&(a._deepestRenderedBoundaryId=n.route.id),r.createElement(be.Provider,{value:t},i)}function De(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||D(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=n?o.route.errorElement||r.createElement(Ee,null):null,l=function(){return r.createElement(Ae,{match:o,routeContext:{outlet:e,matches:t.concat(i.slice(0,s+1))}},u?c:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===s)?r.createElement(Ce,{location:n.location,component:c,error:u,children:l()}):l()}),null)}function Re(e){var t=r.useContext(me);return t||D(!1),t}!function(e){e.UseRevalidator="useRevalidator"}(Te||(Te={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ne||(Ne={}));var Pe;function Le(e){var t=e.to,n=e.replace,i=e.state,a=e.relative;xe()||D(!1);var o=r.useContext(me),s=Ie();return r.useEffect((function(){o&&"idle"!==o.navigation.state||s(t,{replace:n,state:i,relative:a})})),null}function Oe(e){D(!1)}function Me(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;xe()&&D(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=O(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,_=void 0===x?null:x,I=v.key,S=void 0===I?"default":I,E=r.useMemo((function(){var e=G(y,d);return null==e?null:{pathname:e,search:k,hash:w,state:_,key:S}}),[d,y,k,w,_,S]);return null==E?null:r.createElement(ge.Provider,{value:p},r.createElement(ke.Provider,{children:o,value:{location:E,navigationType:c}}))}function Fe(e){var n=e.children,i=e.location,a=r.useContext(ve);return function(e,n){xe()||D(!1);var i,a=r.useContext(ge).navigator,o=r.useContext(me),s=r.useContext(be).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,_e());if(n){var h,d="string"===typeof n?O(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||D(!1),i=d}else i=f;var p=i.pathname||"/",v=j(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=De(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:J([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return n&&m?r.createElement(ke.Provider,{value:{location:se({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Ue(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Pe||(Pe={}));var je=new Promise((function(){}));r.Component;function Ue(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Oe&&D(!1),e.props.index&&e.props.children&&D(!1);var a=[].concat(c(t),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Ue(e.props.children,a)),n.push(o)}else n.push.apply(n,Ue(e.props.children,t))})),n}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ve(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},qe=function(e){return function(e){var t=Ve(e);return Be.encodeByteArray(t,!0)}(e).replace(/\./g,"")},We=function(e){try{return Be.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function He(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=He(e[n],t[n]));return e}function Ke(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ge(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Qe(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Xe(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ye(){var e=Ke();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $e(){try{return"object"===typeof indexedDB}catch(e){return!1}}function Je(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var Ze=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},et=function(){try{return Ze()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/setmenu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&We(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},tt=function(){var e;return null===(e=et())||void 0===e?void 0:e.config},nt=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return h(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function rt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[qe(JSON.stringify({alg:"none",type:"JWT"})),qe(JSON.stringify(a)),""].join(".")}var it=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(g(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(g(a),at.prototype.create),a}return h(n)}(S(Error)),at=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return h(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ot(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new it(n,a,t);return o}}]),e}();function ot(e,t){return e.replace(st,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var st=/\{\$([^}]+)}/g;function ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ct(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(lt(s)&&lt(u)){if(!ct(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function lt(e){return null!==e&&"object"===typeof e}function ft(e){for(var t=[],n=function(){var e=_(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ht(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=_(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function dt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function pt(e,t){var n=new vt(e,t);return n.subscribe.bind(n)}var vt=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return h(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=mt),void 0===r.error&&(r.error=mt),void 0===r.complete&&(r.complete=mt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function mt(){}var yt=144e5;function gt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(yt,r+i)}function kt(e){return e&&e._delegate?e._delegate:e}function bt(){bt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};u(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&n.call(g,a)&&(v=g);var k=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==y(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return d.prototype=p,r(k,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function wt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function xt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){wt(a,r,i,o,s,"next",e)}function s(e){wt(a,r,i,o,s,"throw",e)}o(void 0)}))}}var _t=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return h(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),It="[DEFAULT]",St=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return h(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new nt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:It})}catch(u){}var t,n=T(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=_(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(c(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),c(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=T(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=_(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(gy){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===It?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(gy){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It;return this.component?this.component.multipleInstances?e:It:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Et,Tt,Nt=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return h(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new St(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Ct=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Tt||(Tt={}));var At={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},Dt=Tt.INFO,Rt=(ze(Et={},Tt.DEBUG,"log"),ze(Et,Tt.VERBOSE,"log"),ze(Et,Tt.INFO,"info"),ze(Et,Tt.WARN,"warn"),ze(Et,Tt.ERROR,"error"),Et),Pt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Rt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Lt=function(){function e(t){l(this,e),this.name=t,this._logLevel=Dt,this._logHandler=Pt,this._userLogHandler=null,Ct.push(this)}return h(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Tt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?At[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Tt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Tt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tt.INFO].concat(t)),this._logHandler.apply(this,[this,Tt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tt.WARN].concat(t)),this._logHandler.apply(this,[this,Tt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Tt.ERROR].concat(t)),this._logHandler.apply(this,[this,Tt.ERROR].concat(t))}}]),e}();function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft,jt;var Ut=new WeakMap,zt=new WeakMap,Vt=new WeakMap,Bt=new WeakMap,qt=new WeakMap;var Wt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Vt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ht(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(jt||(jt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Qt(this),n),Gt(Ut.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gt(e.apply(Qt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Qt(this),t].concat(r));return Vt.set(a,t.sort?t.sort():[t]),Gt(a)}}function Kt(e){return"function"===typeof e?Ht(e):(e instanceof IDBTransaction&&function(e){if(!zt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));zt.set(e,t)}}(e),t=e,(Ft||(Ft=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Wt):e);var t}function Gt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Gt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ut.set(t,e)})).catch((function(){})),qt.set(t,e),t}(e);if(Bt.has(e))return Bt.get(e);var t=Kt(e);return t!==e&&(Bt.set(e,t),qt.set(t,e)),t}var Qt=function(e){return qt.get(e)};function Xt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Gt(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Gt(s.result),e.oldVersion,e.newVersion,Gt(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}var Yt,$t,Jt=["get","getKey","getAll","getAllKeys","count"],Zt=["put","add","delete","clear"],en=new Map;function tn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(en.get(t))return en.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Zt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Jt.includes(n))){var a=function(){var e=xt(bt().mark((function e(t){var a,o,s,u,c,l,f=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return en.set(t,a),a}}}Wt=function(e){return Mt(Mt({},e),{},{get:function(t,n,r){return tn(t,n)||e.get(t,n,r)},has:function(t,n){return!!tn(t,n)||e.has(t,n)}})}(Wt);var nn=function(){function e(t){l(this,e),this.container=t}return h(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var rn="@firebase/app",an="0.9.0",on=new Lt("@firebase/app"),sn="[DEFAULT]",un=(ze(Yt={},rn,"fire-core"),ze(Yt,"@firebase/app-compat","fire-core-compat"),ze(Yt,"@firebase/analytics","fire-analytics"),ze(Yt,"@firebase/analytics-compat","fire-analytics-compat"),ze(Yt,"@firebase/app-check","fire-app-check"),ze(Yt,"@firebase/app-check-compat","fire-app-check-compat"),ze(Yt,"@firebase/auth","fire-auth"),ze(Yt,"@firebase/auth-compat","fire-auth-compat"),ze(Yt,"@firebase/database","fire-rtdb"),ze(Yt,"@firebase/database-compat","fire-rtdb-compat"),ze(Yt,"@firebase/functions","fire-fn"),ze(Yt,"@firebase/functions-compat","fire-fn-compat"),ze(Yt,"@firebase/installations","fire-iid"),ze(Yt,"@firebase/installations-compat","fire-iid-compat"),ze(Yt,"@firebase/messaging","fire-fcm"),ze(Yt,"@firebase/messaging-compat","fire-fcm-compat"),ze(Yt,"@firebase/performance","fire-perf"),ze(Yt,"@firebase/performance-compat","fire-perf-compat"),ze(Yt,"@firebase/remote-config","fire-rc"),ze(Yt,"@firebase/remote-config-compat","fire-rc-compat"),ze(Yt,"@firebase/storage","fire-gcs"),ze(Yt,"@firebase/storage-compat","fire-gcs-compat"),ze(Yt,"@firebase/firestore","fire-fst"),ze(Yt,"@firebase/firestore-compat","fire-fst-compat"),ze(Yt,"fire-js","fire-js"),ze(Yt,"firebase","fire-js-all"),Yt),cn=new Map,ln=new Map;function fn(e,t){try{e.container.addComponent(t)}catch(n){on.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function hn(e,t){e.container.addOrOverwriteComponent(t)}function dn(e){var t=e.name;if(ln.has(t))return on.debug("There were multiple attempts to register component ".concat(t,".")),!1;ln.set(t,e);var n,r=T(cn.values());try{for(r.s();!(n=r.n()).done;){fn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function pn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function vn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sn;pn(e,t).clearInstance(n)}function mn(){ln.clear()}var yn=(ze($t={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ze($t,"bad-app-name","Illegal App name: '{$appName}"),ze($t,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ze($t,"app-deleted","Firebase App named '{$appName}' already deleted"),ze($t,"no-options","Need to provide options, when not being deployed to hosting via source."),ze($t,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ze($t,"invalid-log-argument","First argument to `onLog` must be null or a function."),ze($t,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ze($t,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ze($t,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ze($t,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),$t),gn=new at("app","Firebase",yn),kn=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _t("app",(function(){return i}),"PUBLIC"))}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}]),e}(),bn="9.15.0";function wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:sn,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw gn.create("bad-app-name",{appName:String(a)});if(n||(n=tt()),!n)throw gn.create("no-options");var o=cn.get(a);if(o){if(ct(n,o.options)&&ct(i,o.config))return o;throw gn.create("duplicate-app",{appName:a})}var s,u=new Nt(a),c=T(ln.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new kn(n,i,u);return cn.set(a,f),f}function xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=cn.get(e);if(!t&&e===sn)return wn();if(!t)throw gn.create("no-app",{appName:e});return t}function _n(){return Array.from(cn.values())}function In(e){return Sn.apply(this,arguments)}function Sn(){return Sn=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!cn.has(n)){e.next=6;break}return cn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Sn.apply(this,arguments)}function En(e,t,n){var r,i=null!==(r=un[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void on.warn(s.join(" "))}dn(new _t("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Tn(e,t){if(null!==e&&"function"!==typeof e)throw gn.create("invalid-log-argument");!function(e,t){var n,r=T(Ct);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=At[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Tt[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Nn(e){var t;t=e,Ct.forEach((function(e){e.setLogLevel(t)}))}var Cn="firebase-heartbeat-store",An=null;function Dn(){return An||(An=Xt("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Cn)}}).catch((function(e){throw gn.create("idb-open",{originalErrorMessage:e.message})}))),An}function Rn(e){return Pn.apply(this,arguments)}function Pn(){return Pn=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dn();case 3:return n=e.sent,e.abrupt("return",n.transaction(Cn).objectStore(Cn).get(Mn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof it?on.warn(e.t0.message):(r=gn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),on.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Pn.apply(this,arguments)}function Ln(e,t){return On.apply(this,arguments)}function On(){return On=xt(bt().mark((function e(t,n){var r,i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dn();case 3:return r=e.sent,i=r.transaction(Cn,"readwrite"),a=i.objectStore(Cn),e.next=8,a.put(n,Mn(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof it?on.warn(e.t0.message):(o=gn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),on.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),On.apply(this,arguments)}function Mn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Fn=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Bn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return h(e,[{key:"triggerHeartbeat",value:function(){var e=xt(bt().mark((function e(){var t,n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=jn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=xt(bt().mark((function e(){var t,n,r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=jn(),n=Un(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=qe(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function jn(){return(new Date).toISOString().substring(0,10)}function Un(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=T(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),qn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),qn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var zn,Vn,Bn=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return h(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($e()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Je().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Rn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ln(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ln(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(c(r.heartbeats),c(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function qn(e){return qe(JSON.stringify({version:2,heartbeats:e})).length}zn="",dn(new _t("platform-logger",(function(e){return new nn(e)}),"PRIVATE")),dn(new _t("heartbeat",(function(e){return new Fn(e)}),"PRIVATE")),En(rn,an,zn),En(rn,an,"esm2017"),En("fire-js","");var Wn=function(){function e(t,n){var r=this;l(this,e),this._delegate=t,this.firebase=n,fn(t,new _t("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),In(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){fn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){hn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Hn=(ze(Vn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ze(Vn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Vn),Kn=new at("app-compat","Firebase",Hn);var Gn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=wn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ut(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:En,setLogLevel:Nn,onLog:Tn,apps:null,SDK_VERSION:bn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(dn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Kn.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&He(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ut(n,e=e||sn))throw Kn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Wn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){He(n,e)},createSubscribe:pt,ErrorFactory:at,deepExtend:He}),n}(),Qn=new Lt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Qn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Xn=self.firebase.SDK_VERSION;Xn&&Xn.indexOf("LITE")>=0&&Qn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Yn=Gn;!function(e){En("@firebase/app-compat","0.2.0",e)}();function $n(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function Jn(){return Jn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=$n(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Jn.apply(this,arguments)}Yn.registerVersion("firebase","9.15.0","app-compat");var Zn,er="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},tr={},nr=nr||{},rr=er||self;function ir(){}function ar(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function or(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var sr="closure_uid_"+(1e9*Math.random()>>>0),ur=0;function cr(e,t,n){return e.call.apply(e.bind,arguments)}function lr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function fr(e,t,n){return(fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cr:lr).apply(null,arguments)}function hr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function dr(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function pr(){this.s=this.s,this.o=this.o}pr.prototype.s=!1,pr.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,sr)&&e[sr]||(e[sr]=++ur))},pr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var vr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function mr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function yr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ar(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function gr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}gr.prototype.h=function(){this.defaultPrevented=!0};var kr=function(){if(!rr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{rr.addEventListener("test",ir,t),rr.removeEventListener("test",ir,t)}catch(n){}return e}();function br(e){return/^[\s\xa0]*$/.test(e)}var wr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function xr(e,t){return e<t?-1:e>t?1:0}function _r(){var e=rr.navigator;return e&&(e=e.userAgent)?e:""}function Ir(e){return-1!=_r().indexOf(e)}function Sr(e){return Sr[" "](e),e}Sr[" "]=ir;var Er,Tr=Ir("Opera"),Nr=Ir("Trident")||Ir("MSIE"),Cr=Ir("Edge"),Ar=Cr||Nr,Dr=Ir("Gecko")&&!(-1!=_r().toLowerCase().indexOf("webkit")&&!Ir("Edge"))&&!(Ir("Trident")||Ir("MSIE"))&&!Ir("Edge"),Rr=-1!=_r().toLowerCase().indexOf("webkit")&&!Ir("Edge");function Pr(){var e=rr.document;return e?e.documentMode:void 0}e:{var Lr="",Or=function(){var e=_r();return Dr?/rv:([^\);]+)(\)|;)/.exec(e):Cr?/Edge\/([\d\.]+)/.exec(e):Nr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rr?/WebKit\/(\S+)/.exec(e):Tr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Or&&(Lr=Or?Or[1]:""),Nr){var Mr=Pr();if(null!=Mr&&Mr>parseFloat(Lr)){Er=String(Mr);break e}}Er=Lr}var Fr,jr={};function Ur(){return function(e){var t=jr;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=wr(String(Er)).split("."),n=wr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=xr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||xr(0==a[2].length,0==o[2].length)||xr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(rr.document&&Nr){var zr=Pr();Fr=zr||(parseInt(Er,10)||void 0)}else Fr=void 0;var Vr=Fr;function Br(e,t){if(gr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Dr){e:{try{Sr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:qr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Br.X.h.call(this)}}dr(Br,gr);var qr={2:"touch",3:"pen",4:"mouse"};Br.prototype.h=function(){Br.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Wr="closure_listenable_"+(1e6*Math.random()|0),Hr=0;function Kr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++Hr,this.ba=this.ea=!1}function Gr(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Qr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Xr(e){var t={};for(var n in e)t[n]=e[n];return t}var Yr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $r(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Yr.length;a++)n=Yr[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Jr(e){this.src=e,this.g={},this.h=0}function Zr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=vr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Gr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ei(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Jr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ei(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Kr(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var ti="closure_lm_"+(1e6*Math.random()|0),ni={};function ri(e,t,n,r,i){if(r&&r.once)return ai(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ri(e,t[a],n,r,i);return null}return n=hi(n),e&&e[Wr]?e.N(t,n,or(r)?!!r.capture:!!r,i):ii(e,t,n,!1,r,i)}function ii(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=or(i)?!!i.capture:!!i,s=li(e);if(s||(e[ti]=s=new Jr(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ci;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)kr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ui(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ai(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ai(e,t[a],n,r,i);return null}return n=hi(n),e&&e[Wr]?e.O(t,n,or(r)?!!r.capture:!!r,i):ii(e,t,n,!0,r,i)}function oi(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)oi(e,t[a],n,r,i);else r=or(r)?!!r.capture:!!r,n=hi(n),e&&e[Wr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ei(a=e.g[t],n,r,i))&&(Gr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=li(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ei(t,n,r,i)),(n=-1<e?t[e]:null)&&si(n))}function si(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Wr])Zr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ui(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=li(t))?(Zr(n,e),0==n.h&&(n.src=null,t[ti]=null)):Gr(e)}}}function ui(e){return e in ni?ni[e]:ni[e]="on"+e}function ci(e,t){if(e.ba)e=!0;else{t=new Br(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&si(e),e=n.call(r,t)}return e}function li(e){return(e=e[ti])instanceof Jr?e:null}var fi="__closure_events_fn_"+(1e9*Math.random()>>>0);function hi(e){return"function"===typeof e?e:(e[fi]||(e[fi]=function(t){return e.handleEvent(t)}),e[fi])}function di(){pr.call(this),this.i=new Jr(this),this.P=this,this.I=null}function pi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new gr(t,e);else if(t instanceof gr)t.target=t.target||e;else{var i=t;$r(t=new gr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=vi(o,r,!0,t)&&i}if(i=vi(o=t.g=e,r,!0,t)&&i,i=vi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=vi(o=t.g=n[a],r,!1,t)&&i}function vi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&Zr(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}dr(di,pr),di.prototype[Wr]=!0,di.prototype.removeEventListener=function(e,t,n,r){oi(this,e,t,n,r)},di.prototype.M=function(){if(di.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gr(n[r]);delete t.g[e],t.h--}}this.I=null},di.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},di.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var mi=rr.JSON.stringify;function yi(){var e=Si,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var gi,ki=function(){function e(){l(this,e),this.h=this.g=null}return h(e,[{key:"add",value:function(e,t){var n=bi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),bi=new(function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return h(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new wi}),(function(e){return e.reset()})),wi=function(){function e(){l(this,e),this.next=this.g=this.h=null}return h(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function xi(e){rr.setTimeout((function(){throw e}),0)}function _i(e,t){gi||function(){var e=rr.Promise.resolve(void 0);gi=function(){e.then(Ei)}}(),Ii||(gi(),Ii=!0),Si.add(e,t)}var Ii=!1,Si=new ki;function Ei(){for(var e;e=yi();){try{e.h.call(e.g)}catch(n){xi(n)}var t=bi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ii=!1}function Ti(e,t){di.call(this),this.h=e||1,this.g=t||rr,this.j=fr(this.lb,this),this.l=Date.now()}function Ni(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Ci(e,t,n){if("function"===typeof e)n&&(e=fr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=fr(e.handleEvent,e)}return 2147483647<Number(t)?-1:rr.setTimeout(e,t||0)}function Ai(e){e.g=Ci((function(){e.g=null,e.i&&(e.i=!1,Ai(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}dr(Ti,di),(Zn=Ti.prototype).ca=!1,Zn.R=null,Zn.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),pi(this,"tick"),this.ca&&(Ni(this),this.start()))}},Zn.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Zn.M=function(){Ti.X.M.call(this),Ni(this),delete this.g};var Di=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return h(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ai(this)}},{key:"M",value:function(){Jn(v(n.prototype),"M",this).call(this),this.g&&(rr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(pr);function Ri(e){pr.call(this),this.h=e,this.g={}}dr(Ri,pr);var Pi=[];function Li(e,t,n,r){Array.isArray(n)||(n&&(Pi[0]=n.toString()),n=Pi);for(var i=0;i<n.length;i++){var a=ri(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Oi(e){Qr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&si(e)}),e),e.g={}}function Mi(){this.g=!0}function Fi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return mi(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ri.prototype.M=function(){Ri.X.M.call(this),Oi(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mi.prototype.Aa=function(){this.g=!1},Mi.prototype.info=function(){};var ji={},Ui=null;function zi(){return Ui=Ui||new di}function Vi(e){gr.call(this,ji.Pa,e)}function Bi(e){var t=zi();pi(t,new Vi(t))}function qi(e,t){gr.call(this,ji.STAT_EVENT,e),this.stat=t}function Wi(e){var t=zi();pi(t,new qi(t,e))}function Hi(e,t){gr.call(this,ji.Qa,e),this.size=t}function Ki(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return rr.setTimeout((function(){e()}),t)}ji.Pa="serverreachability",dr(Vi,gr),ji.STAT_EVENT="statevent",dr(qi,gr),ji.Qa="timingevent",dr(Hi,gr);var Gi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Qi={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Xi(){}function Yi(e){return e.h||(e.h=e.i())}function $i(){}Xi.prototype.h=null;var Ji,Zi={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ea(){gr.call(this,"d")}function ta(){gr.call(this,"c")}function na(){}function ra(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Ri(this),this.O=aa,e=Ar?125:void 0,this.T=new Ti(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ia}function ia(){this.i=null,this.g="",this.h=!1}dr(ea,gr),dr(ta,gr),dr(na,Xi),na.prototype.g=function(){return new XMLHttpRequest},na.prototype.i=function(){return{}},Ji=new na;var aa=45e3,oa={},sa={};function ua(e,t,n){e.K=1,e.v=Ta(xa(t)),e.s=n,e.P=!0,ca(e,null)}function ca(e,t){e.F=Date.now(),da(e),e.A=xa(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),za(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ia,e.g=Bo(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Di(fr(e.La,e,e.g),e.N)),Li(e.S,e.g,"readystatechange",e.ib),t=e.H?Xr(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Bi(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function la(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function fa(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ha(e,n))==sa){4==t&&(e.o=4,Wi(14),i=!1),Fi(e.j,e.m,null,"[Incomplete Response]");break}if(r==oa){e.o=4,Wi(15),Fi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Fi(e.j,e.m,r,null),ga(e,r)}la(e)&&r!=sa&&r!=oa&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Wi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lo(t),t.K=!0,Wi(11))):(Fi(e.j,e.m,n,"[Invalid Chunked Response]"),ya(e),ma(e))}function ha(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?sa:(n=Number(t.substring(n,r)),isNaN(n)?oa:(r+=1)+n>t.length?sa:(t=t.substr(r,n),e.C=r+n,t))}function da(e){e.V=Date.now()+e.O,pa(e,e.O)}function pa(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ki(fr(e.gb,e),t)}function va(e){e.B&&(rr.clearTimeout(e.B),e.B=null)}function ma(e){0==e.l.G||e.I||Fo(e.l,e)}function ya(e){va(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ni(e.T),Oi(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ga(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Qa(n.h,e)))if(!e.J&&Qa(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Mo(n),Eo(n)}Po(n),Wi(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Ki(fr(n.cb,n),6e3));if(1>=Ga(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else Uo(n,11)}else if((e.J||n.g==e)&&Mo(n),!br(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Xa(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Ea(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Vo(r,r.H?r.ka:null,r.V),d.J){Ya(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(va(p),da(p)),r.g=d}else Ro(r);0<n.i.length&&No(n)}else"stop"!=a[0]&&"close"!=a[0]||Uo(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Uo(n,7):So(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Bi()}catch(a){}}function ka(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ar(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ar(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ar(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Zn=ra.prototype).setTimeout=function(e){this.O=e},Zn.ib=function(e){e=e.target;var t=this.L;t&&3==ko(e)?t.l():this.La(e)},Zn.La=function(e){try{if(e==this.g)e:{var t=ko(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||Ar||this.g&&(this.h.h||this.g.fa()||bo(this.g)))){this.I||4!=t||7==n||Bi(),va(this);var r=this.g.aa();this.Y=r;t:if(la(this)){var i=bo(this.g);e="";var a=i.length,o=4==ko(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){ya(this),ma(this);var s="";break t}this.h.i=new rr.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!br(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Wi(12),ya(this),ma(this);break e}Fi(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ga(this,r)}this.P?(fa(this,t,s),Ar&&this.i&&3==t&&(Li(this.S,this.T,"tick",this.hb),this.T.start())):(Fi(this.j,this.m,s,null),ga(this,s)),4==t&&ya(this),this.i&&!this.I&&(4==t?Fo(this.l,this):(this.i=!1,da(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Wi(12)):(this.o=0,Wi(13)),ya(this),ma(this)}}}catch(t){}},Zn.hb=function(){if(this.g){var e=ko(this.g),t=this.g.fa();this.C<t.length&&(va(this),fa(this,e,t),this.i&&4!=e&&da(this))}},Zn.cancel=function(){this.I=!0,ya(this)},Zn.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Bi(),Wi(17)),ya(this),this.o=2,ma(this)):pa(this,this.V-e)};var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof wa){this.h=void 0!==t?t:e.h,_a(this,e.j),this.s=e.s,this.g=e.g,Ia(this,e.m),this.l=e.l,t=e.i;var n=new Ma;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Sa(this,n),this.o=e.o}else e&&(n=String(e).match(ba))?(this.h=!!t,_a(this,n[1]||"",!0),this.s=Na(n[2]||""),this.g=Na(n[3]||"",!0),Ia(this,n[4]),this.l=Na(n[5]||"",!0),Sa(this,n[6]||"",!0),this.o=Na(n[7]||"")):(this.h=!!t,this.i=new Ma(null,this.h))}function xa(e){return new wa(e)}function _a(e,t,n){e.j=n?Na(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ia(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Sa(e,t,n){t instanceof Ma?(e.i=t,function(e,t){t&&!e.j&&(Fa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ja(this,t),za(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ca(t,La)),e.i=new Ma(t,e.h))}function Ea(e,t,n){e.i.set(t,n)}function Ta(e){return Ea(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Na(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ca(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Aa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Aa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}wa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ca(t,Da,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ca(t,Da,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ca(n,"/"==n.charAt(0)?Pa:Ra,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ca(n,Oa)),e.join("")};var Da=/[#\/\?@]/g,Ra=/[#\?:]/g,Pa=/[#\?]/g,La=/[#\?@]/g,Oa=/#/g;function Ma(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Fa(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ja(e,t){Fa(e),t=Va(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ua(e,t){return Fa(e),t=Va(e,t),e.g.has(t)}function za(e,t,n){ja(e,t),0<n.length&&(e.i=null,e.g.set(Va(e,t),mr(n)),e.h+=n.length)}function Va(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Zn=Ma.prototype).add=function(e,t){Fa(this),this.i=null,e=Va(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Zn.forEach=function(e,t){Fa(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Zn.oa=function(){Fa(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Zn.W=function(e){Fa(this);var t=[];if("string"===typeof e)Ua(this,e)&&(t=t.concat(this.g.get(Va(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Zn.set=function(e,t){return Fa(this),this.i=null,Ua(this,e=Va(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Zn.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Zn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ba=h((function e(t,n){l(this,e),this.h=t,this.g=n}));function qa(e){this.l=e||Ha,rr.PerformanceNavigationTiming?e=0<(e=rr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(rr.g&&rr.g.Ga&&rr.g.Ga()&&rr.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wa,Ha=10;function Ka(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ga(e){return e.h?1:e.g?e.g.size:0}function Qa(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Xa(e,t){e.g?e.g.add(t):e.h=t}function Ya(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $a(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=T(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return mr(e.i)}function Ja(){}function Za(){this.g=new Ja}function eo(e,t,n){var r=n||"";try{ka(e,(function(e,n){var i=e;or(e)&&(i=mi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function to(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function no(e){this.l=e.ac||null,this.j=e.jb||!1}function ro(e,t){di.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=io,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qa.prototype.cancel=function(){if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=T(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ja.prototype.stringify=function(e){return rr.JSON.stringify(e,void 0)},Ja.prototype.parse=function(e){return rr.JSON.parse(e,void 0)},dr(no,Xi),no.prototype.g=function(){return new ro(this.l,this.j)},no.prototype.i=(Wa={},function(){return Wa}),dr(ro,di);var io=0;function ao(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function oo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,so(e)}function so(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Zn=ro.prototype).open=function(e,t){if(this.readyState!=io)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,so(this)},Zn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||rr).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Zn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,oo(this)),this.readyState=io},Zn.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,so(this)),this.g&&(this.readyState=3,so(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof rr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ao(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Zn.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?oo(this):so(this),3==this.readyState&&ao(this)}},Zn.Va=function(e){this.g&&(this.response=this.responseText=e,oo(this))},Zn.Ua=function(e){this.g&&(this.response=e,oo(this))},Zn.ga=function(){this.g&&oo(this)},Zn.setRequestHeader=function(e,t){this.v.append(e,t)},Zn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Zn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ro.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var uo=rr.JSON.parse;function co(e){di.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lo,this.K=this.L=!1}dr(co,di);var lo="",fo=/^https?$/i,ho=["POST","PUT"];function po(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vo(e),yo(e)}function vo(e){e.D||(e.D=!0,pi(e,"complete"),pi(e,"error"))}function mo(e){if(e.h&&"undefined"!=typeof nr&&(!e.C[1]||4!=ko(e)||2!=e.aa()))if(e.v&&4==ko(e))Ci(e.Ha,0,e);else if(pi(e,"readystatechange"),4==ko(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ba)[1]||null;if(!a&&rr.self&&rr.self.location){var o=rr.self.location.protocol;a=o.substr(0,o.length-1)}i=!fo.test(a?a.toLowerCase():"")}t=i}if(t)pi(e,"complete"),pi(e,"success");else{e.m=6;try{var s=2<ko(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",vo(e)}}finally{yo(e)}}}function yo(e,t){if(e.g){go(e);var n=e.g,r=e.C[0]?ir:null;e.g=null,e.C=null,t||pi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function go(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(rr.clearTimeout(e.A),e.A=null)}function ko(e){return e.g?e.g.readyState:0}function bo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case lo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(is){return null}}function wo(e){var t="";return Qr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function xo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wo(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ea(e,t,n))}function _o(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Io(e){this.Ca=0,this.i=[],this.j=new Mi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=_o("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=_o("baseRetryDelayMs",5e3,e),this.bb=_o("retryDelaySeedMs",1e4,e),this.$a=_o("forwardChannelMaxRetries",2,e),this.ta=_o("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new qa(e&&e.concurrentRequestLimit),this.Fa=new Za,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function So(e){if(To(e),3==e.G){var t=e.U++,n=xa(e.F);Ea(n,"SID",e.I),Ea(n,"RID",t),Ea(n,"TYPE","terminate"),Ao(e,n),(t=new ra(e,e.j,t,void 0)).K=2,t.v=Ta(xa(n)),n=!1,rr.navigator&&rr.navigator.sendBeacon&&(n=rr.navigator.sendBeacon(t.v.toString(),"")),!n&&rr.Image&&((new Image).src=t.v,n=!0),n||(t.g=Bo(t.l,null),t.g.da(t.v)),t.F=Date.now(),da(t)}zo(e)}function Eo(e){e.g&&(Lo(e),e.g.cancel(),e.g=null)}function To(e){Eo(e),e.u&&(rr.clearTimeout(e.u),e.u=null),Mo(e),e.h.cancel(),e.m&&("number"===typeof e.m&&rr.clearTimeout(e.m),e.m=null)}function No(e){Ka(e.h)||e.m||(e.m=!0,_i(e.Ja,e),e.C=0)}function Co(e,t){var n;n=t?t.m:e.U++;var r=xa(e.F);Ea(r,"SID",e.I),Ea(r,"RID",n),Ea(r,"AID",e.T),Ao(e,r),e.o&&e.s&&xo(r,e.o,e.s),n=new ra(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Do(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Xa(e.h,n),ua(n,r,t)}function Ao(e,t){e.ia&&Qr(e.ia,(function(e,n){Ea(t,n,e)})),e.l&&ka({},(function(e,n){Ea(t,n,e)}))}function Do(e,t,n){n=Math.min(e.i.length,n);var r=e.l?fr(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{eo(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Ro(e){e.g||e.u||(e.Z=1,_i(e.Ia,e),e.A=0)}function Po(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Ki(fr(e.Ia,e),jo(e,e.A)),e.A++,!0)}function Lo(e){null!=e.B&&(rr.clearTimeout(e.B),e.B=null)}function Oo(e){e.g=new ra(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=xa(e.sa);Ea(t,"RID","rpc"),Ea(t,"SID",e.I),Ea(t,"CI",e.L?"0":"1"),Ea(t,"AID",e.T),Ea(t,"TYPE","xmlhttp"),Ao(e,t),e.o&&e.s&&xo(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Ta(xa(t)),n.s=null,n.P=!0,ca(n,e)}function Mo(e){null!=e.v&&(rr.clearTimeout(e.v),e.v=null)}function Fo(e,t){var n=null;if(e.g==t){Mo(e),Lo(e),e.g=null;var r=2}else{if(!Qa(e.h,t))return;n=t.D,Ya(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;pi(r=zi(),new Hi(r,n)),No(e)}else Ro(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Ga(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Ki(fr(e.Ja,e,t),jo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Po(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Uo(e,5);break;case 4:Uo(e,10);break;case 3:Uo(e,6);break;default:Uo(e,2)}}function jo(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function Uo(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=fr(e.kb,e);n||(n=new wa("//www.google.com/images/cleardot.gif"),rr.location&&"http"==rr.location.protocol||_a(n,"https"),Ta(n)),function(e,t){var n=new Mi;if(rr.Image){var r=new Image;r.onload=hr(to,n,r,"TestLoadImage: loaded",!0,t),r.onerror=hr(to,n,r,"TestLoadImage: error",!1,t),r.onabort=hr(to,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=hr(to,n,r,"TestLoadImage: timeout",!1,t),rr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Wi(2);e.G=0,e.l&&e.l.va(t),zo(e),To(e)}function zo(e){if(e.G=0,e.la=[],e.l){var t=$a(e.h);0==t.length&&0==e.i.length||(yr(e.la,t),yr(e.la,e.i),e.h.i.length=0,mr(e.i),e.i.length=0),e.l.ua()}}function Vo(e,t,n){var r=n instanceof wa?xa(n):new wa(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ia(r,r.m);else{var i=rr.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new wa(null,void 0);r&&_a(a,r),t&&(a.g=t),i&&Ia(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Ea(r,n,t),Ea(r,"VER",e.ma),Ao(e,r),r}function Bo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new co(new no({jb:!0})):new co(e.ra)).Ka(e.H),t}function qo(){}function Wo(){if(Nr&&!(10<=Number(Vr)))throw Error("Environmental error: no available transport.")}function Ho(e,t){di.call(this),this.g=new Io(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!br(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!br(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Qo(this)}function Ko(e){ea.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Go(){ta.call(this),this.status=1}function Qo(e){this.g=e}(Zn=co.prototype).Ka=function(e){this.L=e},Zn.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ji.g(),this.C=this.u?Yi(this.u):Yi(Ji),this.g.onreadystatechange=fr(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void po(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=T(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=rr.FormData&&e instanceof rr.FormData,!(0<=vr(ho,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=T(n);try{for(c.s();!(u=c.n()).done;){var l=_(u.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{go(this),0<this.B&&((this.K=function(e){return Nr&&Ur()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fr(this.qa,this)):this.A=Ci(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){po(this,s)}},Zn.qa=function(){"undefined"!=typeof nr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pi(this,"timeout"),this.abort(8))},Zn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pi(this,"complete"),pi(this,"abort"),yo(this))},Zn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yo(this,!0)),co.X.M.call(this)},Zn.Ha=function(){this.s||(this.F||this.v||this.l?mo(this):this.fb())},Zn.fb=function(){mo(this)},Zn.aa=function(){try{return 2<ko(this)?this.g.status:-1}catch(Wa){return-1}},Zn.fa=function(){try{return this.g?this.g.responseText:""}catch(Wa){return""}},Zn.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),uo(t)}},Zn.Ea=function(){return this.m},Zn.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Zn=Io.prototype).ma=8,Zn.G=1,Zn.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new ra(this,this.j,e,void 0),n=this.s;if(this.S&&(n?$r(n=Xr(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Do(this,t,r),Ea(i=xa(this.F),"RID",e),Ea(i,"CVER",22),this.D&&Ea(i,"X-HTTP-Session-Id",this.D),Ao(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(wo(n)))+"&"+r:this.o&&xo(i,this.o,n)),Xa(this.h,t),this.Ya&&Ea(i,"TYPE","init"),this.O?(Ea(i,"$req",r),Ea(i,"SID","null"),t.Z=!0,ua(t,i,null)):ua(t,i,r),this.G=2}}else 3==this.G&&(e?Co(this,e):0==this.i.length||Ka(this.h)||Co(this))},Zn.Ia=function(){if(this.u=null,Oo(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ki(fr(this.eb,this),e)}},Zn.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Wi(10),Eo(this),Oo(this))},Zn.cb=function(){null!=this.v&&(this.v=null,Eo(this),Po(this),Wi(19))},Zn.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Wi(2)):(this.j.info("Failed to ping google.com"),Wi(1))},(Zn=qo.prototype).xa=function(){},Zn.wa=function(){},Zn.va=function(){},Zn.ua=function(){},Zn.Ra=function(){},Wo.prototype.g=function(e,t){return new Ho(e,t)},dr(Ho,di),Ho.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Wi(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Vo(e,null,e.V),No(e)},Ho.prototype.close=function(){So(this.g)},Ho.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=mi(e),e=n);t.i.push(new Ba(t.ab++,e)),3==t.G&&No(t)},Ho.prototype.M=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,Ho.X.M.call(this)},dr(Ko,ea),dr(Go,ta),dr(Qo,qo),Qo.prototype.xa=function(){pi(this.g,"a")},Qo.prototype.wa=function(e){pi(this.g,new Ko(e))},Qo.prototype.va=function(e){pi(this.g,new Go)},Qo.prototype.ua=function(){pi(this.g,"b")},Wo.prototype.createWebChannel=Wo.prototype.g,Ho.prototype.send=Ho.prototype.u,Ho.prototype.open=Ho.prototype.m,Ho.prototype.close=Ho.prototype.close,Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Qi.COMPLETE="complete",$i.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",di.prototype.listen=di.prototype.N,co.prototype.listenOnce=co.prototype.O,co.prototype.getLastError=co.prototype.Oa,co.prototype.getLastErrorCode=co.prototype.Ea,co.prototype.getStatus=co.prototype.aa,co.prototype.getResponseJson=co.prototype.Sa,co.prototype.getResponseText=co.prototype.fa,co.prototype.send=co.prototype.da,co.prototype.setWithCredentials=co.prototype.Ka;var Xo=tr.createWebChannelTransport=function(){return new Wo},Yo=tr.getStatEventTarget=function(){return zi()},$o=tr.ErrorCode=Gi,Jo=tr.EventType=Qi,Zo=tr.Event=ji,es=tr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ts=tr.FetchXmlHttpFactory=no,ns=tr.WebChannel=$i,rs=tr.XhrIo=co,is="@firebase/firestore",as=function(){function e(t){l(this,e),this.uid=t}return h(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();as.UNAUTHENTICATED=new as(null),as.GOOGLE_CREDENTIALS=new as("google-credentials-uid"),as.FIRST_PARTY=new as("first-party-uid"),as.MOCK_USER=new as("mock-user");var os="9.15.0",ss=new Lt("@firebase/firestore");function us(){return ss.logLevel}function cs(e){if(ss.logLevel<=Tt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(hs);ss.debug.apply(ss,["Firestore (".concat(os,"): ").concat(e)].concat(c(i)))}}function ls(e){if(ss.logLevel<=Tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(hs);ss.error.apply(ss,["Firestore (".concat(os,"): ").concat(e)].concat(c(i)))}}function fs(e){if(ss.logLevel<=Tt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(hs);ss.warn.apply(ss,["Firestore (".concat(os,"): ").concat(e)].concat(c(i)))}}function hs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(os,") INTERNAL ASSERTION FAILED: ")+e;throw ls(t),new Error(t)}function ps(e,t){e||ds()}function vs(e,t){return e}var ms={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ys=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return h(n)}(it),gs=h((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ks=h((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),bs=function(){function e(){l(this,e)}return h(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(as.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ws=function(){function e(t){l(this,e),this.token=t,this.changeListener=null}return h(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),xs=function(){function e(t){l(this,e),this.t=t,this.currentUser=as.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new gs;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new gs,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){cs("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(cs("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gs)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(cs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(ps("string"==typeof n.accessToken),new ks(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return ps(null===e||"string"==typeof e),new as(e)}}]),e}(),_s=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=as.FIRST_PARTY,this.p=new Map}return h(e,[{key:"I",value:function(){return this.g?this.g():(ps(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Is=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return h(e,[{key:"getToken",value:function(){return Promise.resolve(new _s(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(as.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ss=h((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Es=function(){function e(t){l(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&cs("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,cs("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){cs("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):cs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(ps("string"==typeof t.token),e.A=t.token,new Ss(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ts(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ns=function(){function e(){l(this,e)}return h(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ts(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Cs(e,t){return e<t?-1:e>t?1:0}function As(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ds(e){return e+"\0"}var Rs=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ys(ms.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ys(ms.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ys(ms.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ys(ms.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return h(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Cs(this.nanoseconds,e.nanoseconds):Cs(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Ps=function(){function e(t){l(this,e),this.timestamp=t}return h(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Rs(0,0))}},{key:"max",value:function(){return new e(new Rs(253402300799,999999999))}}]),e}(),Ls=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&ds(),void 0===r?r=t.length-n:r>t.length-n&&ds(),this.segments=t,this.offset=n,this.len=r}return h(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Os=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new ys(ms.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,c(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ls),Ms=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fs=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ms.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ys(ms.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ys(ms.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ys(ms.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ys(ms.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ls),js=function(){function e(t){l(this,e),this.path=t}return h(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Os.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Os.fromString(t))}},{key:"fromName",value:function(t){return new e(Os.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Os.emptyPath())}},{key:"comparator",value:function(e,t){return Os.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Os(t.slice()))}}]),e}(),Us=h((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function zs(e){return e.fields.find((function(e){return 2===e.kind}))}function Vs(e){return e.fields.filter((function(e){return 2!==e.kind}))}Us.UNKNOWN_ID=-1;var Bs=h((function e(t,n){l(this,e),this.fieldPath=t,this.kind=n}));var qs=function(){function e(t,n){l(this,e),this.sequenceNumber=t,this.offset=n}return h(e,null,[{key:"empty",value:function(){return new e(0,Ks.min())}}]),e}();function Ws(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ps.fromTimestamp(1e9===r?new Rs(n+1,0):new Rs(n,r));return new Ks(i,js.empty(),t)}function Hs(e){return new Ks(e.readTime,e.key,-1)}var Ks=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return h(e,null,[{key:"min",value:function(){return new e(Ps.min(),js.empty(),-1)}},{key:"max",value:function(){return new e(Ps.max(),js.empty(),-1)}}]),e}();function Gs(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=js.comparator(e.documentKey,t.documentKey))?n:Cs(e.largestBatchId,t.largestBatchId)}var Qs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xs=function(){function e(){l(this,e),this.onCommittedListeners=[]}return h(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Ys(e){return $s.apply(this,arguments)}function $s(){return $s=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ms.FAILED_PRECONDITION&&t.message===Qs){e.next=2;break}throw t;case 2:cs("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}var Js=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return h(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ds(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=T(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Zs=function(){function e(t,n){var r=this;l(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new gs,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new nu(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=su(e.target.error);r.P.reject(new nu(t,n))}}return h(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(cs("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new iu(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new nu(n,t)}}}]),e}(),eu=function(){function e(t,n,r){l(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Ke())&&ls("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return h(e,[{key:"F",value:function(){var e=xt(bt().mark((function e(t){var n=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return cs("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new nu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ys(ms.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ys(ms.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new nu(t,n))},i.onupgradeneeded=function(e){cs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){cs("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=xt(bt().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(bt().mark((function e(){var n,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Zs.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Js.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,cs("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return cs("SimpleDb","Removing database:",e),au(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!$e())return!1;if(e.N())return!0;var t=Ke(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/setmenu",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),tu=function(){function e(t){l(this,e),this.q=t,this.U=!1,this.K=null}return h(e,[{key:"isDone",get:function(){return this.U}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.U=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return au(this.q.delete())}}]),e}(),nu=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,ms.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return h(n)}(ys);function ru(e){return"IndexedDbTransactionError"===e.name}var iu=function(){function e(t){l(this,e),this.store=t}return h(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(cs("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(cs("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),au(n)}},{key:"add",value:function(e){return cs("SimpleDb","ADD",this.store.name,e,e),au(this.store.add(e))}},{key:"get",value:function(e){var t=this;return au(this.store.get(e)).next((function(n){return void 0===n&&(n=null),cs("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return cs("SimpleDb","DELETE",this.store.name,e),au(this.store.delete(e))}},{key:"count",value:function(){return cs("SimpleDb","COUNT",this.store.name),au(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Js((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Js((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){cs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Js((function(n,r){t.onerror=function(e){var t=su(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Js((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new tu(i),o=t(i.primaryKey,i.value,a);if(o instanceof Js){var s=o.catch((function(e){return a.done(),Js.reject(e)}));n.push(s)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Js.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function au(e){return new Js((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=su(e.target.error);n(t)}}))}var ou=!1;function su(e){var t=eu.D(Ke());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ys("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ou||(ou=!0,setTimeout((function(){throw r}),0)),r}}return e}var uu=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.et=n,this.task=null}return h(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;cs("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=cs,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ru(e.t4)){e.next=17;break}cs("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Ys(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),cu=function(){function e(t,n){l(this,e),this.localStore=t,this.persistence=n}return h(e,[{key:"st",value:function(){var e=xt(bt().mark((function e(){var t,n=this,r=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Js.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return cs("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return cs("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Hs(t);Gs(r,n)>0&&(n=r)})),new Ks(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),lu=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return h(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();lu.at=-1;var fu=h((function e(t,n,r,i,a,o,s,u){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),hu=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return h(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function du(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pu(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function mu(e){return null==e}function yu(e){return 0===e&&1/e==-1/0}function gu(e){return"number"==typeof e&&Number.isInteger(e)&&!yu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ku=function(e){function t(e){l(this,t),this.binaryString=e}return h(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Cs(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ku.EMPTY_BYTE_STRING=new ku("");var bu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wu(e){if(ps(!!e),"string"==typeof e){var t=0,n=bu.exec(e);if(ps(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xu(e.seconds),nanos:xu(e.nanos)}}function xu(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function _u(e){return"string"==typeof e?ku.fromBase64String(e):ku.fromUint8Array(e)}function Iu(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Su(e){var t=e.mapValue.fields.__previous_value__;return Iu(t)?Su(t):t}function Eu(e){var t=wu(e.mapValue.fields.__local_write_time__.timestampValue);return new Rs(t.seconds,t.nanos)}var Tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nu={nullValue:"NULL_VALUE"};function Cu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Iu(e)?4:qu(e)?9007199254740991:10:ds()}function Au(e,t){if(e===t)return!0;var n=Cu(e);if(n!==Cu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Eu(e).isEqual(Eu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=wu(e.timestampValue),r=wu(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return _u(e.bytesValue).isEqual(_u(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xu(e.geoPointValue.latitude)===xu(t.geoPointValue.latitude)&&xu(e.geoPointValue.longitude)===xu(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xu(e.integerValue)===xu(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=xu(e.doubleValue),r=xu(t.doubleValue);return n===r?yu(n)===yu(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return As(e.arrayValue.values||[],t.arrayValue.values||[],Au);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(du(n)!==du(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Au(n[i],r[i])))return!1;return!0}(e,t);default:return ds()}}function Du(e,t){return void 0!==(e.values||[]).find((function(e){return Au(e,t)}))}function Ru(e,t){if(e===t)return 0;var n=Cu(e),r=Cu(t);if(n!==r)return Cs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cs(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=xu(e.integerValue||e.doubleValue),r=xu(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Pu(e.timestampValue,t.timestampValue);case 4:return Pu(Eu(e),Eu(t));case 5:return Cs(e.stringValue,t.stringValue);case 6:return function(e,t){var n=_u(e),r=_u(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Cs(n[i],r[i]);if(0!==a)return a}return Cs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Cs(xu(e.latitude),xu(t.latitude));return 0!==n?n:Cs(xu(e.longitude),xu(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ru(n[i],r[i]);if(a)return a}return Cs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Tu.mapValue&&t===Tu.mapValue)return 0;if(e===Tu.mapValue)return 1;if(t===Tu.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Cs(r[o],a[o]);if(0!==s)return s;var u=Ru(n[r[o]],i[a[o]]);if(0!==u)return u}return Cs(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ds()}}function Pu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cs(e,t);var n=wu(e),r=wu(t),i=Cs(n.seconds,r.seconds);return 0!==i?i:Cs(n.nanos,r.nanos)}function Lu(e){return Ou(e)}function Ou(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=wu(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?_u(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,js.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=T(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ou(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=T(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ou(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ds();var t,n}function Mu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Fu(e){return!!e&&"integerValue"in e}function ju(e){return!!e&&"arrayValue"in e}function Uu(e){return!!e&&"nullValue"in e}function zu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vu(e){return!!e&&"mapValue"in e}function Bu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return pu(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Bu(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Bu(e.arrayValue.values[r]);return n}return Object.assign({},e)}function qu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Wu(e){return"nullValue"in e?Nu:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Mu(hu.empty(),js.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ds()}function Hu(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Mu(hu.empty(),js.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Tu:ds()}function Ku(e,t){var n=Ru(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Gu(e,t){var n=Ru(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Qu=h((function e(t,n){l(this,e),this.position=t,this.inclusive=n}));function Xu(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?js.comparator(js.fromName(o.referenceValue),n.key):Ru(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Yu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Au(e.position[n],t.position[n]))return!1;return!0}var $u=h((function e(){l(this,e)})),Ju=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ru(t,this.value)):null!==t&&Cu(this.value)===Cu(t)&&this.matchesComparison(Ru(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ds()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new uc(e,t,r):"array-contains"===t?new hc(e,r):"in"===t?new dc(e,r):"not-in"===t?new pc(e,r):"array-contains-any"===t?new vc(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new cc(e,n):new lc(e,n)}}]),n}($u),Zu=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return h(n,[{key:"matches",value:function(e){return ec(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=T(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}($u);function ec(e){return"and"===e.op}function tc(e){return"or"===e.op}function nc(e){return rc(e)&&ec(e)}function rc(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Zu)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function ic(e){if(e instanceof Ju)return e.field.canonicalString()+e.op.toString()+Lu(e.value);var t=e.filters.map((function(e){return ic(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function ac(e,t){return e instanceof Ju?function(e,t){return t instanceof Ju&&e.op===t.op&&e.field.isEqual(t.field)&&Au(e.value,t.value)}(e,t):e instanceof Zu?function(e,t){return t instanceof Zu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&ac(n,t.filters[r])}),!0)}(e,t):void ds()}function oc(e,t){var n=e.filters.concat(t);return Zu.create(n,e.op)}function sc(e){return e instanceof Ju?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Lu(e.value))}(e):e instanceof Zu?function(e){return e.op.toString()+" {"+e.getFilters().map(sc).join(" ,")+"}"}(e):"Filter"}var uc=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,i)).key=js.fromName(i.referenceValue),a}return h(n,[{key:"matches",value:function(e){var t=js.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Ju),cc=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=fc("in",r),i}return h(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ju),lc=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=fc("not-in",r),i}return h(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ju);function fc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return js.fromName(e.referenceValue)}))}var hc=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return ju(t)&&Du(t.arrayValue,this.value)}}]),n}(Ju),dc=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Du(this.value.arrayValue,t)}}]),n}(Ju),pc=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return h(n,[{key:"matches",value:function(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Du(this.value.arrayValue,t)}}]),n}(Ju),vc=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return h(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!ju(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Du(t.value.arrayValue,e)}))}}]),n}(Ju),mc=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function yc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var gc=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||bc.EMPTY}return h(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,bc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new kc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new kc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new kc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new kc(this.root,e,this.comparator,!0)}}]),e}(),kc=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return h(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),bc=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return h(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ds();if(this.right.isRed())throw ds();var e=this.left.check();if(e!==this.right.check())throw ds();return e+(this.isRed()?0:1)}}]),e}();bc.EMPTY=null,bc.RED=!0,bc.BLACK=!1,bc.EMPTY=new(function(){function e(){l(this,e),this.size=0}return h(e,[{key:"key",get:function(){throw ds()}},{key:"value",get:function(){throw ds()}},{key:"color",get:function(){throw ds()}},{key:"left",get:function(){throw ds()}},{key:"right",get:function(){throw ds()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new bc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var wc=function(){function e(t){l(this,e),this.comparator=t,this.data=new gc(this.comparator)}return h(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new xc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new xc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),xc=function(){function e(t){l(this,e),this.iter=t}return h(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function _c(e){return e.hasNext()?e.getNext():void 0}var Ic=function(){function e(t){l(this,e),this.fields=t,t.sort(Fs.comparator)}return h(e,[{key:"unionWith",value:function(t){var n,r=new wc(Fs.comparator),i=T(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=T(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=T(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return As(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Sc=function(){function e(t){l(this,e),this.value=t}return h(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Vu(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(t)}},{key:"setAll",value:function(e){var t=this,n=Fs.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Bu(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Vu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Au(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Vu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){pu(t,(function(t,n){return e[t]=n}));var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Bu(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ec(e){var t=[];return pu(e.fields,(function(e,n){var r=new Fs([e]);if(Vu(n)){var i=Ec(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=T(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Ic(t)}var Tc=function(){function e(t,n,r,i,a,o,s){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return h(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Ps.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Sc.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Sc.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Ps.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Ps.min(),Ps.min(),Ps.min(),Sc.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Ps.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ps.min(),Ps.min(),Sc.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ps.min(),Ps.min(),Sc.empty(),2)}}]),e}(),Nc=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function Cc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Nc(e,t,n,r,i,a,o)}function Ac(e){var t=vs(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return ic(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),mu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Lu(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Lu(e)})).join(",")),t.ft=n}return t.ft}function Dc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!yc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!ac(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yu(e.startAt,t.startAt)&&Yu(e.endAt,t.endAt)}function Rc(e){return js.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Pc(e,t){return e.filters.filter((function(e){return e instanceof Ju&&e.field.isEqual(t)}))}function Lc(e,t,n){var r,i=Nu,a=!0,o=T(Pc(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Nu,c=!0;switch(s.op){case"<":case"<=":u=Wu(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Nu}Ku({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ku({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Oc(e,t,n){var r,i=Tu,a=!0,o=T(Pc(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=Tu,c=!0;switch(s.op){case">=":case">":u=Hu(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=Tu}Gu({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Gu({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Mc=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function Fc(e,t,n,r,i,a,o,s){return new Mc(e,t,n,r,i,a,o,s)}function jc(e){return new Mc(e)}function Uc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Vc(e){var t,n=T(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Bc(e){return null!==e.collectionGroup}function qc(e){var t=vs(e);if(null===t.dt){t.dt=[];var n=Vc(t),r=zc(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new mc(n)),t.dt.push(new mc(Fs.keyField(),"asc"));else{var i,a=!1,o=T(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new mc(Fs.keyField(),u))}}}return t.dt}function Wc(e){var t=vs(e);if(!t._t)if("F"===t.limitType)t._t=Cc(t.path,t.collectionGroup,qc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=T(qc(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new mc(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Qu(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Qu(t.startAt.position,t.startAt.inclusive):null;t._t=Cc(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function Hc(e,t){t.getFirstInequalityField(),Vc(e);var n=e.filters.concat([t]);return new Mc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Kc(e,t,n){return new Mc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gc(e,t){return Dc(Wc(e),Wc(t))&&e.limitType===t.limitType}function Qc(e){return"".concat(Ac(Wc(e)),"|lt:").concat(e.limitType)}function Xc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return sc(e)})).join(", "),"]")),mu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Lu(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Lu(e)})).join(",")),"Target(".concat(t,")")}(Wc(e)),"; limitType=").concat(e.limitType,")")}function Yc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):js.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=T(qc(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=T(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Xu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qc(e),t))&&!(e.endAt&&!function(e,t,n){var r=Xu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qc(e),t))}(e,t)}function $c(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Jc(e){return function(t,n){var r,i=!1,a=T(qc(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Zc(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Zc(e,t,n){var r=e.field.isKeyField()?js.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ru(r,i):ds()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ds()}}function el(e,t){if(e.wt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yu(t)?"-0":t}}function tl(e){return{integerValue:""+e}}function nl(e,t){return gu(t)?tl(t):el(e,t)}var rl=h((function e(){l(this,e),this._=void 0}));function il(e,t,n){return e instanceof sl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ul?cl(e,t):e instanceof ll?fl(e,t):function(e,t){var n=ol(e,t),r=dl(n)+dl(e.gt);return Fu(n)&&Fu(e.gt)?tl(r):el(e.yt,r)}(e,t)}function al(e,t,n){return e instanceof ul?cl(e,t):e instanceof ll?fl(e,t):n}function ol(e,t){return e instanceof hl?Fu(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var sl=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(rl),ul=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return h(n)}(rl);function cl(e,t){var n,r=pl(t),i=T(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Au(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ll=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return h(n)}(rl);function fl(e,t){var n,r=pl(t),i=T(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Au(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var hl=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).yt=e,i.gt=r,i}return h(n)}(rl);function dl(e){return xu(e.integerValue||e.doubleValue)}function pl(e){return ju(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var vl=h((function e(t,n){l(this,e),this.field=t,this.transform=n}));var ml=h((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),yl=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return h(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function gl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var kl=h((function e(){l(this,e)}));function bl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Rl(e.key,yl.none()):new Sl(e.key,e.data,yl.none());var n,r=e.data,i=Sc.empty(),a=new wc(Fs.comparator),o=T(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new El(e.key,i,new Ic(a.toArray()),yl.none())}function wl(e,t,n){e instanceof Sl?function(e,t,n){var r=e.value.clone(),i=Nl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof El?function(e,t,n){if(gl(e.precondition,t)){var r=Nl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Tl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function xl(e,t,n,r){return e instanceof Sl?function(e,t,n,r){if(!gl(e.precondition,t))return n;var i=e.value.clone(),a=Cl(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof El?function(e,t,n,r){if(!gl(e.precondition,t))return n;var i=Cl(e.fieldTransforms,r,t),a=t.data;return a.setAll(Tl(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return gl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function _l(e,t){var n,r=null,i=T(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=ol(a.transform,o||null);null!=s&&(null===r&&(r=Sc.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Il(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&As(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ul&&t instanceof ul||e instanceof ll&&t instanceof ll?As(e.elements,t.elements,Au):e instanceof hl&&t instanceof hl?Au(e.gt,t.gt):e instanceof sl&&t instanceof sl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Sl=function(e){p(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kl),El=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return h(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(kl);function Tl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Nl(e,t,n){var r=new Map;ps(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,al(o,s,n[i]))}return r}function Cl(e,t,n){var r,i=new Map,a=T(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,il(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Al,Dl,Rl=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kl),Pl=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(kl),Ll=h((function e(t){l(this,e),this.count=t}));function Ol(e){switch(e){default:return ds();case ms.CANCELLED:case ms.UNKNOWN:case ms.DEADLINE_EXCEEDED:case ms.RESOURCE_EXHAUSTED:case ms.INTERNAL:case ms.UNAVAILABLE:case ms.UNAUTHENTICATED:return!1;case ms.INVALID_ARGUMENT:case ms.NOT_FOUND:case ms.ALREADY_EXISTS:case ms.PERMISSION_DENIED:case ms.FAILED_PRECONDITION:case ms.ABORTED:case ms.OUT_OF_RANGE:case ms.UNIMPLEMENTED:case ms.DATA_LOSS:return!0}}function Ml(e){if(void 0===e)return ls("GRPC error has no .code"),ms.UNKNOWN;switch(e){case Al.OK:return ms.OK;case Al.CANCELLED:return ms.CANCELLED;case Al.UNKNOWN:return ms.UNKNOWN;case Al.DEADLINE_EXCEEDED:return ms.DEADLINE_EXCEEDED;case Al.RESOURCE_EXHAUSTED:return ms.RESOURCE_EXHAUSTED;case Al.INTERNAL:return ms.INTERNAL;case Al.UNAVAILABLE:return ms.UNAVAILABLE;case Al.UNAUTHENTICATED:return ms.UNAUTHENTICATED;case Al.INVALID_ARGUMENT:return ms.INVALID_ARGUMENT;case Al.NOT_FOUND:return ms.NOT_FOUND;case Al.ALREADY_EXISTS:return ms.ALREADY_EXISTS;case Al.PERMISSION_DENIED:return ms.PERMISSION_DENIED;case Al.FAILED_PRECONDITION:return ms.FAILED_PRECONDITION;case Al.ABORTED:return ms.ABORTED;case Al.OUT_OF_RANGE:return ms.OUT_OF_RANGE;case Al.UNIMPLEMENTED:return ms.UNIMPLEMENTED;case Al.DATA_LOSS:return ms.DATA_LOSS;default:return ds()}}(Dl=Al||(Al={}))[Dl.OK=0]="OK",Dl[Dl.CANCELLED=1]="CANCELLED",Dl[Dl.UNKNOWN=2]="UNKNOWN",Dl[Dl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dl[Dl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dl[Dl.NOT_FOUND=5]="NOT_FOUND",Dl[Dl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dl[Dl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dl[Dl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dl[Dl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dl[Dl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dl[Dl.ABORTED=10]="ABORTED",Dl[Dl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dl[Dl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dl[Dl.INTERNAL=13]="INTERNAL",Dl[Dl.UNAVAILABLE=14]="UNAVAILABLE",Dl[Dl.DATA_LOSS=15]="DATA_LOSS";var Fl=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return h(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=_(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){pu(this.inner,(function(t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=_(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return vu(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),jl=new gc(js.comparator);function Ul(){return jl}var zl=new gc(js.comparator);function Vl(){for(var e=zl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Bl(e){var t=zl;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function ql(){return Hl()}function Wl(){return Hl()}function Hl(){return new Fl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Kl=new gc(js.comparator),Gl=new wc(js.comparator);function Ql(){for(var e=Gl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Xl=new wc(Cs);function Yl(){return Xl}var $l=function(){function e(t,n,r,i,a){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return h(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Ps.min(),i,Yl(),Ul(),Ql())}}]),e}(),Jl=function(){function e(t,n,r,i,a){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return h(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ql(),Ql(),Ql())}}]),e}(),Zl=h((function e(t,n,r,i){l(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),ef=h((function e(t,n){l(this,e),this.targetId=t,this.Et=n})),tf=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ku.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),nf=function(){function e(){l(this,e),this.At=0,this.Rt=of(),this.bt=ku.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}return h(e,[{key:"current",get:function(){return this.Pt}},{key:"resumeToken",get:function(){return this.bt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.vt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}},{key:"Ct",value:function(){var e=Ql(),t=Ql(),n=Ql();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ds()}})),new Jl(this.bt,this.Pt,e,t,n)}},{key:"xt",value:function(){this.vt=!1,this.Rt=of()}},{key:"Nt",value:function(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.vt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"Mt",value:function(){this.At-=1}},{key:"Ft",value:function(){this.vt=!0,this.Pt=!0}}]),e}(),rf=function(){function e(t){l(this,e),this.$t=t,this.Bt=new Map,this.Lt=Ul(),this.qt=af(),this.Ut=new wc(Cs)}return h(e,[{key:"Kt",value:function(e){var t,n=T(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=T(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"jt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Wt(n);switch(e.state){case 0:t.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||t.removeTarget(n);break;case 3:t.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:t.zt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:ds()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.zt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t=e.targetId,n=e.Et.count,r=this.Yt(t);if(r){var i=r.target;if(Rc(i))if(0===n){var a=new js(i.path);this.Qt(t,a,Tc.newNoDocument(a,Ps.min()))}else ps(1===n);else this.Xt(t)!==n&&(this.Ht(t),this.Ut=this.Ut.add(t))}}},{key:"Zt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&Rc(a.target)){var o=new js(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Tc.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Ql();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new $l(e,n,this.Ut,this.Lt,r);return this.Lt=Ul(),this.qt=af(),this.Ut=new wc(Cs),i}},{key:"Gt",value:function(e,t){if(this.zt(e)){var n=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.zt(e)){var r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Xt",value:function(e){var t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.Wt(e).Ot()}},{key:"Wt",value:function(e){var t=this.Bt.get(e);return t||(t=new nf,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new wc(Cs),this.qt=this.qt.insert(e,t)),t}},{key:"zt",value:function(e){var t=null!==this.Yt(e);return t||cs("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new nf),this.$t.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}]),e}();function af(){return new gc(js.comparator)}function of(){return new gc(js.comparator)}var sf={asc:"ASCENDING",desc:"DESCENDING"},uf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cf={and:"AND",or:"OR"},lf=h((function e(t,n){l(this,e),this.databaseId=t,this.wt=n}));function ff(e,t){return e.wt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function hf(e,t){return e.wt?t.toBase64():t.toUint8Array()}function df(e,t){return ff(e,t.toTimestamp())}function pf(e){return ps(!!e),Ps.fromTimestamp(function(e){var t=wu(e);return new Rs(t.seconds,t.nanos)}(e))}function vf(e,t){return function(e){return new Os(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function mf(e){var t=Os.fromString(e);return ps(Uf(t)),t}function yf(e,t){return vf(e.databaseId,t.path)}function gf(e,t){var n=mf(t);if(n.get(1)!==e.databaseId.projectId)throw new ys(ms.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ys(ms.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new js(xf(n))}function kf(e,t){return vf(e.databaseId,t)}function bf(e){var t=mf(e);return 4===t.length?Os.emptyPath():xf(t)}function wf(e){return new Os(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xf(e){return ps(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _f(e,t,n){return{name:yf(e,t),fields:n.value.mapValue.fields}}function If(e,t,n){var r=gf(e,t.name),i=pf(t.updateTime),a=t.createTime?pf(t.createTime):Ps.min(),o=new Sc({mapValue:{fields:t.fields}}),s=Tc.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Sf(e,t){return"found"in t?function(e,t){ps(!!t.found),t.found.name,t.found.updateTime;var n=gf(e,t.found.name),r=pf(t.found.updateTime),i=t.found.createTime?pf(t.found.createTime):Ps.min(),a=new Sc({mapValue:{fields:t.found.fields}});return Tc.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){ps(!!t.missing),ps(!!t.readTime);var n=gf(e,t.missing),r=pf(t.readTime);return Tc.newNoDocument(n,r)}(e,t):ds()}function Ef(e,t){var n;if(t instanceof Sl)n={update:_f(e,t.key,t.value)};else if(t instanceof Rl)n={delete:yf(e,t.key)};else if(t instanceof El)n={update:_f(e,t.key,t.data),updateMask:jf(t.fieldMask)};else{if(!(t instanceof Pl))return ds();n={verify:yf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof sl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ul)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ll)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hl)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw ds()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:df(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ds()}(e,t.precondition)),n}function Tf(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?yl.updateTime(pf(e.updateTime)):void 0!==e.exists?yl.exists(e.exists):yl.none()}(t.currentDocument):yl.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)ps("REQUEST_TIME"===t.setToServerValue),n=new sl;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ul(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ll(i)}else"increment"in t?n=new hl(e,t.increment):ds();var a=Fs.fromServerFormat(t.fieldPath);return new vl(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=gf(e,t.update.name),a=new Sc({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Ic(t.map((function(e){return Fs.fromServerFormat(e)})))}(t.updateMask);return new El(i,a,o,n,r)}return new Sl(i,a,n,r)}if(t.delete){var s=gf(e,t.delete);return new Rl(s,n)}if(t.verify){var u=gf(e,t.verify);return new Pl(u,n)}return ds()}function Nf(e,t){return{documents:[kf(e,t.path)]}}function Cf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=kf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Ff(Zu.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Of(e.field),direction:Rf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.wt||mu(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Af(e){var t=bf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ps(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Df(e);return t instanceof Zu&&nc(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new mc(Mf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return mu(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Qu(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Qu(n,t)}(n.endAt)),Fc(t,i,s,o,u,"F",c,l)}function Df(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Mf(e.unaryFilter.field);return Ju.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Mf(e.unaryFilter.field);return Ju.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Mf(e.unaryFilter.field);return Ju.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Mf(e.unaryFilter.field);return Ju.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ds()}}(e):void 0!==e.fieldFilter?function(e){return Ju.create(Mf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ds()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Zu.create(e.compositeFilter.filters.map((function(e){return Df(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ds()}}(e.compositeFilter.op))}(e):ds()}function Rf(e){return sf[e]}function Pf(e){return uf[e]}function Lf(e){return cf[e]}function Of(e){return{fieldPath:e.canonicalString()}}function Mf(e){return Fs.fromServerFormat(e.fieldPath)}function Ff(e){return e instanceof Ju?function(e){if("=="===e.op){if(zu(e.value))return{unaryFilter:{field:Of(e.field),op:"IS_NAN"}};if(Uu(e.value))return{unaryFilter:{field:Of(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zu(e.value))return{unaryFilter:{field:Of(e.field),op:"IS_NOT_NAN"}};if(Uu(e.value))return{unaryFilter:{field:Of(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Of(e.field),op:Pf(e.op),value:e.value}}}(e):e instanceof Zu?function(e){var t=e.getFilters().map((function(e){return Ff(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Lf(e.op),filters:t}}}(e):ds()}function jf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Uf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function zf(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Bf(t)),t=Vf(e.get(n),t);return Bf(t)}function Vf(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Bf(e){return e+"\x01\x01"}function qf(e){var t=e.length;if(ps(t>=2),2===t)return ps("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Os.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ds(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ds()}a=o+2}return new Os(r)}var Wf=["userId","batchId"];function Hf(e,t){return[e,zf(t)]}function Kf(e,t,n){return[e,zf(t),n]}var Gf={},Qf=["prefixPath","collectionGroup","readTime","documentId"],Xf=["prefixPath","collectionGroup","documentId"],Yf=["collectionGroup","readTime","prefixPath","documentId"],$f=["canonicalId","targetId"],Jf=["targetId","path"],Zf=["path","targetId"],eh=["collectionId","parent"],th=["indexId","uid"],nh=["uid","sequenceNumber"],rh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ih=["indexId","uid","orderedDocumentKey"],ah=["userId","collectionPath","documentId"],oh=["userId","collectionPath","largestBatchId"],sh=["userId","collectionGroup","largestBatchId"],uh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ch=[].concat(c(uh),["documentOverlays"]),lh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fh=lh,hh=[].concat(fh,["indexConfiguration","indexState","indexEntries"]),dh=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).se=e,i.currentSequenceNumber=r,i}return h(n)}(Xs);function ph(e,t){var n=vs(e);return eu.M(n.se,t)}var vh=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return h(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&wl(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=T(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=xl(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=T(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=xl(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Wl();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=bl(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ps.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ql())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(function(e,t){return Il(e,t)}))&&As(this.baseMutations,e.baseMutations,(function(e,t){return Il(e,t)}))}}]),e}(),mh=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return h(e,null,[{key:"from",value:function(t,n,r){ps(t.mutations.length===r.length);for(var i=Kl,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),yh=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return h(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),gh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ps.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ps.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ku.EMPTY_BYTE_STRING;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return h(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),kh=h((function e(t){l(this,e),this.ie=t}));function bh(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:wh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:yf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ff(e,t.version.toTimestamp()),createTime:ff(e,t.createTime.toTimestamp())}}(e.ie,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:xh(t.version)};else{if(!t.isUnknownDocument())return ds();r.unknownDocument={path:n.path.toArray(),version:xh(t.version)}}return r}function wh(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function xh(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function _h(e){var t=new Rs(e.seconds,e.nanoseconds);return Ps.fromTimestamp(t)}function Ih(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Tf(e.ie,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Tf(e.ie,t)})),s=Rs.fromMillis(t.localWriteTimeMs);return new vh(t.batchId,s,n,o)}function Sh(e){var t,n,r=_h(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?_h(e.lastLimboFreeSnapshotVersion):Ps.min();return void 0!==e.query.documents?(ps(1===(n=e.query).documents.length),t=Wc(jc(bf(n.documents[0])))):t=function(e){return Wc(Af(e))}(e.query),new gh(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ku.fromBase64String(e.resumeToken))}function Eh(e,t){var n,r=xh(t.snapshotVersion),i=xh(t.lastLimboFreeSnapshotVersion);n=Rc(t.target)?Nf(e.ie,t.target):Cf(e.ie,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ac(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Th(e){var t=Af({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Kc(t,t.limit,"L"):t}function Nh(e,t){return new yh(t.largestBatchId,Tf(e.ie,t.overlayMutation))}function Ch(e,t){var n=t.path.lastSegment();return[e,zf(t.path.popLast()),n]}function Ah(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:xh(r.readTime),documentKey:zf(r.documentKey.path),largestBatchId:r.largestBatchId}}var Dh=function(){function e(){l(this,e)}return h(e,[{key:"getBundleMetadata",value:function(e,t){return Rh(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:_h(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Rh(e).put({bundleId:(n=t).id,createTime:xh(pf(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ph(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Th(t.bundledQuery),readTime:_h(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ph(e).put(function(e){return{name:e.name,readTime:xh(pf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Rh(e){return ph(e,"bundles")}function Ph(e){return ph(e,"namedQueries")}var Lh=function(){function e(t,n){l(this,e),this.yt=t,this.userId=n}return h(e,[{key:"getOverlay",value:function(e,t){var n=this;return Oh(e).get(Ch(this.userId,t)).next((function(e){return e?Nh(n.yt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=ql();return Js.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new yh(t,a);i.push(r.oe(e,o))})),Js.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(zf(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Oh(e).Y("collectionPathOverlayIndex",i))})),Js.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=ql(),a=zf(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Oh(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Nh(r.yt,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=ql(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Oh(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Nh(a.yt,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"oe",value:function(e,t){return Oh(e).put(function(e,t,n){var r=_(Ch(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ef(e.ie,n.mutation)}}(this.yt,this.userId,t))}}],[{key:"re",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Oh(e){return ph(e,"documentOverlays")}var Mh=function(){function e(){l(this,e)}return h(e,[{key:"ue",value:function(e,t){this.ce(e,t),t.ae()}},{key:"ce",value:function(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(xu(e.integerValue));else if("doubleValue"in e){var n=xu(e.doubleValue);isNaN(n)?this.he(t,13):(this.he(t,15),yu(n)?t.le(0):t.le(n))}else if("timestampValue"in e){var r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe("".concat(r.seconds||"")),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(_u(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?qu(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):ds()}},{key:"de",value:function(e,t){this.he(t,25),this.pe(e,t)}},{key:"pe",value:function(e,t){t.fe(e)}},{key:"ge",value:function(e,t){var n=e.fields||{};this.he(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.de(a,t),this.ce(n[a],t)}}},{key:"ye",value:function(e,t){var n=e.values||[];this.he(t,50);var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ce(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"me",value:function(e,t){var n=this;this.he(t,37),js.fromName(e).path.forEach((function(e){n.he(t,60),n.pe(e,t)}))}},{key:"he",value:function(e,t){e.le(t)}},{key:"_e",value:function(e){e.le(2)}}]),e}();function Fh(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function jh(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Fh(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Mh.Ie=new Mh;var Uh=function(){function e(){l(this,e),this.buffer=new Uint8Array(1024),this.position=0}return h(e,[{key:"Te",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ee(n.value),n=t.next();this.Ae()}},{key:"Re",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.be(n.value),n=t.next();this.Pe()}},{key:"ve",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{var a=r.codePointAt(0);this.Ee(240|a>>>18),this.Ee(128|63&a>>>12),this.Ee(128|63&a>>>6),this.Ee(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ae()}},{key:"Ve",value:function(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{var a=r.codePointAt(0);this.be(240|a>>>18),this.be(128|63&a>>>12),this.be(128|63&a>>>6),this.be(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Pe()}},{key:"Se",value:function(e){var t=this.De(e),n=jh(t);this.Ce(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"xe",value:function(e){var t=this.De(e),n=jh(t);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"Oe",value:function(){this.Me(255),this.Me(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Fe",value:function(){return this.buffer.slice(0,this.position)}},{key:"De",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ee",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}},{key:"be",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}},{key:"Ae",value:function(){this.ke(0),this.ke(1)}},{key:"Pe",value:function(){this.Me(0),this.Me(1)}},{key:"ke",value:function(e){this.Ce(1),this.buffer[this.position++]=e}},{key:"Me",value:function(e){this.Ce(1),this.buffer[this.position++]=~e}},{key:"Ce",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),zh=function(){function e(t){l(this,e),this.$e=t}return h(e,[{key:"we",value:function(e){this.$e.Te(e)}},{key:"fe",value:function(e){this.$e.ve(e)}},{key:"le",value:function(e){this.$e.Se(e)}},{key:"ae",value:function(){this.$e.Ne()}}]),e}(),Vh=function(){function e(t){l(this,e),this.$e=t}return h(e,[{key:"we",value:function(e){this.$e.Re(e)}},{key:"fe",value:function(e){this.$e.Ve(e)}},{key:"le",value:function(e){this.$e.xe(e)}},{key:"ae",value:function(){this.$e.Oe()}}]),e}(),Bh=function(){function e(){l(this,e),this.$e=new Uh,this.Be=new zh(this.$e),this.Le=new Vh(this.$e)}return h(e,[{key:"seed",value:function(e){this.$e.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Be:this.Le}},{key:"Fe",value:function(){return this.$e.Fe()}},{key:"reset",value:function(){this.$e.reset()}}]),e}(),qh=function(){function e(t,n,r,i){l(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return h(e,[{key:"Ue",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Wh(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Hh(e.arrayValue,t.arrayValue))?n:0!==(n=Hh(e.directionalValue,t.directionalValue))?n:js.comparator(e.documentKey,t.documentKey)}function Hh(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Kh=function(){function e(t){l(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];var n,r=T(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Qe=i:this.Ge.push(i)}}catch(a){r.e(a)}finally{r.f()}}return h(e,[{key:"je",value:function(e){ps(e.collectionGroup===this.collectionId);var t=zs(e);if(void 0!==t&&!this.We(t))return!1;for(var n=Vs(e),r=0,i=0;r<n.length&&this.We(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Qe){var a=n[r];if(!this.ze(this.Qe,a)||!this.He(this.Ke[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ke.length||!this.He(this.Ke[i++],o))return!1}return!0}},{key:"We",value:function(e){var t,n=T(this.Ge);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.ze(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"ze",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"He",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Gh(e){var t,n;if(ps(e instanceof Ju||e instanceof Zu),e instanceof Ju){if(e instanceof dc){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Ju.create(e.field,"==",t)})))||[];return Zu.create(r,"or")}return e}var i=e.filters.map((function(e){return Gh(e)}));return Zu.create(i,e.op)}function Qh(e){if(0===e.getFilters().length)return[];var t=Jh(Gh(e));return ps($h(t)),Xh(t)||Yh(t)?[t]:t.getFilters()}function Xh(e){return e instanceof Ju}function Yh(e){return e instanceof Zu&&nc(e)}function $h(e){return Xh(e)||Yh(e)||function(e){if(e instanceof Zu&&tc(e)){var t,n=T(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Xh(r)&&!Yh(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Jh(e){if(ps(e instanceof Ju||e instanceof Zu),e instanceof Ju)return e;if(1===e.filters.length)return Jh(e.filters[0]);var t=e.filters.map((function(e){return Jh(e)})),n=Zu.create(t,e.op);return $h(n=td(n))?n:(ps(n instanceof Zu),ps(ec(n)),ps(n.filters.length>1),n.filters.reduce((function(e,t){return Zh(e,t)})))}function Zh(e,t){var n;return ps(e instanceof Ju||e instanceof Zu),ps(t instanceof Ju||t instanceof Zu),n=e instanceof Ju?t instanceof Ju?function(e,t){return Zu.create([e,t],"and")}(e,t):ed(e,t):t instanceof Ju?ed(t,e):function(e,t){if(ps(e.filters.length>0&&t.filters.length>0),ec(e)&&ec(t))return oc(e,t.getFilters());var n=tc(e)?e:t,r=tc(e)?t:e,i=n.filters.map((function(e){return Zh(e,r)}));return Zu.create(i,"or")}(e,t),td(n)}function ed(e,t){if(ec(t))return oc(t,e.getFilters());var n=t.filters.map((function(t){return Zh(e,t)}));return Zu.create(n,"or")}function td(e){if(ps(e instanceof Ju||e instanceof Zu),e instanceof Ju)return e;var t=e.getFilters();if(1===t.length)return td(t[0]);if(rc(e))return e;var n=t.map((function(e){return td(e)})),r=[];return n.forEach((function(t){t instanceof Ju?r.push(t):t instanceof Zu&&(t.op===e.op?r.push.apply(r,c(t.filters)):r.push(t))})),1===r.length?r[0]:Zu.create(r,e.op)}var nd=function(){function e(){l(this,e),this.Je=new rd}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Je.add(t),Js.resolve()}},{key:"getCollectionParents",value:function(e,t){return Js.resolve(this.Je.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Js.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Js.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Js.resolve(null)}},{key:"getIndexType",value:function(e,t){return Js.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Js.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Js.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Js.resolve(Ks.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Js.resolve(Ks.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Js.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Js.resolve()}}]),e}(),rd=function(){function e(){l(this,e),this.index={}}return h(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new wc(Os.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new wc(Os.comparator)).toArray()}}]),e}(),id=new Uint8Array(0),ad=function(){function e(t,n){l(this,e),this.user=t,this.databaseId=n,this.Ye=new rd,this.Xe=new Fl((function(e){return Ac(e)}),(function(e,t){return Dc(e,t)})),this.uid=t.uid||""}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ye.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ye.add(t)}));var a={collectionId:r,parent:zf(i)};return od(e).put(a)}return Js.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ds(t),""],!1,!0);return od(e).W(r).next((function(e){var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(qf(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ud(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=cd(e);return a.next((function(e){o.put(Ah(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ud(e),r=cd(e),i=sd(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=sd(e),i=!0,a=new Map;return Js.forEach(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ql(),o=[];return Js.forEach(a,(function(i,a){var s;cs("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Ac(t)));var u=function(e,t){var n=zs(t);if(void 0===n)return null;var r,i=T(Pc(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=T(Vs(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=T(Pc(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=T(Vs(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Lc(e,o.fieldPath,e.startAt):Oc(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Qu(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=T(Vs(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?Oc(e,o.fieldPath,e.endAt):Lc(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Qu(r,i)}(a,i),h=n.en(i,a,l),d=n.en(i,a,f),p=n.nn(i,a,c),v=n.sn(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return Js.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=js.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Js.resolve(null)}))}},{key:"Ze",value:function(e){var t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:Qh(Zu.create(e.filters,"and")).map((function(t){return Cc(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.Xe.set(e,t),t)}},{key:"sn",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),l=u/(null!=t?t.length:1),f=[],h=function(u){var h=t?s.rn(t[u/l]):id,d=s.on(e,h,n[u%l],r),p=s.un(e,h,i[u%l],a),v=o.map((function(t){return s.on(e,h,t,!0)}));f.push.apply(f,c(s.createRange(d,p,v)))},d=0;d<u;++d)h(d);return f}},{key:"on",value:function(e,t,n,r){var i=new qh(e,js.empty(),t,n);return r?i:i.Ue()}},{key:"un",value:function(e,t,n,r){var i=new qh(e,js.empty(),t,n);return r?i.Ue():i}},{key:"tn",value:function(e,t){var n=new Kh(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.je(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.Ze(t);return Js.forEach(i,(function(t){return n.tn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new wc(Fs.comparator),r=!1,i=T(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=T(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=T(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"cn",value:function(e,t){var n,r=new Bh,i=T(Vs(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.qe(a.kind);Mh.Ie.ue(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Fe()}},{key:"rn",value:function(e){var t=new Bh;return Mh.Ie.ue(e,t.qe(0)),t.Fe()}},{key:"an",value:function(e,t){var n=new Bh;return Mh.Ie.ue(Mu(this.databaseId,t),n.qe(function(e){var t=Vs(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Fe()}},{key:"nn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Bh);var i,a=0,o=T(Vs(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=T(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.hn(t,u.fieldPath)&&ju(c))r=this.ln(r,u,c);else{var h=f.qe(u.kind);Mh.Ie.ue(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.fn(r)}},{key:"en",value:function(e,t,n){return this.nn(e,t,n.position)}},{key:"fn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Fe();return t}},{key:"ln",value:function(e,t,n){var r,i=c(e),a=[],o=T(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,l=T(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,h=new Bh;h.seed(f.Fe()),Mh.Ie.ue(u,h.qe(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"hn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ju&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ud(e),i=cd(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Js.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new qs(t.sequenceNumber,new Ks(_h(t.readTime),new js(qf(t.documentKey)),t.largestBatchId)):qs.empty(),r=e.fields.map((function(e){var t=_(e,2),n=t[0],r=t[1];return new Bs(Fs.fromServerFormat(n),r)}));return new Us(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Cs(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ud(e),a=cd(e);return this.dn(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Js.forEach(t,(function(t){return a.put(Ah(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Js.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Js.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Js.forEach(a,(function(r){return n._n(e,t,r).next((function(t){var a=n.wn(i,r);return t.isEqual(a)?Js.resolve():n.mn(e,i,r,t,a)}))}))}))}))}},{key:"gn",value:function(e,t,n,r){return sd(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(n,t.key),documentKey:t.key.path.toArray()})}},{key:"yn",value:function(e,t,n,r){return sd(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(n,t.key),t.key.path.toArray()])}},{key:"_n",value:function(e,t,n){var r=sd(e),i=new wc(Wh);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,t)])},(function(e,r){i=i.add(new qh(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"wn",value:function(e,t){var n=new wc(Wh),r=this.cn(t,e);if(null==r)return n;var i=zs(t);if(null!=i){var a=e.data.field(i.fieldPath);if(ju(a)){var o,s=T(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new qh(t.indexId,e.key,this.rn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new qh(t.indexId,e.key,id,r));return n}},{key:"mn",value:function(e,t,n,r,i){var a=this;cs("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=_c(a),u=_c(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=_c(o)):l?(i(s),s=_c(a)):(s=_c(a),u=_c(o))}}(r,i,Wh,(function(r){o.push(a.gn(e,t,n,r))}),(function(r){o.push(a.yn(e,t,n,r))})),Js.waitFor(o)}},{key:"dn",value:function(e){var t=1;return cd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Wh(e,t)})).filter((function(e,t,n){return!t||0!==Wh(e,n[t-1])}));var r=[];r.push(e);var i,a=T(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=Wh(o,e),u=Wh(o,t);if(0===s)r[0]=e.Ue();else if(s>0&&u<0)r.push(o),r.push(o.Ue());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,id,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,id,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"pn",value:function(e,t){return Wh(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(ld)}},{key:"getMinOffset",value:function(e,t){var n=this;return Js.mapArray(this.Ze(t),(function(t){return n.tn(e,t).next((function(e){return e||ds()}))})).next(ld)}}]),e}();function od(e){return ph(e,"collectionParents")}function sd(e){return ph(e,"indexEntries")}function ud(e){return ph(e,"indexConfiguration")}function cd(e){return ph(e,"indexState")}function ld(e){ps(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Gs(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ks(t.readTime,t.documentKey,n)}var fd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hd=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return h(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function dd(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){ps(1===s)})));var c,l=[],f=T(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Kf(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Js.waitFor(a).next((function(){return l}))}function pd(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ds();t=e.noDocument}return JSON.stringify(t).length}hd.DEFAULT_COLLECTION_PERCENTILE=10,hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hd.DEFAULT=new hd(41943040,hd.DEFAULT_COLLECTION_PERCENTILE,hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hd.DISABLED=new hd(-1,0,0);var vd=function(){function e(t,n,r,i){l(this,e),this.userId=t,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return h(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yd(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=gd(e),o=yd(e);return o.add({}).next((function(s){ps("number"==typeof s);var u,c=new vh(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Ef(e.ie,t)})),i=n.mutations.map((function(t){return Ef(e.ie,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.yt,i.userId,c),f=[],h=new wc((function(e,t){return Cs(e.canonicalString(),t.canonicalString())})),d=T(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Kf(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Gf))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[s]=c.keys()})),Js.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return yd(e).get(t).next((function(e){return e?(ps(e.userId===n.userId),Ih(n.yt,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Js.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return yd(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(ps(t.batchId>=r),a=Ih(n.yt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yd(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yd(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ih(t.yt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Hf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return gd(e).Z({range:i},(function(r,i,o){var s=_(r,3),u=s[0],c=s[1],l=s[2],f=qf(c);if(u===n.userId&&t.path.isEqual(f))return yd(e).get(l).next((function(e){if(!e)throw ds();ps(e.userId===n.userId),a.push(Ih(n.yt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new wc(Cs),i=[];return t.forEach((function(t){var a=Hf(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=gd(e).Z({range:o},(function(e,i,a){var o=_(e,3),s=o[0],u=o[1],c=o[2],l=qf(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),Js.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Hf(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new wc(Cs);return gd(e).Z({range:o},(function(e,t,a){var o=_(e,3),u=o[0],c=o[1],l=o[2],f=qf(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(yd(e).get(t).next((function(e){if(null===e)throw ds();ps(e.userId===n.userId),r.push(Ih(n.yt,e))})))})),Js.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return dd(e.se,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Js.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Js.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return gd(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=qf(e[1]);i.push(a)}else r.done()})).next((function(){ps(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return md(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return kd(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"re",value:function(t,n,r,i){return ps(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function md(e,t,n){var r=Hf(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return gd(e).Z({range:a,X:!0},(function(e,n,r){var a=_(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function yd(e){return ph(e,"mutations")}function gd(e){return ph(e,"documentMutations")}function kd(e){return ph(e,"mutationQueues")}var bd=function(){function e(t){l(this,e),this.bn=t}return h(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),wd=function(){function e(t,n){l(this,e),this.referenceDelegate=t,this.yt=n}return h(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new bd(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Ps.fromTimestamp(new Rs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return xd(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return ps(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return xd(e).Z((function(o,s){var u=Sh(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Js.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return xd(e).Z((function(e,n){var r=Sh(n);t(r)}))}},{key:"Vn",value:function(e){return _d(e).get("targetGlobalKey").next((function(e){return ps(null!==e),e}))}},{key:"Sn",value:function(e,t){return _d(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return xd(e).put(Eh(this.yt,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ac(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xd(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Sh(n);Dc(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Id(e);return t.forEach((function(t){var o=zf(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Js.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Id(e);return Js.forEach(t,(function(t){var a=zf(t.path);return Js.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Id(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Id(e),i=Ql();return r.Z({range:n,X:!0},(function(e,t,n){var r=qf(e[1]),a=new js(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=zf(t.path),r=IDBKeyRange.bound([n],[Ds(n)],!1,!0),i=0;return Id(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=_(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ne",value:function(e,t){return xd(e).get(t).next((function(e){return e?Sh(e):null}))}}]),e}();function xd(e){return ph(e,"targets")}function _d(e){return ph(e,"targetGlobal")}function Id(e){return ph(e,"targetDocuments")}function Sd(e,t){var n=_(e,2),r=n[0],i=n[1],a=_(t,2),o=a[0],s=a[1],u=Cs(r,o);return 0===u?Cs(i,s):u}var Ed=function(){function e(t){l(this,e),this.xn=t,this.buffer=new wc(Sd),this.Nn=0}return h(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Sd(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Td=function(){function e(t,n,r){l(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return h(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;cs("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ru(e.t0)){e.next=12;break}cs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Ys(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Nd=function(){function e(t,n){l(this,e),this.$n=t,this.params=n}return h(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Js.resolve(lu.at);var r=new Ed(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(cs("LruGarbageCollector","Garbage collection skipped; disabled"),Js.resolve(fd)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(cs("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),fd):n.qn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"qn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(cs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),us()<=Tt.DEBUG&&cs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Js.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Cd=function(){function e(t,n){l(this,e),this.db=t,this.garbageCollector=function(e,t){return new Nd(e,t)}(this,n)}return h(e,[{key:"Bn",value:function(e){var t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Un",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ad(e,n)}},{key:"removeReference",value:function(e,t,n){return Ad(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ad(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return kd(e).tt((function(r){return md(e,r,t).next((function(e){return e&&(n=!0),Js.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,s){if(s<=t){var u=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Ps.min()),Id(e).delete([0,zf(o.path)])}))}));i.push(u)}})).next((function(){return Js.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ad(e,t)}},{key:"Kn",value:function(e,t){var n,r=Id(e),i=lu.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=_(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==lu.at&&t(new js(qf(n)),i),i=u,n=s):i=lu.at})).next((function(){i!==lu.at&&t(new js(qf(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ad(e,t){return Id(e).put(function(e,t){return{targetId:0,path:zf(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Dd=function(){function e(){l(this,e),this.changes=new Fl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return h(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Tc.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Js.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Rd=function(){function e(t){l(this,e),this.yt=t}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Md(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Md(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],wh(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Tc.newInvalidDocument(t);return Md(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fd(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Tc.newInvalidDocument(t)};return Md(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fd(t))},(function(e,i){r={document:n.jn(t,i),size:pd(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ul();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Ul(),i=new gc(js.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,pd(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Js.resolve();var r=new wc(Ud);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Fd(r.first()),Fd(r.last())),a=r.getIterator(),o=a.getNext();return Md(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=js.fromSegments([].concat(c(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Ud(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Fd(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),wh(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Md(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Ul(),i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(js.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Ul(),o=jd(t,n),s=jd(t,Ks.max());return Md(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.jn(js.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Ld(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Od(e).get("remoteDocumentGlobalKey").next((function(e){return ps(!!e),e}))}},{key:"Qn",value:function(e,t){return Od(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=If(e.ie,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=js.fromSegments(t.noDocument.path),i=_h(t.noDocument.readTime);n=Tc.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ds();var a=js.fromSegments(t.unknownDocument.path),o=_h(t.unknownDocument.version);n=Tc.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Rs(e[0],e[1]);return Ps.fromTimestamp(t)}(t.readTime)),n}(this.yt,t);if(!n.isNoDocument()||!n.version.isEqual(Ps.min()))return n}return Tc.newInvalidDocument(e)}}]),e}();function Pd(e){return new Rd(e)}var Ld=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Fl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new wc((function(e,t){return Cs(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=bh(t.Yn.yt,o);i=i.add(a.path.popLast());var c=pd(u);r+=c-s.size,n.push(t.Yn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=bh(t.Yn.yt,o.convertToNoDocument(Ps.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Js.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Dd);function Od(e){return ph(e,"remoteDocumentGlobal")}function Md(e){return ph(e,"remoteDocumentsV14")}function Fd(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function jd(e,t){var n=t.documentKey.path.toArray();return[e,wh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ud(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Cs(n[a],r[a]))return i;return(i=Cs(n.length,r.length))||((i=Cs(n[n.length-2],r[r.length-2]))||Cs(n[n.length-1],r[r.length-1]))}var zd=h((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Vd=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return h(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&xl(r.mutation,e,Ic.empty(),Rs.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ql()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ql(),i=ql();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Vl();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=ql();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ql())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ul(),a=Hl(),o=Hl();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof El)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),xl(o.mutation,t,o.mutation.getFieldMask(),Rs.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new zd(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Hl(),i=new gc((function(e,t){return e-t})),a=Ql();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=T(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Ic.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Ql()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Wl();c.forEach((function(e){if(!a.has(e)){var n=bl(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Js.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return js.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Js.resolve(ql()),s=-1,u=a;return o.next((function(t){return Js.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Js.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Ql())})).next((function(e){return{batchId:s,changes:Bl(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new js(t)).next((function(e){var t=Vl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Vl();return this.indexManager.getCollectionParents(e,i).next((function(o){return Js.forEach(o,(function(o){var s=function(e,t){return new Mc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Tc.newInvalidDocument(n)))}));var n=Vl();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&xl(a.mutation,i,Ic.empty(),Rs.now()),Yc(t,i)&&(n=n.insert(r,i))})),n}))}}]),e}(),Bd=function(){function e(t){l(this,e),this.yt=t,this.Zn=new Map,this.ts=new Map}return h(e,[{key:"getBundleMetadata",value:function(e,t){return Js.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:pf(n.createTime)}),Js.resolve()}},{key:"getNamedQuery",value:function(e,t){return Js.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Th(e.bundledQuery),readTime:pf(e.readTime)}}(t)),Js.resolve()}}]),e}(),qd=function(){function e(){l(this,e),this.overlays=new gc(js.comparator),this.es=new Map}return h(e,[{key:"getOverlay",value:function(e,t){return Js.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=ql();return Js.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.oe(e,t,i)})),Js.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Js.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=ql(),i=t.length+1,a=new js(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Js.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new gc((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=ql(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=ql(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Js.resolve(u)}},{key:"oe",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new yh(t,n));var a=this.es.get(t);void 0===a&&(a=Ql(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Wd=function(){function e(){l(this,e),this.ns=new wc(Hd.ss),this.rs=new wc(Hd.os)}return h(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Hd(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Hd(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new js(new Os([])),r=new Hd(n,e),i=new Hd(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new js(new Os([])),n=new Hd(t,e),r=new Hd(t,e+1),i=Ql();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Hd(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Hd=function(){function e(t,n){l(this,e),this.key=t,this._s=n}return h(e,null,[{key:"ss",value:function(e,t){return js.comparator(e.key,t.key)||Cs(e._s,t._s)}},{key:"os",value:function(e,t){return Cs(e._s,t._s)||js.comparator(e.key,t.key)}}]),e}(),Kd=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new wc(Hd.ss)}return h(e,[{key:"checkEmpty",value:function(e){return Js.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new vh(i,t,n,r);this.mutationQueue.push(a);var o,s=T(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.gs=this.gs.add(new Hd(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Js.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Js.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Js.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Js.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Js.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Hd(t,0),i=new Hd(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Js.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new wc(Cs);return t.forEach((function(e){var t=new Hd(e,0),i=new Hd(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Js.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;js.isDocumentKey(i)||(i=i.child(""));var a=new Hd(new js(i),0),o=new wc(Cs);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Js.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;ps(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Js.forEach(t.mutations,(function(i){var a=new Hd(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Hd(t,0),r=this.gs.firstAfterOrEqual(n);return Js.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Js.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Gd=function(){function e(t){l(this,e),this.Es=t,this.docs=new gc(js.comparator),this.size=0}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Js.resolve(n?n.document.mutableCopy():Tc.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ul();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Tc.newInvalidDocument(e))})),Js.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ul(),i=new js(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||Gs(Hs(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return Js.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ds()}},{key:"As",value:function(e,t){return Js.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Qd(this)}},{key:"getSize",value:function(e){return Js.resolve(this.size)}}]),e}(),Qd=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).Yn=e,r}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Js.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Dd),Xd=function(){function e(t){l(this,e),this.persistence=t,this.Rs=new Fl((function(e){return Ac(e)}),Dc),this.lastRemoteSnapshotVersion=Ps.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Wd,this.targetCount=0,this.vs=bd.Pn()}return h(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Js.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Js.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Js.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Js.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Js.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new bd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Js.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Js.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Js.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Js.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Js.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Js.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Js.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Js.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Js.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Js.resolve(n)}},{key:"containsKey",value:function(e,t){return Js.resolve(this.Ps.containsKey(t))}}]),e}(),Yd=function(){function e(t,n){var r=this;l(this,e),this.Vs={},this.overlays={},this.Ss=new lu(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Xd(this),this.indexManager=new nd,this.remoteDocumentCache=new Gd((function(e){return r.referenceDelegate.xs(e)})),this.yt=new kh(n),this.Ns=new Bd(this.yt)}return h(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qd,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Kd(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;cs("MemoryPersistence","Starting transaction:",e);var i=new $d(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Js.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$d=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return h(n)}(Xs),Jd=function(){function e(t){l(this,e),this.persistence=t,this.Fs=new Wd,this.$s=null}return h(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw ds()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Js.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Js.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Js.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Js.forEach(this.Ls,(function(r){var i=js.fromPath(r);return t.qs(e,i).next((function(e){e||n.removeEntry(i,Ps.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.qs(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"qs",value:function(e,t){var n=this;return Js.or([function(){return Js.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),Zd=function(){function e(t){l(this,e),this.yt=t}return h(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Zs("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wf,{unique:!0}),e.createObjectStore("documentMutations")}(e),ep(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Js.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),ep(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ps.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wf,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Js.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Us(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ah});t.createIndex("collectionPathOverlayIndex",oh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",sh,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Qf});t.createIndex("documentKeyIndex",Xf),t.createIndex("collectionGroupIndex",Yf)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:th}).createIndex("sequenceNumberIndex",nh,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:rh}).createIndex("documentKeyIndex",ih,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=pd(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Us",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Js.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Js.forEach(r,(function(r){ps(r.userId===n.userId);var i=Ih(t.yt,r);return dd(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new Os(n),o=function(e){return[0,zf(e)]}(a);r.push(t.get(o).next((function(n){return n?Js.resolve():function(n){return t.put({targetId:0,path:zf(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Js.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:eh});var n=t.store("collectionParents"),r=new rd,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:zf(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Os(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=_(e,3),r=(n[0],n[1]),a=(n[2],qf(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Sh(r),a=Eh(t.yt,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new js(Os.fromString(i.document.name).popFirst(5)):i.noDocument?js.fromSegments(i.noDocument.path):i.unknownDocument?js.fromSegments(i.unknownDocument.path):ds()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return Js.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Pd(this.yt),a=new Yd(Jd.Bs,this.yt.ie);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ql();Ih(n.yt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Js.forEach(r,(function(e,r){var o=new as(r),s=Lh.re(n.yt,o),u=a.getIndexManager(o),c=vd.re(o,n.yt,u,a.referenceDelegate);return new Vd(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new dh(t,lu.at),e).next()}))}))}}]),e}();function ep(e){e.createObjectStore("targetDocuments",{keyPath:Jf}).createIndex("documentTargetsIndex",Zf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$f,{unique:!0}),e.createObjectStore("targetGlobal")}var tp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",np=function(){function e(t,n,r,i,a,o,s,u,c,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(l(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=s,this.Js=c,this.Ys=f,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new ys(ms.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cd(this,i),this.ii=n+"main",this.yt=new kh(u),this.ri=new eu(this.ii,this.Xs,new Zd(this.yt)),this.Cs=new wd(this.referenceDelegate,this.yt),this.remoteDocumentCache=Pd(this.yt),this.Ns=new Dh,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===f&&ls("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return h(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ys(ms.FAILED_PRECONDITION,tp);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new lu(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=xt(bt().mark((function n(r){return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=xt(bt().mark((function t(n){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return ip(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(ru(t))return cs("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return cs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return rp(e).get("owner").next((function(e){return Js.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return ip(e).delete(this.clientId)}},{key:"yi",value:function(){var e=xt(bt().mark((function e(){var t,n,r,i,a=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=ph(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Js.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=T(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Js.resolve(!0):rp(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new ys(ms.FAILED_PRECONDITION,tp);return!1}}return!(!t.networkEnabled||!t.inForeground)||ip(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&cs("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=xt(bt().mark((function e(){var t=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new dh(e,lu.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return ip(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return vd.re(e,this.yt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ad(e,this.yt.ie.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Lh.re(this.yt,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;cs("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.Xs)?hh:14===i?fh:13===i?lh:12===i?ch:11===i?uh:void ds();return this.ri.runTransaction(e,o,s,(function(i){return a=new dh(i,r.Ss?r.Ss.next():lu.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw ls("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new ys(ms.FAILED_PRECONDITION,Qs);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return rp(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ys(ms.FAILED_PRECONDITION,tp)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rp(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=rp(e);return n.get("owner").next((function(e){return t.mi(e)?(cs("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Js.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ls("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Ge()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return cs("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ls("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(dr){ls("Failed to set zombie client id.",dr)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(dr){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return eu.C()}}]),e}();function rp(e){return ph(e,"owner")}function ip(e){return ph(e,"clientMetadata")}function ap(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var op=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return h(e,null,[{key:"Ci",value:function(t,n){var r,i=Ql(),a=Ql(),o=T(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),sp=function(){function e(){l(this,e),this.xi=!1}return h(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Uc(t))return Js.resolve(null);var r=Wc(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Kc(t,null,"F"),r=Wc(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ql.apply(void 0,c(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Kc(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return Uc(t)||r.isEqual(Ps.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(us()<=Tt.DEBUG&&cs("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xc(t)),i.Bi(e,o,t,Ws(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new wc(Jc(e));return t.forEach((function(t,r){Yc(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return us()<=Tt.DEBUG&&cs("QueryEngine","Using full collection scan to execute query:",Xc(t)),this.Ni.getDocumentsMatchingQuery(e,t,Ks.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),up=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.Li=n,this.yt=i,this.qi=new gc(Cs),this.Ui=new Fl((function(e){return Ac(e)}),Dc),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return h(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vd(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qi)}))}}]),e}();function cp(e,t,n,r){return new up(e,t,n,r)}function lp(e,t){return fp.apply(this,arguments)}function fp(){return fp=xt(bt().mark((function e(t,n){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Ql(),u=T(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=T(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=T(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=T(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}function hp(e,t){var n=vs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Js.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);ps(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ql(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function dp(e){var t=vs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function pp(e,t){var n=vs(e),r=t.snapshotVersion,i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(ku.EMPTY_BYTE_STRING,Ps.min()).withLastLimboFreeSnapshotVersion(Ps.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var s=Ul(),u=Ql();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(vp(e,a,t.documentUpdates).next((function(e){s=e.Wi,u=e.zi}))),!r.isEqual(Ps.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Js.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.qi=i,e}))}function vp(e,t,n){var r=Ql(),i=Ql();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ul();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Ps.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):cs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function mp(e,t){var n=vs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function yp(e,t){var n=vs(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Js.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new gh(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(e.targetId,e),n.Ui.set(t,e.targetId)),e}))}function gp(e,t,n){return kp.apply(this,arguments)}function kp(){return kp=xt(bt().mark((function e(t,n,r){var i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=vs(t),a=i.qi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ru(e.t1)){e.next=12;break}throw e.t1;case 12:cs("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qi=i.qi.remove(n),i.Ui.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),kp.apply(this,arguments)}function bp(e,t,n){var r=vs(e),i=Ps.min(),a=Ql();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=vs(e),i=r.Ui.get(n);return void 0!==i?Js.resolve(r.qi.get(i)):r.Cs.getTargetData(t,n)}(r,e,Wc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Ps.min(),n?a:Ql())})).next((function(e){return _p(r,$c(t),e),{documents:e,Hi:a}}))}))}function wp(e,t){var n=vs(e),r=vs(n.Cs),i=n.qi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ne(e,t).next((function(e){return e?e.target:null}))}))}function xp(e,t){var n=vs(e),r=n.Ki.get(t)||Ps.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Ws(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return _p(n,t,e),e}))}function _p(e,t,n){var r=e.Ki.get(t)||Ps.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Ip(e,t,n,r){return Sp.apply(this,arguments)}function Sp(){return Sp=xt(bt().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=vs(t),o=Ql(),s=Ul(),u=T(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,yp(a,function(e){return Wc(jc(Os.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return vp(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Sp.apply(this,arguments)}function Ep(e,t){return Tp.apply(this,arguments)}function Tp(){return Tp=xt(bt().mark((function e(t,n){var r,i,a,o=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ql(),e.next=3,yp(t,Wc(Th(n.bundledQuery)));case 3:return i=e.sent,a=vs(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=pf(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(ku.EMPTY_BYTE_STRING,t);return a.qi=a.qi.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}function Np(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Cp(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ap(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Dp=function(){function e(t,n,r,i){l(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return h(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ys(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ls("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Rp=function(){function e(t,n,r){l(this,e),this.targetId=t,this.state=n,this.error=r}return h(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ys(i.error.code,i.error.message))),a?new e(t,i.state,r):(ls("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Pp=function(){function e(t,n){l(this,e),this.clientId=t,this.activeTargetIds=n}return h(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Yl(),o=0;i&&o<r.activeTargetIds.length;++o)i=gu(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ls("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Lp=function(){function e(t,n){l(this,e),this.clientId=t,this.onlineState=n}return h(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ls("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Op=function(){function e(){l(this,e),this.activeTargetIds=Yl()}return h(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Mp=function(){function e(t,n,r,i,a){l(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new gc(Cs),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Np(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Op),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return h(e,[{key:"start",value:function(){var e=xt(bt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=T(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Np(this.persistenceKey,i)))&&(o=Pp.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(s=this.storage.getItem(this.wr))&&(u=this.yr(s))&&this.pr(u),c=T(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ap(this.persistenceKey,e));if(n){var r=Rp.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ap(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return cs("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){cs("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){cs("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(cs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void ls("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(xt(bt().mark((function e(){var r,i,a,o,s,u,c;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(s));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}u=function(e){var t=lu.at;if(null!=e)try{var n=JSON.parse(e);ps("number"==typeof n),t=n}catch(e){ls("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==lu.at&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new Dp(this.currentUser,e,t,n),i=Cp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Cp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Ap(this.persistenceKey,e),i=new Rp(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return Pp.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Dp.Zi(new as(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Rp.Zi(r,t)}},{key:"yr",value:function(e){return Lp.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:cs("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Br(o,s).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Yl();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Fp=function(){function e(){l(this,e),this.Lr=new Op,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return h(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Op,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),jp=function(){function e(){l(this,e)}return h(e,[{key:"Ur",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Up=function(){function e(){var t=this;l(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return h(e,[{key:"Ur",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){cs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=T(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){cs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=T(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),zp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Vp=function(){function e(t){l(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return h(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Bp=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return h(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new rs;o.setWithCredentials(!0),o.listenOnce(Jo.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case $o.NO_ERROR:var t=o.getResponseJson();cs("Connection","XHR received:",JSON.stringify(t)),i(t);break;case $o.TIMEOUT:cs("Connection",'RPC "'+e+'" timed out'),a(new ys(ms.DEADLINE_EXCEEDED,"Request time out"));break;case $o.HTTP_ERROR:var n=o.getStatus();if(cs("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ms).indexOf(t)>=0?t:ms.UNKNOWN}(s.status);a(new ys(u,s.message))}else a(new ys(ms.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ys(ms.UNAVAILABLE,"Connection failed."));break;default:ds()}}finally{cs("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Xo(),a=Yo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ts({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var s=r.join("");cs("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Vp({Hr:function(e){l?cs("Connection","Not sending because WebChannel is closed:",e):(c||(cs("Connection","Opening WebChannel transport."),u.open(),c=!0),cs("Connection","WebChannel sending:",e),u.send(e))},Jr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,ns.EventType.OPEN,(function(){l||cs("Connection","WebChannel transport opened.")})),h(u,ns.EventType.CLOSE,(function(){l||(l=!0,cs("Connection","WebChannel transport closed"),f.io())})),h(u,ns.EventType.ERROR,(function(e){l||(l=!0,fs("Connection","WebChannel transport errored:",e),f.io(new ys(ms.UNAVAILABLE,"The operation could not be completed")))})),h(u,ns.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];ps(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){cs("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Al[e];if(void 0!==t)return Ml(t)}(a),s=i.message;void 0===o&&(o=ms.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new ys(o,s)),u.close()}else cs("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Zo.STAT_EVENT,(function(e){e.stat===es.PROXY?cs("Connection","Detected buffering proxy"):e.stat===es.NOPROXY&&cs("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return h(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);cs("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return cs("RestConnection","Received: ",e),e}),(function(t){throw fs("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+os,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=zp[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function qp(){return"undefined"!=typeof window?window:null}function Wp(){return"undefined"!=typeof document?document:null}function Hp(e){return new lf(e,!0)}var Kp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return h(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&cs("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Gp=function(){function e(t,n,r,i,a,o,s,u){l(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Kp(t,n)}return h(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"qo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===ms.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===ms.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=_(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new ys(ms.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.xo.Ro(xt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return cs("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(cs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Qp=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u}return h(n,[{key:"jo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ds()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.wt?(ps(void 0===t||"string"==typeof t),ku.fromBase64String(t||"")):(ps(void 0===t||t instanceof Uint8Array),ku.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ms.UNKNOWN:Ml(e.code);return new ys(t,e.message||"")}(o);n=new tf(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=gf(e,u.document.name),l=pf(u.document.updateTime),f=u.document.createTime?pf(u.document.createTime):Ps.min(),h=new Sc({mapValue:{fields:u.document.fields}}),d=Tc.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Zl(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=gf(e,m.document),g=m.readTime?pf(m.readTime):Ps.min(),k=Tc.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Zl([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=gf(e,w.document),_=w.removedTargetIds||[];n=new Zl([],_,x,null)}else{if(!("filter"in t))return ds();t.filter;var I=t.filter;I.targetId;var S=I.count||0,E=new Ll(S),T=I.targetId;n=new ef(T,E)}return n}(this.yt,e),n=function(e){if(!("targetChange"in e))return Ps.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Ps.min():t.readTime?pf(t.readTime):Ps.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=wf(this.yt),t.addTarget=function(e,t){var n,r=t.target;return(n=Rc(r)?{documents:Nf(e,r)}:{query:Cf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=hf(e,t.resumeToken):t.snapshotVersion.compareTo(Ps.min())>0&&(n.readTime=ff(e,t.snapshotVersion.toTimestamp())),n}(this.yt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ds()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.yt,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=wf(this.yt),t.removeTarget=e,this.Bo(t)}}]),n}(Gp),Xp=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).yt=o,u.Jo=!1,u}return h(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Jn(v(n.prototype),"start",this).call(this)}},{key:"Uo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(ps(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(ps(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?pf(e.updateTime):pf(t);return n.isEqual(Ps.min())&&(n=pf(t)),new ml(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pf(e.commitTime);return this.listener.Zo(n,t)}return ps(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=wf(this.yt),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ef(t.yt,e)}))};this.Bo(n)}}]),n}(Gp),Yp=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.yt=a,o.nu=!1,o}return h(n,[{key:"su",value:function(){if(this.nu)throw new ys(ms.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=_(i,2),o=a[0],s=a[1];return r.connection.ao(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ms.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ys(ms.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=_(a,2),s=o[0],u=o[1];return i.connection._o(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ms.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ys(ms.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return h((function e(){l(this,e)}))}());var $p=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return h(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(ls(t),this.ou=!1):cs("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Jp=h((function e(t,n,r,i,a){var o=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur((function(e){r.enqueueAndForget(xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=cv(o),!e.t0){e.next=5;break}return cs("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=vs(t))._u.add(4),e.next=4,tv(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,Zp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new $p(r,i)}));function Zp(e){return ev.apply(this,arguments)}function ev(){return ev=xt(bt().mark((function e(t){var n,r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!cv(t)){e.next=18;break}n=T(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),ev.apply(this,arguments)}function tv(e){return nv.apply(this,arguments)}function nv(){return nv=xt(bt().mark((function e(t){var n,r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=T(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),nv.apply(this,arguments)}function rv(e,t){var n=vs(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),uv(n)?sv(n):jv(n).ko()&&av(n,t))}function iv(e,t){var n=vs(e),r=jv(n);n.du.delete(t),r.ko()&&ov(n,t),0===n.du.size&&(r.ko()?r.Fo():cv(n)&&n.gu.set("Unknown"))}function av(e,t){e.yu.Ot(t.targetId),jv(e).zo(t)}function ov(e,t){e.yu.Ot(t),jv(e).Ho(t)}function sv(e){e.yu=new rf({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.du.get(t)||null}}),jv(e).start(),e.gu.uu()}function uv(e){return cv(e)&&!jv(e).No()&&e.du.size>0}function cv(e){return 0===vs(e)._u.size}function lv(e){e.yu=void 0}function fv(e){return hv.apply(this,arguments)}function hv(){return hv=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){av(t,e)}));case 1:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}function dv(e,t){return pv.apply(this,arguments)}function pv(){return pv=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:lv(t),uv(t)?(t.gu.hu(n),sv(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),pv.apply(this,arguments)}function vv(e,t,n){return mv.apply(this,arguments)}function mv(){return mv=xt(bt().mark((function e(t,n,r){var i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof tf&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=xt(bt().mark((function e(t,n){var r,i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=T(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),cs("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,yv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Zl?t.yu.Kt(n):n instanceof ef?t.yu.Jt(n):t.yu.jt(n),r.isEqual(Ps.min())){e.next=29;break}return e.prev=14,e.next=17,dp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.Zt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(ku.EMPTY_BYTE_STRING,n.snapshotVersion)),ov(e,t);var r=new gh(n.target,t,1,n.sequenceNumber);av(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),cs("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,yv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),mv.apply(this,arguments)}function yv(e,t,n){return gv.apply(this,arguments)}function gv(){return gv=xt(bt().mark((function e(t,n,r){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ru(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,tv(t);case 5:t.gu.set("Offline"),r||(r=function(){return dp(t.localStore)}),t.asyncQueue.enqueueRetryable(xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cs("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,Zp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function kv(e,t){return t().catch((function(n){return yv(e,n,t)}))}function bv(e){return wv.apply(this,arguments)}function wv(){return wv=xt(bt().mark((function e(t){var n,r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=vs(t),r=Uv(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!xv(n)){e.next=19;break}return e.prev=3,e.next=6,mp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,_v(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,yv(n,e.t0);case 17:e.next=2;break;case 19:Iv(n)&&Sv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),wv.apply(this,arguments)}function xv(e){return cv(e)&&e.fu.length<10}function _v(e,t){e.fu.push(t);var n=Uv(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Iv(e){return cv(e)&&!Uv(e).No()&&e.fu.length>0}function Sv(e){Uv(e).start()}function Ev(e){return Tv.apply(this,arguments)}function Tv(){return Tv=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Uv(t).eu();case 1:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Nv(e){return Cv.apply(this,arguments)}function Cv(){return Cv=xt(bt().mark((function e(t){var n,r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Uv(t),r=T(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Cv.apply(this,arguments)}function Av(e,t,n){return Dv.apply(this,arguments)}function Dv(){return Dv=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=mh.from(i,n,r),e.next=3,kv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,bv(t);case 5:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}function Rv(e,t){return Pv.apply(this,arguments)}function Pv(){return Pv=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Uv(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=xt(bt().mark((function e(t,n){var r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ol(i=n.code)||i===ms.ABORTED){e.next=7;break}return r=t.fu.shift(),Uv(t).Mo(),e.next=5,kv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,bv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Iv(t)&&Sv(t);case 5:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Lv(e,t){return Ov.apply(this,arguments)}function Ov(){return Ov=xt(bt().mark((function e(t,n){var r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=vs(t)).asyncQueue.verifyOperationInProgress(),cs("RemoteStore","RemoteStore received new credentials"),i=cv(r),r._u.add(3),e.next=6,tv(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,Zp(r);case 12:case"end":return e.stop()}}),e)}))),Ov.apply(this,arguments)}function Mv(e,t){return Fv.apply(this,arguments)}function Fv(){return Fv=xt(bt().mark((function e(t,n){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vs(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,Zp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,tv(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function jv(e){return e.pu||(e.pu=function(e,t,n){var r=vs(e);return r.su(),new Qp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:fv.bind(null,e),Zr:dv.bind(null,e),Wo:vv.bind(null,e)}),e.wu.push(function(){var t=xt(bt().mark((function t(n){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Mo(),uv(e)?sv(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:lv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function Uv(e){return e.Iu||(e.Iu=function(e,t,n){var r=vs(e);return r.su(),new Xp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,n)}(e.datastore,e.asyncQueue,{Yr:Ev.bind(null,e),Zr:Rv.bind(null,e),tu:Nv.bind(null,e),Zo:Av.bind(null,e)}),e.wu.push(function(){var t=xt(bt().mark((function t(n){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Mo(),t.next=4,bv(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(cs("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var zv=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return h(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ys(ms.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Vv(e,t){if(ls("AsyncQueue","".concat(t,": ").concat(e)),ru(e))return new ys(ms.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Bv=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||js.comparator(e.key,n.key)}:function(e,t){return js.comparator(e.key,t.key)},this.keyedMap=Vl(),this.sortedSet=new gc(this.comparator)}return h(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),qv=function(){function e(){l(this,e),this.Tu=new gc(js.comparator)}return h(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ds():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Wv=function(){function e(t,n,r,i,a,o,s,u,c){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return h(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Bv.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Hv=h((function e(){l(this,e),this.Au=void 0,this.listeners=[]})),Kv=h((function e(){l(this,e),this.queries=new Fl((function(e){return Qc(e)}),Gc),this.onlineState="Unknown",this.Ru=new Set}));function Gv(e,t){return Qv.apply(this,arguments)}function Qv(){return Qv=xt(bt().mark((function e(t,n){var r,i,a,o,s;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vs(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Hv),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Vv(e.t0,"Initialization of query '".concat(Xc(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&Zv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Qv.apply(this,arguments)}function Xv(e,t){return Yv.apply(this,arguments)}function Yv(){return Yv=xt(bt().mark((function e(t,n){var r,i,a,o,s;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vs(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Yv.apply(this,arguments)}function $v(e,t){var n,r=vs(e),i=!1,a=T(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=T(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&Zv(r)}function Jv(e,t,n){var r=vs(e),i=r.queries.get(t);if(i){var a,o=T(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Zv(e){e.Ru.forEach((function(e){e.next()}))}var em=function(){function e(t,n,r){l(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return h(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=T(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Wv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=Wv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}]),e}(),tm=function(){function e(t,n){l(this,e),this.ku=t,this.byteLength=n}return h(e,[{key:"Ou",value:function(){return"metadata"in this.ku}}]),e}(),nm=function(){function e(t){l(this,e),this.yt=t}return h(e,[{key:"Ji",value:function(e){return gf(this.yt,e)}},{key:"Yi",value:function(e){return e.metadata.exists?If(this.yt,e.document,!1):Tc.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return pf(e)}}]),e}(),rm=function(){function e(t,n,r){l(this,e),this.Mu=t,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=im(t)}return h(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;var n=Os.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new nm(this.yt),i=T(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Ji(a.metadata.name),u=T(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Ql()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=xt(bt().mark((function e(){var t,n,r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ip(this.localStore,new nm(this.yt),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=T(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Ep(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function im(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var am=h((function e(t){l(this,e),this.key=t})),om=h((function e(t){l(this,e),this.key=t})),sm=function(){function e(t,n){l(this,e),this.query=t,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Ql(),this.mutatedKeys=Ql(),this.Gu=Jc(t),this.Qu=new Bv(this.Gu)}return h(e,[{key:"ju",get:function(){return this.qu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new qv,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Yc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Gu(f,u)>0||c&&n.Gu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:s,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ds()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],s=0===this.Ku.size&&this.current?1:0,u=s!==this.Uu;return this.Uu=s,0!==a.length||u?{snapshot:new Wv(this.query,e.Qu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new qv,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.qu=t.qu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.qu=t.qu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Ql(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new om(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new am(e))})),n}},{key:"tc",value:function(e){this.qu=e.Hi,this.Ku=Ql();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return Wv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}]),e}(),um=h((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),cm=h((function e(t){l(this,e),this.key=t,this.nc=!1})),lm=function(){function e(t,n,r,i,a,o){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new Fl((function(e){return Qc(e)}),Gc),this.rc=new Map,this.oc=new Set,this.uc=new gc(js.comparator),this.cc=new Map,this.ac=new Wd,this.hc={},this.lc=new Map,this.fc=bd.vn(),this.onlineState="Unknown",this.dc=void 0}return h(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function fm(e,t){return hm.apply(this,arguments)}function hm(){return hm=xt(bt().mark((function e(t,n){var r,i,a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=iy(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,yp(r.localStore,Wc(n));case 8:return s=e.sent,r.isPrimaryClient&&rv(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,dm(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),hm.apply(this,arguments)}function dm(e,t,n,r,i){return pm.apply(this,arguments)}function pm(){return pm=xt(bt().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=xt(bt().mark((function e(t,n,r,i){var a,o,s;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,bp(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Lm(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,bp(t.localStore,n,!0);case 3:return o=e.sent,s=new sm(n,o.Hi),u=s.Wu(o.documents),c=Jl.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),Lm(t,r,l.Xu),f=new um(n,r,s),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e,t){return mm.apply(this,arguments)}function mm(){return mm=xt(bt().mark((function e(t,n){var r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vs(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!Gc(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,gp(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),iv(r.remoteStore,i.targetId),Rm(r,i.targetId)})).catch(Ys);case 9:e.next=14;break;case 11:return Rm(r,i.targetId),e.next=14,gp(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),mm.apply(this,arguments)}function ym(e,t,n){return gm.apply(this,arguments)}function gm(){return gm=xt(bt().mark((function e(t,n,r){var i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ay(t),e.prev=1,e.next=4,function(e,t){var n,r,i=vs(e),a=Rs.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ql());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Ul(),u=Ql();return i.Gi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=T(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=_l(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new El(c.key,l,Ec(l.value.mapValue),yl.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Bl(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new gc(Cs)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Fm(i,a.changes);case 9:return e.next=11,bv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Vv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),gm.apply(this,arguments)}function km(e,t){return bm.apply(this,arguments)}function bm(){return bm=xt(bt().mark((function e(t,n){var r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs(t),e.prev=1,e.next=4,pp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(ps(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?ps(n.nc):e.removedDocuments.size>0&&(ps(n.nc),n.nc=!1))})),e.next=8,Fm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ys(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),bm.apply(this,arguments)}function wm(e,t,n){var r=vs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=vs(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=T(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Zv(n)}(r.eventManager,t),i.length&&r.sc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function xm(e,t,n){return _m.apply(this,arguments)}function _m(){return _m=xt(bt().mark((function e(t,n,r){var i,a,o,s,u,c;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=vs(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new gc(js.comparator)).insert(o,Tc.newNoDocument(o,Ps.min())),u=Ql().add(o),c=new $l(Ps.min(),new Map,new wc(Cs),s,u),e.next=9,km(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),Mm(i),e.next=16;break;case 14:return e.next=16,gp(i.localStore,n,!1).then((function(){return Rm(i,n,r)})).catch(Ys);case 16:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}function Im(e,t){return Sm.apply(this,arguments)}function Sm(){return Sm=xt(bt().mark((function e(t,n){var r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs(t),i=n.batch.batchId,e.prev=1,e.next=4,hp(r.localStore,n);case 4:return a=e.sent,Dm(r,i,null),Am(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Fm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ys(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Sm.apply(this,arguments)}function Em(e,t,n){return Tm.apply(this,arguments)}function Tm(){return Tm=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vs(t),e.prev=1,e.next=4,function(e,t){var n=vs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return ps(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Dm(i,n,r),Am(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Fm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ys(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Tm.apply(this,arguments)}function Nm(e,t){return Cm.apply(this,arguments)}function Cm(){return Cm=xt(bt().mark((function e(t,n){var r,i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cv((r=vs(t)).remoteStore)||cs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=vs(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Vv(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Cm.apply(this,arguments)}function Am(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function Dm(e,t,n){var r=vs(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Rm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=T(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||Pm(e,t)}))}function Pm(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(iv(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Mm(e))}function Lm(e,t,n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof am?(e.ac.addReference(a.key,t),Om(e,a)):a instanceof om?(cs("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||Pm(e,a.key)):ds()}}catch(o){i.e(o)}finally{i.f()}}function Om(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(cs("SyncEngine","New document in limbo: "+n),e.oc.add(r),Mm(e))}function Mm(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new js(Os.fromString(t)),r=e.fc.next();e.cc.set(r,new cm(n)),e.uc=e.uc.insert(n,r),rv(e.remoteStore,new gh(Wc(jc(n.path)),r,2,lu.at))}}function Fm(e,t,n){return jm.apply(this,arguments)}function jm(){return jm=xt(bt().mark((function e(t,n,r){var i,a,o,s;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=vs(t),a=[],o=[],s=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){s.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=op.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.sc.Wo(a),e.next=9,function(){var e=xt(bt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Js.forEach(n,(function(t){return Js.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Js.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ru(e.t0)){e.next=10;break}throw e.t0;case 10:cs("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=T(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qi=r.qi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),jm.apply(this,arguments)}function Um(e,t){return zm.apply(this,arguments)}function zm(){return zm=xt(bt().mark((function e(t,n){var r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=vs(t)).currentUser.isEqual(n)){e.next=11;break}return cs("SyncEngine","User change. New user:",n.toKey()),e.next=5,lp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new ys(ms.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Fm(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),zm.apply(this,arguments)}function Vm(e,t){var n=vs(e),r=n.cc.get(t);if(r&&r.nc)return Ql().add(r.key);var i=Ql(),a=n.rc.get(t);if(!a)return i;var o,s=T(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ic.get(u);i=i.unionWith(c.view.ju)}}catch(l){s.e(l)}finally{s.f()}return i}function Bm(e,t){return qm.apply(this,arguments)}function qm(){return qm=xt(bt().mark((function e(t,n){var r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs(t),e.next=3,bp(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&Lm(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),qm.apply(this,arguments)}function Wm(e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=xt(bt().mark((function e(t,n){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs(t),e.abrupt("return",xp(r.localStore,n).then((function(e){return Fm(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}function Km(e,t,n,r){return Gm.apply(this,arguments)}function Gm(){return Gm=xt(bt().mark((function e(t,n,r,i){var a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vs(t),e.next=3,function(e,t){var n=vs(e),r=vs(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Js.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,bv(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Dm(a,n,i||null),Am(a,n),function(e,t){vs(vs(e).mutationQueue).An(t)}(a.localStore,n)):ds();case 11:return e.next=13,Fm(a,o);case 13:e.next=16;break;case 15:cs("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Gm.apply(this,arguments)}function Qm(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=xt(bt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iy(r=vs(t)),ay(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Ym(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,Mv(r.remoteStore,!0);case 9:o=T(a);try{for(o.s();!(s=o.n()).done;)u=s.value,rv(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Rm(r,t),gp(r.localStore,t,!0)})),iv(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Ym(r,c);case 21:return function(e){var t=vs(e);t.cc.forEach((function(e,n){iv(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new gc(js.comparator)}(r),r.dc=!1,e.next=25,Mv(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Xm.apply(this,arguments)}function Ym(e,t,n){return $m.apply(this,arguments)}function $m(){return $m=xt(bt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=vs(t),a=[],o=[],s=T(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,yp(i.localStore,Wc(f[0]));case 11:l=e.sent,h=T(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,Bm(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,wp(i.localStore,c);case 36:return y=e.sent,e.next=39,yp(i.localStore,y);case 39:return l=e.sent,e.next=42,dm(i,Jm(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),$m.apply(this,arguments)}function Jm(e){return Fc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Zm(e){var t=vs(e);return vs(vs(t.localStore).persistence).vi()}function ey(e,t,n,r){return ty.apply(this,arguments)}function ty(){return ty=xt(bt().mark((function e(t,n,r,i){var a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=vs(t)).dc){e.next=3;break}return e.abrupt("return",void cs("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,xp(a.localStore,$c(o[0]));case 10:return s=e.sent,u=$l.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,ku.EMPTY_BYTE_STRING),e.next=14,Fm(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,gp(a.localStore,n,!0);case 17:return Rm(a,n,i),e.abrupt("break",20);case 19:ds();case 20:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t,n){return ry.apply(this,arguments)}function ry(){return ry=xt(bt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=iy(t)).dc){e.next=45;break}a=T(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.rc.has(s)){e.next=10;break}return cs("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,wp(i.localStore,s);case 12:return u=e.sent,e.next=15,yp(i.localStore,u);case 15:return c=e.sent,e.next=18,dm(i,Jm(u),c.targetId,!1,c.resumeToken);case 18:rv(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=T(r),e.prev=30,h=bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,gp(i.localStore,t,!1).then((function(){iv(i.remoteStore,t),Rm(i,t)})).catch(Ys);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),ry.apply(this,arguments)}function iy(e){var t=vs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=km.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xm.bind(null,t),t.sc.Wo=$v.bind(null,t.eventManager),t.sc.wc=Jv.bind(null,t.eventManager),t}function ay(e){var t=vs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Im.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Em.bind(null,t),t}function oy(e,t,n){var r=vs(e);(function(){var e=xt(bt().mark((function e(t,n,r){var i,a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=vs(e),r=pf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(im(i)),a=new rm(i,t.localStore,n.yt),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,Fm(t,u.Lu,void 0);case 31:return e.next=33,function(e,t){var n=vs(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(fs("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var sy=function(){function e(){l(this,e),this.synchronizeTabs=!1}return h(e,[{key:"initialize",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yt=Hp(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return cp(this.persistence,new sp,e.initialUser,this.yt)}},{key:"yc",value:function(e){return new Yd(Jd.Bs,this.yt)}},{key:"gc",value:function(e){return new Fp}},{key:"terminate",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),uy=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return h(n,[{key:"initialize",value:function(){var e=xt(bt().mark((function e(t){var r=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(v(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,ay(this.Ac.syncEngine);case 6:return e.next=8,bv(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return cp(this.persistence,new sp,e.initialUser,this.yt)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Td(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new cu(t,this.persistence);return new uu(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=ap(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?hd.withCacheSize(this.cacheSizeBytes):hd.DEFAULT;return new np(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,qp(),Wp(),this.yt,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new Fp}}]),n}(sy),cy=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return h(n,[{key:"initialize",value:function(){var e=xt(bt().mark((function e(t){var r,i=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(v(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Mp,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:Km.bind(null,r),$r:ey.bind(null,r),Br:ny.bind(null,r),vi:Zm.bind(null,r),Mr:Wm.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qm(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=qp();if(!Mp.C(t))throw new ys(ms.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ap(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(uy),ly=function(){function e(){l(this,e)}return h(e,[{key:"initialize",value:function(){var e=xt(bt().mark((function e(t,n){var r=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return wm(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Um.bind(null,this.syncEngine),e.next=12,Mv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Kv}},{key:"createDatastore",value:function(e){var t,n=Hp(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Bp(t));return function(e,t,n,r){return new Yp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return wm(o.syncEngine,e,0)},a=Up.C()?new Up:new jp,new Jp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new lm(e,t,n,r,i,a);return o&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vs(t),cs("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,tv(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function fy(e,t,n){if(!n)throw new ys(ms.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function hy(e,t,n,r){if(!0===t&&!0===r)throw new ys(ms.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function dy(e){if(!js.isDocumentKey(e))throw new ys(ms.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function py(e){if(js.isDocumentKey(e))throw new ys(ms.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function vy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ds()}function my(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ys(ms.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vy(e);throw new ys(ms.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function yy(e,t){if(t<=0)throw new ys(ms.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var gy=new Map,ky=function(){function e(t){var n;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ys(ms.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ys(ms.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,hy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return h(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),by=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ky({}),this._settingsFrozen=!1}return h(e,[{key:"app",get:function(){if(!this._app)throw new ys(ms.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ys(ms.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ky(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bs;switch(e.type){case"gapi":var t=e.client;return new Is(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ys(ms.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=gy.get(e);t&&(cs("ComponentProvider","Removing Datastore"),gy.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function wy(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=my(e,by))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&fs("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=as.MOCK_USER;else{o=rt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new ys(ms.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new as(u)}e._authCredentials=new ws(new ks(o,s))}}var xy=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return h(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Iy(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),_y=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return h(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Iy=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,jc(i)))._path=i,a.type="collection",a}return h(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new xy(this.firestore,null,new js(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(_y);function Sy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kt(e),fy("collection","path",t),e instanceof by){var a=Os.fromString.apply(Os,[t].concat(r));return py(a),new Iy(e,null,a)}if(!(e instanceof xy||e instanceof Iy))throw new ys(ms.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Os.fromString.apply(Os,[t].concat(r)));return py(o),new Iy(e.firestore,null,o)}function Ey(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=kt(e),1===arguments.length&&(t=Ns.R()),fy("doc","path",t),e instanceof by){var a=Os.fromString.apply(Os,[t].concat(r));return dy(a),new xy(e,null,new js(a))}if(!(e instanceof xy||e instanceof Iy))throw new ys(ms.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Os.fromString.apply(Os,[t].concat(r)));return dy(o),new xy(e.firestore,e instanceof Iy?e.converter:null,new js(o))}function Ty(e,t){return e=kt(e),t=kt(t),(e instanceof xy||e instanceof Iy)&&(t instanceof xy||t instanceof Iy)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Ny(e,t){return e=kt(e),t=kt(t),e instanceof _y&&t instanceof _y&&e.firestore===t.firestore&&Gc(e._query,t._query)&&e.converter===t.converter}function Cy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return xt(bt().mark((function r(){var i;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Ay=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return h(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString())}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Dy=function(){function e(t,n){var r=this;l(this,e),this.Pc=t,this.yt=n,this.metadata=new gs,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.ku))))}),(function(e){return r.metadata.reject(e)}))}return h(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=xt(bt().mark((function e(){var t,n,r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new tm(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=xt(bt().mark((function e(){var t,n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=xt(bt().mark((function e(){var t,n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ry=function(){function e(t){l(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return h(e,[{key:"lookup",value:function(){var e=xt(bt().mark((function e(t){var n,r=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ys(ms.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=xt(bt().mark((function e(t,n){var r,i,a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs(t),i=wf(r.yt)+"/documents",a={documents:n.map((function(e){return yf(r.yt,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Sf(r.yt,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());ps(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Rl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=xt(bt().mark((function e(){var t,n=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=js.fromPath(t);n.mutations.push(new Pl(r,n.precondition(r)))})),e.next=7,function(){var e=xt(bt().mark((function e(t,n){var r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs(t),i=wf(r.yt)+"/documents",a={writes:n.map((function(e){return Ef(r.yt,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ds();t=Ps.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ys(ms.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ps.min())?yl.exists(!1):yl.updateTime(t):yl.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ps.min()))throw new ys(ms.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yl.updateTime(t)}return yl.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Py=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.xo=new Kp(this.asyncQueue,"transaction_retry")}return h(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.xo.Ro(xt(bt().mark((function t(){var n,r;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Ry(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!mu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ol(t)}return!1}}]),e}(),Ly=function(){function e(t,n,r,i){var a=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=as.UNAUTHENTICATED,this.clientId=Ns.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cs("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return cs("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return h(e,[{key:"getConfiguration",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ys(ms.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(xt(bt().mark((function n(){var r;return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Vv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Oy(e,t){return My.apply(this,arguments)}function My(){return My=xt(bt().mark((function e(t,n){var r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),cs("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,lp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function Fy(e,t){return jy.apply(this,arguments)}function jy(){return jy=xt(bt().mark((function e(t,n){var r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Uy(t);case 3:return r=e.sent,cs("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Lv(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Lv(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),jy.apply(this,arguments)}function Uy(e){return zy.apply(this,arguments)}function zy(){return zy=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return cs("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Oy(t,new sy);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),zy.apply(this,arguments)}function Vy(e){return By.apply(this,arguments)}function By(){return By=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return cs("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Fy(t,new ly);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),By.apply(this,arguments)}function qy(e){return Uy(e).then((function(e){return e.persistence}))}function Wy(e){return Uy(e).then((function(e){return e.localStore}))}function Hy(e){return Vy(e).then((function(e){return e.remoteStore}))}function Ky(e){return Vy(e).then((function(e){return e.syncEngine}))}function Gy(e){return Vy(e).then((function(e){return e.datastore}))}function Qy(e){return Xy.apply(this,arguments)}function Xy(){return Xy=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vy(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=fm.bind(null,n.syncEngine),r.onUnlisten=vm.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function Yy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new gs;return e.asyncQueue.enqueueAndForget(xt(bt().mark((function i(){return bt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ay({next:function(a){t.enqueueAndForget((function(){return Xv(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new ys(ms.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new ys(ms.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new em(jc(n.path),a,{includeMetadataChanges:!0,Nu:!0});return Gv(e,o)},i.next=3,Qy(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function $y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new gs;return e.asyncQueue.enqueueAndForget(xt(bt().mark((function i(){return bt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Ay({next:function(n){t.enqueueAndForget((function(){return Xv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ys(ms.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new em(n,a,{includeMetadataChanges:!0,Nu:!0});return Gv(e,o)},i.next=3,Qy(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Jy=function(){function e(){var t=this;l(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Kp(this,"async_queue_retry"),this.Wc=function(){var e=Wp();e&&cs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.Po()};var n=Wp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return h(e,[{key:"isShuttingDown",get:function(){return this.qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;var t=Wp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.qc)return new Promise((function(){}));var n=new gs;return this.Hc((function(){return t.qc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=xt(bt().mark((function e(){var t=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ru(e.t0)){e.next=12;break}throw e.t0;case 12:cs("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.xo.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ls("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=zv.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.Uc.push(i),i}},{key:"zc",value:function(){this.Kc&&ds()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=T(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=T(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function Zy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=T(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var eg=function(){function e(){l(this,e),this._progressObserver={},this._taskCompletionResolver=new gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return h(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),tg=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Jy,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return h(n,[{key:"_terminate",value:function(){return this._firestoreClient||rg(this),this._firestoreClient.terminate()}}]),n}(by);function ng(e){return e._firestoreClient||rg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rg(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new fu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ly(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ig(e,t,n){var r=new gs;return e.asyncQueue.enqueue(xt(bt().mark((function i(){var a;return bt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Oy(e,n);case 3:return i.next=5,Fy(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ms.FAILED_PRECONDITION||e.code===ms.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:fs("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function ag(e){return function(e){return e.asyncQueue.enqueue(xt(bt().mark((function t(){var n,r;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qy(e);case 2:return n=t.sent,t.next=5,Hy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=vs(e);return t._u.delete(0),Zp(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ng(e=my(e,tg)))}function og(e){return function(e){return e.asyncQueue.enqueue(xt(bt().mark((function t(){var n,r;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qy(e);case 2:return n=t.sent,t.next=5,Hy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=vs(t))._u.add(0),e.next=4,tv(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ng(e=my(e,tg)))}function sg(e,t){var n=ng(e=my(e,tg)),r=new eg;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Dy(e,t)}(function(e,t){if(e instanceof Uint8Array)return Cy(e,t);if(e instanceof ArrayBuffer)return Cy(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Hp(t));e.asyncQueue.enqueueAndForget(xt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=oy,t.next=3,Ky(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ug(e,t){return function(e,t){return e.asyncQueue.enqueue(xt(bt().mark((function n(){return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=vs(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,Wy(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ng(e=my(e,tg)),t).then((function(t){return t?new _y(e,null,t.query):null}))}function cg(e){if(e._initialized||e._terminated)throw new ys(ms.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var lg=function(){function e(t){l(this,e),this._byteString=t}return h(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ku.fromBase64String(t))}catch(t){throw new ys(ms.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ku.fromUint8Array(t))}}]),e}(),fg=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ys(ms.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fs(n)}return h(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var hg=h((function e(t){l(this,e),this._methodName=t})),dg=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new ys(ms.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ys(ms.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return h(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Cs(this._lat,e._lat)||Cs(this._long,e._long)}}]),e}(),pg=/^__.*__$/,vg=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new El(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sl(e,this.data,t,this.fieldTransforms)}}]),e}(),mg=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return new El(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function yg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ds()}}var gg=function(){function e(t,n,r,i,a,o){l(this,e),this.settings=t,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return h(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return jg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(yg(this.sa)&&pg.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),kg=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.yt=r||Hp(t)}return h(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new gg({sa:e,methodName:t,fa:n,path:Fs.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}]),e}();function bg(e){var t=e._freezeSettings(),n=Hp(e._databaseId);return new kg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function wg(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);Lg("Data must be an object, but it was:",o,r);var s,u,c=Rg(r,o);if(a.merge)s=new Ic(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=T(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Og(t,d,n);if(!o.contains(p))throw new ys(ms.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Ug(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Ic(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new vg(new Sc(c),s,u)}var xg=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hg);function _g(e,t,n){return new gg({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.yt,t.ignoreUndefinedProperties)}var Ig=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){return new vl(e.path,new sl)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hg),Sg=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._a=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=_g(this,e,!0),n=this._a.map((function(e){return Dg(e,t)})),r=new ul(n);return new vl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hg),Eg=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._a=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=_g(this,e,!0),n=this._a.map((function(e){return Dg(e,t)})),r=new ll(n);return new vl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hg),Tg=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).wa=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=new hl(e.yt,nl(e.yt,this.wa));return new vl(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hg);function Ng(e,t,n,r){var i=e.da(1,t,n);Lg("Data must be an object, but it was:",i,r);var a=[],o=Sc.empty();pu(r,(function(e,r){var s=Fg(t,e,n);r=kt(r);var u=i.ca(s);if(r instanceof xg)a.push(s);else{var c=Dg(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Ic(a);return new mg(o,s,i.fieldTransforms)}function Cg(e,t,n,r,i,a){var o=e.da(1,t,n),s=[Og(t,r,n)],u=[i];if(a.length%2!=0)throw new ys(ms.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Og(t,a[c])),u.push(a[c+1]);for(var l=[],f=Sc.empty(),h=s.length-1;h>=0;--h)if(!Ug(l,s[h])){var d=s[h],p=u[h];p=kt(p);var v=o.ca(d);if(p instanceof xg)l.push(d);else{var m=Dg(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Ic(l);return new mg(f,y,o.fieldTransforms)}function Ag(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Dg(n,e.da(r?4:3,t))}function Dg(e,t){if(Pg(e=kt(e)))return Lg("Unsupported field value:",t,e),Rg(e,t);if(e instanceof hg)return function(e,t){if(!yg(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=T(e);try{for(a.s();!(n=a.n()).done;){var o=Dg(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=kt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nl(t.yt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Rs.fromDate(e);return{timestampValue:ff(t.yt,n)}}if(e instanceof Rs){var r=new Rs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ff(t.yt,r)}}if(e instanceof dg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lg)return{bytesValue:hf(t.yt,e._byteString)};if(e instanceof xy){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:vf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(vy(e)))}(e,t)}function Rg(e,t){var n={};return vu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pu(e,(function(e,r){var i=Dg(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Pg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Rs||e instanceof dg||e instanceof lg||e instanceof xy||e instanceof hg)}function Lg(e,t,n){if(!Pg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=vy(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function Og(e,t,n){if((t=kt(t))instanceof fg)return t._internalPath;if("string"==typeof t)return Fg(e,t);throw jg("Field path arguments must be of type string or ",e,!1,void 0,n)}var Mg=new RegExp("[~\\*/\\[\\]]");function Fg(e,t,n){if(t.search(Mg)>=0)throw jg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(fg,c(t.split(".")))._internalPath}catch(r){throw jg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function jg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new ys(ms.INVALID_ARGUMENT,s+e+u)}function Ug(e,t){return e.some((function(e){return e.isEqual(t)}))}var zg=function(){function e(t,n,r,i,a){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return h(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new xy(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Vg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Bg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Vg=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){return Jn(v(n.prototype),"data",this).call(this)}}]),n}(zg);function Bg(e,t){return"string"==typeof t?Fg(e,t):t instanceof fg?t._internalPath:t._delegate._internalPath}function qg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ys(ms.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wg=h((function e(){l(this,e)})),Hg=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(Wg);function Kg(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Wg&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Qg})).length,n=e.filter((function(e){return e instanceof Gg})).length;if(t>1||t>0&&n>0)throw new ys(ms.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=T(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var Gg=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return h(n,[{key:"_apply",value:function(e){var t=this._parse(e);return ok(e._query,t),new _y(e.firestore,e.converter,Hc(e._query,t))}},{key:"_parse",value:function(e){var t=bg(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ys(ms.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ak(o,a);var u,c=[],l=T(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(ik(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=ik(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ak(o,a),s=Ag(n,"where",o,"in"===a||"not-in"===a);return Ju.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Hg);var Qg=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return h(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Zu.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=T(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;ok(r,a),r=Hc(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new _y(e.firestore,e.converter,Hc(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Wg);var Xg=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return h(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ys(ms.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ys(ms.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new mc(t,n);return function(e,t){if(null===zc(e)){var n=Vc(e);null!==n&&sk(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new _y(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Mc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Hg);var Yg=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return h(n,[{key:"_apply",value:function(e){return new _y(e.firestore,e.converter,Kc(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Hg);var $g=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return h(n,[{key:"_apply",value:function(e){var t=rk(e,this.type,this._docOrFields,this._inclusive);return new _y(e.firestore,e.converter,function(e,t){return new Mc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Hg);function Jg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $g._create("startAt",t,!0)}function Zg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $g._create("startAfter",t,!1)}var ek=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return h(n,[{key:"_apply",value:function(e){var t=rk(e,this.type,this._docOrFields,this._inclusive);return new _y(e.firestore,e.converter,function(e,t){return new Mc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Hg);function tk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ek._create("endBefore",t,!1)}function nk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ek._create("endAt",t,!0)}function rk(e,t,n,r){if(n[0]=kt(n[0]),n[0]instanceof zg)return function(e,t,n,r,i){if(!r)throw new ys(ms.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=T(qc(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Mu(t,r.key));else{var c=r.data.field(u.field);if(Iu(c))throw new ys(ms.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new ys(ms.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Qu(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=bg(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ys(ms.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new ys(ms.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Bc(e)&&-1!==c.indexOf("/"))throw new ys(ms.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Os.fromString(c));if(!js.isDocumentKey(l))throw new ys(ms.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new js(l);s.push(Mu(t,f))}else{var h=Ag(n,r,c);s.push(h)}}return new Qu(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ik(e,t,n){if("string"==typeof(n=kt(n))){if(""===n)throw new ys(ms.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bc(t)&&-1!==n.indexOf("/"))throw new ys(ms.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Os.fromString(n));if(!js.isDocumentKey(r))throw new ys(ms.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Mu(e,new js(r))}if(n instanceof xy)return Mu(e,n._key);throw new ys(ms.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(vy(n),"."))}function ak(e,t){if(!Array.isArray(e)||0===e.length)throw new ys(ms.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ys(ms.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ok(e,t){if(t.isInequality()){var n=Vc(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new ys(ms.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=zc(e);null!==i&&sk(e,r,i)}var a=function(e,t){var n,r=T(e);try{for(r.s();!(n=r.n()).done;){var i,a=T(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new ys(ms.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ys(ms.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function sk(e,t,n){if(!n.isEqual(t))throw new ys(ms.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var uk=function(){function e(){l(this,e)}return h(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xu(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_u(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ds()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return pu(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new dg(xu(e.latitude),xu(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Su(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=wu(e);return new Rs(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Os.fromString(e);ps(Uf(n));var r=new hu(n.get(1),n.get(3)),i=new js(n.popFirst(5));return r.isEqual(t)||ls("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function ck(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lk=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new lg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xy(this.firestore,null,t)}}]),n}(uk),fk=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return h(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),hk=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return l(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return h(n,[{key:"exists",value:function(){return Jn(v(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new dk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Bg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(zg),dk=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Jn(v(n.prototype),"data",this).call(this,e)}}]),n}(hk),pk=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new fk(i.hasPendingWrites,i.fromCache),this.query=r}return h(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new dk(n._firestore,n._userDataWriter,r.key,r,new fk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ys(ms.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new dk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new dk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:vk(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function vk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ds()}}function mk(e,t){return e instanceof hk&&t instanceof hk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof pk&&t instanceof pk&&e._firestore===t._firestore&&Ny(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var yk=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new lg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new xy(this.firestore,null,t)}}]),n}(uk);function gk(e){e=my(e,xy);var t=my(e.firestore,tg),n=ng(t),r=new yk(t);return function(e,t){var n=new gs;return e.asyncQueue.enqueueAndForget(xt(bt().mark((function r(){return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=vs(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ys(ms.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Vv(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Wy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new hk(t,r,e._key,n,new fk(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function kk(e){e=my(e,_y);var t=my(e.firestore,tg),n=ng(t),r=new yk(t);return function(e,t){var n=new gs;return e.asyncQueue.enqueueAndForget(xt(bt().mark((function r(){return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=xt(bt().mark((function e(t,n,r){var i,a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bp(t,n,!0);case 3:i=e.sent,a=new sm(n,i.Hi),o=a.Wu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Vv(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Wy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new pk(t,r,e,n)}))}function bk(e,t,n){e=my(e,xy);var r=my(e.firestore,tg),i=ck(e.converter,t,n);return Ik(r,[wg(bg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,yl.none())])}function wk(e,t,n){e=my(e,xy);for(var r=my(e.firestore,tg),i=bg(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Ik(r,[("string"==typeof(t=kt(t))||t instanceof fg?Cg(i,"updateDoc",e._key,t,n,o):Ng(i,"updateDoc",e._key,t)).toMutation(e._key,yl.exists(!0))])}function xk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=kt(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Zy(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Zy(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof xy)l=my(e.firestore,tg),f=jc(e._key.path),c={next:function(t){n[u]&&n[u](Sk(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=my(e,_y);l=my(p.firestore,tg),f=p._query;var v=new yk(l);c={next:function(e){n[u]&&n[u](new pk(l,v,p,e))},error:n[u+1],complete:n[u+2]},qg(e._query)}return function(e,t,n,r){var i=new Ay(r),a=new em(t,i,n);return e.asyncQueue.enqueueAndForget(xt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Gv,t.next=3,Qy(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(xt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Xv,t.next=3,Qy(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ng(l),f,h,c)}function _k(e,t){return function(e,t){var n=new Ay(t);return e.asyncQueue.enqueueAndForget(xt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){vs(e).Ru.add(t),t.next()},t.next=3,Qy(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(xt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){vs(e).Ru.delete(t)},t.next=3,Qy(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ng(e=my(e,tg)),Zy(t)?t:{next:t})}function Ik(e,t){return function(e,t){var n=new gs;return e.asyncQueue.enqueueAndForget(xt(bt().mark((function r(){return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ym,r.next=3,Ky(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ng(e),t)}function Sk(e,t,n){var r=n.docs.get(t._key),i=new yk(e);return new hk(e,i,t._key,r,new fk(n.hasPendingWrites,n.fromCache),t.converter)}var Ek={maxAttempts:5},Tk=function(){function e(t,n){l(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=bg(t)}return h(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Nk(e,this._firestore),i=ck(r.converter,t,n),a=wg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,yl.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Nk(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=kt(t))||t instanceof fg?Cg(this._dataReader,"WriteBatch.update",i._key,t,n,o):Ng(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,yl.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Nk(e,this._firestore);return this._mutations=this._mutations.concat(new Rl(t._key,yl.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ys(ms.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Nk(e,t){if((e=kt(e)).firestore!==t)throw new ys(ms.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Ck=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._firestore=e,i}return h(n,[{key:"get",value:function(e){var t=this,r=Nk(e,this._firestore),i=new yk(this._firestore);return Jn(v(n.prototype),"get",this).call(this,e).then((function(e){return new hk(t._firestore,i,r._key,e._document,new fk(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){l(this,e),this._firestore=t,this._transaction=n,this._dataReader=bg(t)}return h(e,[{key:"get",value:function(e){var t=this,n=Nk(e,this._firestore),r=new lk(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ds();var i=e[0];if(i.isFoundDocument())return new zg(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new zg(t._firestore,r,n._key,null,n.converter);throw ds()}))}},{key:"set",value:function(e,t,n){var r=Nk(e,this._firestore),i=ck(r.converter,t,n),a=wg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Nk(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=kt(t))||t instanceof fg?Cg(this._dataReader,"Transaction.update",i._key,t,n,o):Ng(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Nk(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Ak(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sg("arrayUnion",t)}function Dk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Eg("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){os=e}(bn),dn(new _t("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new tg(new xs(e.getProvider("auth-internal")),new Es(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ys(ms.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),En(is,"3.8.0",e),En(is,"3.8.0","esm2017")}();function Rk(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ys("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Pk(){if("undefined"===typeof Uint8Array)throw new ys("unimplemented","Uint8Arrays are not available in this environment.")}function Lk(){if("undefined"==typeof atob)throw new ys("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Ok=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"toBase64",value:function(){return Lk(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Pk(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Lk(),new e(lg.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Pk(),new e(lg.fromUint8Array(t))}}]),e}();function Mk(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=T(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Fk=function(){function e(){l(this,e)}return h(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){cg(e=my(e,tg));var n=ng(e),r=e._freezeSettings(),i=new ly;return ig(n,i,new uy(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){cg(e=my(e,tg));var t=ng(e),n=e._freezeSettings(),r=new ly;return ig(t,r,new cy(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ys(ms.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new gs;return e._queue.enqueueAndForgetEvenWhileRestricted(xt(bt().mark((function n(){return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(eu.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,eu.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(ap(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),jk=function(){function e(t,n,r){var i=this;l(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof hu||(this._appCompat=t)}return h(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||fs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wy(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return ag(this._delegate)}},{key:"disableNetwork",value:function(){return og(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&hy("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new gs;return e.asyncQueue.enqueueAndForget(xt(bt().mark((function n(){return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Nm,n.next=3,Ky(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ng(e=my(e,tg)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return _k(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ys("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Jk(this,Sy(this._delegate,e))}catch(t){throw Wk(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new qk(this,Ey(this._delegate,e))}catch(t){throw Wk(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Xk(this,function(e,t){if(e=my(e,by),fy("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ys(ms.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new _y(e,null,function(e){return new Mc(Os.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Wk(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=my(e,tg);var r=Object.assign(Object.assign({},Ek),n);return function(e){if(e.maxAttempts<1)throw new ys(ms.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new gs;return e.asyncQueue.enqueueAndForget(xt(bt().mark((function i(){var a;return bt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Gy(e);case 2:a=i.sent,new Py(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(ng(e),(function(n){return t(new Ck(e,n))}),r)}(this._delegate,(function(n){return e(new zk(t,n))}))}},{key:"batch",value:function(){var e=this;return ng(this._delegate),new Vk(new Tk(this._delegate,(function(t){return Ik(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return sg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ug(this._delegate,e).then((function(e){return e?new Xk(t,e):null}))}}]),e}(),Uk=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new Ok(new lg(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return qk.forKey(t,this.firestore,null)}}]),n}(uk);var zk=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Uk(t)}return h(e,[{key:"get",value:function(e){var t=this,n=Zk(e);return this._delegate.get(n).then((function(e){return new Gk(t._firestore,new hk(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Zk(e);return n?(Rk("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Zk(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Zk(e);return this._delegate.delete(t),this}}]),e}(),Vk=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"set",value:function(e,t,n){var r=Zk(e);return n?(Rk("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Zk(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Zk(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Bk=function(){function e(t,n,r){l(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return h(e,[{key:"fromFirestore",value:function(e,t){var n=new dk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Qk(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Uk(t),n),i.set(n,a)),a}}]),e}();Bk.INSTANCES=new WeakMap;var qk=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Uk(t)}return h(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Jk(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Jk(this.firestore,Sy(this._delegate,e))}catch(t){throw Wk(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=kt(e))instanceof xy&&Ty(this._delegate,e)}},{key:"set",value:function(e,t){t=Rk("DocumentReference.set",t);try{return t?bk(this._delegate,e,t):bk(this._delegate,e)}catch(n){throw Wk(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?wk(this._delegate,e):wk.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Wk(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Ik(my(e.firestore,tg),[new Rl(e._key,yl.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Hk(n),a=Kk(n,(function(t){return new Gk(e.firestore,new hk(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return xk(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?gk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=my(e,xy);var t=my(e.firestore,tg);return Yy(ng(t),e._key,{source:"server"}).then((function(n){return Sk(t,e,n)}))}(this._delegate):function(e){e=my(e,xy);var t=my(e.firestore,tg);return Yy(ng(t),e._key).then((function(n){return Sk(t,e,n)}))}(this._delegate),t.then((function(e){return new Gk(n.firestore,new hk(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Bk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ys("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new xy(n._delegate,r,new js(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new xy(n._delegate,r,t))}}]),e}();function Wk(e,t,n){return e.message=e.message.replace(t,n),e}function Hk(e){var t,n=T(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Mk(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Kk(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Mk(e[0])?e[0]:Mk(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Gk=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"ref",get:function(){return new qk(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return mk(this._delegate,e._delegate)}}]),e}(),Qk=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ds()}(void 0!==t),t}}]),n}(Gk),Xk=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Uk(t)}return h(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Kg(this._delegate,function(e,t,n){var r=t,i=Bg("where",e);return Gg._create(i,r,n)}(t,n,r)))}catch(i){throw Wk(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Kg(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Bg("orderBy",e);return Xg._create(r,n)}(t,n)))}catch(r){throw Wk(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Kg(this._delegate,function(e){return yy("limit",e),Yg._create("limit",e,"F")}(t)))}catch(n){throw Wk(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Kg(this._delegate,function(e){return yy("limitToLast",e),Yg._create("limitToLast",e,"L")}(t)))}catch(n){throw Wk(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Kg(this._delegate,Jg.apply(void 0,arguments)))}catch(t){throw Wk(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Kg(this._delegate,Zg.apply(void 0,arguments)))}catch(t){throw Wk(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Kg(this._delegate,tk.apply(void 0,arguments)))}catch(t){throw Wk(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Kg(this._delegate,nk.apply(void 0,arguments)))}catch(t){throw Wk(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Ny(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?kk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=my(e,_y);var t=my(e.firestore,tg),n=ng(t),r=new yk(t);return $y(n,e._query,{source:"server"}).then((function(n){return new pk(t,r,e,n)}))}(this._delegate):function(e){e=my(e,_y);var t=my(e.firestore,tg),n=ng(t),r=new yk(t);return qg(e._query),$y(n,e._query).then((function(n){return new pk(t,r,e,n)}))}(this._delegate),t.then((function(e){return new $k(n.firestore,new pk(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Hk(n),a=Kk(n,(function(t){return new $k(e.firestore,new pk(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return xk(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Bk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Yk=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Qk(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),$k=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"query",get:function(){return new Xk(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Qk(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Yk(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Qk(n._firestore,r))}))}},{key:"isEqual",value:function(e){return mk(this._delegate,e._delegate)}}]),e}(),Jk=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return h(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new qk(this.firestore,e):null}},{key:"doc",value:function(e){try{return new qk(this.firestore,void 0===e?Ey(this._delegate):Ey(this._delegate,e))}catch(t){throw Wk(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=my(e.firestore,tg),r=Ey(e),i=ck(e.converter,t);return Ik(n,[wg(bg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,yl.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new qk(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Ty(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Bk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Xk);function Zk(e){return my(e,xy)}var eb,tb=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(fg,n)}return h(e,[{key:"isEqual",value:function(e){return(e=kt(e))instanceof fg&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Fs.keyField().canonicalString())}}]),e}(),nb=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Ig("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new xg("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Ak.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Dk.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Tg("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),rb={Firestore:jk,GeoPoint:dg,Timestamp:Rs,Blob:Ok,Transaction:zk,WriteBatch:Vk,DocumentReference:qk,DocumentSnapshot:Gk,Query:Xk,QueryDocumentSnapshot:Qk,QuerySnapshot:$k,CollectionReference:Jk,FieldPath:tb,FieldValue:nb,setLogLevel:function(e){!function(e){ss.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new _t("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},rb)))})(eb=Yn,(function(e,t){return new jk(e,t,new Fk)})),eb.registerVersion("@firebase/firestore-compat","0.3.0");function ib(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var ab;Object.create;var ob="facebook.com",sb="github.com",ub="google.com",cb="password",lb="twitter.com",fb="EMAIL_SIGNIN",hb="PASSWORD_RESET",db="RECOVER_EMAIL",pb="REVERT_SECOND_FACTOR_ADDITION",vb="VERIFY_AND_CHANGE_EMAIL",mb="VERIFY_EMAIL";function yb(){return ze({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var gb=function(){var e;return ze(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ze(e,"argument-error",""),ze(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ze(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ze(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ze(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ze(e,"cordova-not-ready","Cordova framework is not ready."),ze(e,"cors-unsupported","This browser is not supported."),ze(e,"credential-already-in-use","This credential is already associated with a different user account."),ze(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ze(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ze(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ze(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ze(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ze(e,"email-already-in-use","The email address is already in use by another account."),ze(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ze(e,"expired-action-code","The action code has expired."),ze(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ze(e,"internal-error","An internal AuthError has occurred."),ze(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ze(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ze(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ze(e,"invalid-auth-event","An internal AuthError has occurred."),ze(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ze(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ze(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ze(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ze(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ze(e,"invalid-email","The email address is badly formatted."),ze(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ze(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ze(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ze(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ze(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ze(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ze(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ze(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ze(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ze(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ze(e,"wrong-password","The password is invalid or the user does not have a password."),ze(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ze(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ze(e,"invalid-provider-id","The specified provider ID is invalid."),ze(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ze(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ze(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ze(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ze(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ze(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ze(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ze(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ze(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ze(e,"missing-continue-uri","A continue URL must be provided in the request."),ze(e,"missing-iframe-start","An internal AuthError has occurred."),ze(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ze(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ze(e,"missing-multi-factor-info","No second factor identifier is provided."),ze(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ze(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ze(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ze(e,"app-deleted","This instance of FirebaseApp has been deleted."),ze(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ze(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ze(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ze(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ze(e,"no-auth-event","An internal AuthError has occurred."),ze(e,"no-such-provider","User was not linked to an account with the given provider."),ze(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ze(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ze(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ze(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ze(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ze(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ze(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ze(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ze(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ze(e,"rejected-credential","The request contains malformed or mismatching credentials."),ze(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ze(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ze(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ze(e,"timeout","The operation has timed out."),ze(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ze(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ze(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ze(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ze(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ze(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ze(e,"unverified-email","The operation requires a verified email."),ze(e,"user-cancelled","The user did not grant your application the permissions it requested."),ze(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ze(e,"user-disabled","The user account has been disabled by an administrator."),ze(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ze(e,"user-signed-out",""),ze(e,"weak-password","The password must be 6 characters long or more."),ze(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ze(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},kb=yb,bb=new at("auth","Firebase",yb()),wb=new Lt("@firebase/auth");function xb(e){if(wb.logLevel<=Tt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wb.error.apply(wb,["Auth (".concat(bn,"): ").concat(e)].concat(n))}}function _b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Tb.apply(void 0,[e].concat(n))}function Ib(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Tb.apply(void 0,[e].concat(n))}function Sb(e,t,n){var r=Object.assign(Object.assign({},kb()),ze({},t,n));return new at("auth","Firebase",r).create(t,{appName:e.name})}function Eb(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&_b(e,"argument-error"),Sb(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Tb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=c(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(c(o)))}return bb.create.apply(bb,[e].concat(n))}function Nb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Tb.apply(void 0,[t].concat(r))}}function Cb(e){var t="INTERNAL ASSERTION FAILED: "+e;throw xb(t),new Error(t)}function Ab(e,t){e||Cb(t)}var Db=new Map;function Rb(e){Ab(e instanceof Function,"Expected a class definition");var t=Db.get(e);return t?(Ab(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Db.set(e,t),t)}function Pb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Lb(){return"http:"===Ob()||"https:"===Ob()}function Ob(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Mb=function(){function e(t,n){l(this,e),this.shortDelay=t,this.longDelay=n,Ab(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())||Xe()}return h(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Lb()||Qe()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Fb(e,t){Ab(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var jb=function(){function e(){l(this,e)}return h(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Cb("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Cb("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Cb("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ub=(ze(ab={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ze(ab,"MISSING_CUSTOM_TOKEN","internal-error"),ze(ab,"INVALID_IDENTIFIER","invalid-email"),ze(ab,"MISSING_CONTINUE_URI","internal-error"),ze(ab,"INVALID_PASSWORD","wrong-password"),ze(ab,"MISSING_PASSWORD","internal-error"),ze(ab,"EMAIL_EXISTS","email-already-in-use"),ze(ab,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ze(ab,"INVALID_IDP_RESPONSE","invalid-credential"),ze(ab,"INVALID_PENDING_TOKEN","invalid-credential"),ze(ab,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ze(ab,"MISSING_REQ_TYPE","internal-error"),ze(ab,"EMAIL_NOT_FOUND","user-not-found"),ze(ab,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ze(ab,"EXPIRED_OOB_CODE","expired-action-code"),ze(ab,"INVALID_OOB_CODE","invalid-action-code"),ze(ab,"MISSING_OOB_CODE","internal-error"),ze(ab,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ze(ab,"INVALID_ID_TOKEN","invalid-user-token"),ze(ab,"TOKEN_EXPIRED","user-token-expired"),ze(ab,"USER_NOT_FOUND","user-token-expired"),ze(ab,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ze(ab,"INVALID_CODE","invalid-verification-code"),ze(ab,"INVALID_SESSION_INFO","invalid-verification-id"),ze(ab,"INVALID_TEMPORARY_PROOF","invalid-credential"),ze(ab,"MISSING_SESSION_INFO","missing-verification-id"),ze(ab,"SESSION_EXPIRED","code-expired"),ze(ab,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ze(ab,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ze(ab,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ze(ab,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ze(ab,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ze(ab,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ze(ab,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ze(ab,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ze(ab,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ze(ab,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ze(ab,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ab),zb=new Mb(3e4,6e4);function Vb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Bb(e,t,n,r){return qb.apply(this,arguments)}function qb(){return qb=xt(bt().mark((function e(t,n,r,i){var a,o=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Wb(t,a,xt(bt().mark((function e(){var a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ft(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",jb.fetch()(Qb(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function Wb(e,t,n){return Hb.apply(this,arguments)}function Hb(){return Hb=xt(bt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ub),n),e.prev=2,a=new Xb(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Yb(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=_(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Yb(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Yb(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Yb(t,"user-disabled",s);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Sb(t,d,h);case 34:_b(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof it)){e.next=41;break}throw e.t0;case 41:_b(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Hb.apply(this,arguments)}function Kb(e,t,n,r){return Gb.apply(this,arguments)}function Gb(){return Gb=xt(bt().mark((function e(t,n,r,i){var a,o,s=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Bb(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&_b(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Gb.apply(this,arguments)}function Qb(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Fb(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Xb=function(){function e(t){var n=this;l(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ib(n.auth,"network-request-failed"))}),zb.get())}))}return h(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Yb(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ib(e,t,r);return i.customData._tokenResponse=n,i}function $b(e,t){return Jb.apply(this,arguments)}function Jb(){return(Jb=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bb(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zb(e,t){return ew.apply(this,arguments)}function ew(){return(ew=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tw(e,t){return nw.apply(this,arguments)}function nw(){return(nw=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bb(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rw(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function iw(){return iw=xt(bt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=kt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Nb((a=ow(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:rw(aw(a.auth_time)),issuedAtTime:rw(aw(a.iat)),expirationTime:rw(aw(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),iw.apply(this,arguments)}function aw(e){return 1e3*Number(e)}function ow(e){var t=_(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return xb("JWT malformed, contained fewer than 3 sections"),null;try{var a=We(r);return a?JSON.parse(a):(xb("Failed to decode base64 JWT payload"),null)}catch(o){return xb("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function sw(e,t){return uw.apply(this,arguments)}function uw(){return uw=xt(bt().mark((function e(t,n){var r=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof it&&cw(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),uw.apply(this,arguments)}function cw(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var lw=function(){function e(t){l(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return h(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(xt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),fw=function(){function e(t,n){l(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return h(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=rw(this.lastLoginAt),this.creationTime=rw(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function hw(e){return dw.apply(this,arguments)}function dw(){return dw=xt(bt().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,sw(t,tw(r,{idToken:i}));case 6:Nb(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?mw(o.providerUserInfo):[],u=vw(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new fw(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}function pw(){return(pw=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kt(t),e.next=3,hw(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vw(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(c(n),c(t))}function mw(e){return e.map((function(e){var t=e.providerId,n=ib(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function yw(e,t){return gw.apply(this,arguments)}function gw(){return(gw=xt(bt().mark((function e(t,n){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wb(t,{},xt(bt().mark((function e(){var r,i,a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ft({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Qb(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",jb.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kw=function(){function e(){l(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return h(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Nb(e.idToken,"internal-error"),Nb("undefined"!==typeof e.idToken,"internal-error"),Nb("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ow(e);return Nb(t,"internal-error"),Nb("undefined"!==typeof t.exp,"internal-error"),Nb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=xt(bt().mark((function e(t){var n,r=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Nb(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=xt(bt().mark((function e(t,n){var r,i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yw(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Cb("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Nb("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Nb("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Nb("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function bw(e,t){Nb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ww=function(){function e(t){l(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ib(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?c(a.providerData):[],this.metadata=new fw(a.createdAt||void 0,a.lastLoginAt||void 0)}return h(e,[{key:"getIdToken",value:function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sw(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Nb(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return iw.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return pw.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Nb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Nb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=xt(bt().mark((function e(t){var n,r,i=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,hw(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,sw(this,$b(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Nb(k&&_,t,"internal-error");var I=kw.fromJSON(this.name,_);Nb("string"===typeof k,t,"internal-error"),bw(f,t.name),bw(h,t.name),Nb("boolean"===typeof b,t,"internal-error"),Nb("boolean"===typeof w,t,"internal-error"),bw(d,t.name),bw(p,t.name),bw(v,t.name),bw(m,t.name),bw(y,t.name),bw(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=xt(bt().mark((function t(n,r){var i,a,o,s=arguments;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new kw).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,hw(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),xw=function(){function e(){l(this,e),this.type="NONE",this.storage={}}return h(e,[{key:"_isAvailable",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();xw.type="NONE";var _w=xw;function Iw(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Sw=function(){function e(t,n,r){l(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Iw(this.userKey,a.apiKey,o),this.fullPersistenceKey=Iw("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return h(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ww._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=xt(bt().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Rb(_w),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Rb(_w),s=Iw(i,n.config.apiKey,n.name),u=null,c=T(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=ww._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ew(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Aw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Tw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Rw(t))return"Blackberry";if(Pw(t))return"Webos";if(Nw(t))return"Safari";if((t.includes("chrome/")||Cw(t))&&!t.includes("edge/"))return"Chrome";if(Dw(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Tw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/firefox\//i.test(e)}function Nw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Cw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/crios\//i.test(e)}function Aw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/iemobile/i.test(e)}function Dw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/android/i.test(e)}function Rw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/blackberry/i.test(e)}function Pw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/webos/i.test(e)}function Lw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ow(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return Lw(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Mw(){return Ye()&&10===document.documentMode}function Fw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return Lw(e)||Dw(e)||Pw(e)||Rw(e)||/windows phone/i.test(e)||Aw(e)}function jw(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ew(Ke());break;case"Worker":t="".concat(Ew(Ke()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(bn,"/").concat(r)}var Uw=function(){function e(t){l(this,e),this.auth=t,this.queue=[]}return h(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=xt(bt().mark((function e(t){var n,r,i,a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=T(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=T(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zw=function(){function e(t,n,r){l(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bw(this),this.idTokenSubscription=new Bw(this),this.beforeStateQueue=new Uw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bb,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return h(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Rb(t)),this._initializationPromise=this.queue(xt(bt().mark((function r(){var i,a;return bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Sw.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=xt(bt().mark((function e(t){var n,r,i,a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Nb(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hw(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?kt(t):null)&&Nb(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=xt(bt().mark((function e(t){var n,r=this,i=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Nb(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(xt(bt().mark((function n(){return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Rb(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new at("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=xt(bt().mark((function e(t,n){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Nb(n=t&&Rb(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Sw.create(this,[Rb(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=xt(bt().mark((function e(t){var n=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Nb(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Nb(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jw(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=xt(bt().mark((function e(){var t,n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ze({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vw(e){return kt(e)}var Bw=function(){function e(t){var n=this;l(this,e),this.auth=t,this.observer=null,this.addObserver=pt((function(e){return n.observer=e}))}return h(e,[{key:"next",get:function(){return Nb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function qw(e,t,n){var r=Vw(e);Nb(r._canInitEmulator,r,"emulator-config-failed"),Nb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ww(t),o=function(e){var t=Ww(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Hw(r.substr(a.length+1))}}var o=_(r.split(":"),2);return{host:o[0],port:Hw(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ww(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Hw(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Kw=function(){function e(t,n){l(this,e),this.providerId=t,this.signInMethod=n}return h(e,[{key:"toJSON",value:function(){return Cb("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Cb("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Cb("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Cb("not implemented")}}]),e}();function Gw(e,t){return Qw.apply(this,arguments)}function Qw(){return(Qw=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bb(t,"POST","/v1/accounts:resetPassword",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xw(e,t){return Yw.apply(this,arguments)}function Yw(){return(Yw=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $w(e,t){return Jw.apply(this,arguments)}function Jw(){return(Jw=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bb(t,"POST","/v1/accounts:update",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zw(e,t){return ex.apply(this,arguments)}function ex(){return(ex=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kb(t,"POST","/v1/accounts:signInWithPassword",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tx(e,t){return nx.apply(this,arguments)}function nx(){return(nx=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bb(t,"POST","/v1/accounts:sendOobCode",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rx(e,t){return ix.apply(this,arguments)}function ix(){return(ix=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tx(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ax(e,t){return ox.apply(this,arguments)}function ox(){return(ox=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tx(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sx(e,t){return ux.apply(this,arguments)}function ux(){return(ux=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tx(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cx(e,t){return lx.apply(this,arguments)}function lx(){return(lx=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tx(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fx(e,t){return hx.apply(this,arguments)}function hx(){return(hx=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kb(t,"POST","/v1/accounts:signInWithEmailLink",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dx(e,t){return px.apply(this,arguments)}function px(){return(px=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kb(t,"POST","/v1/accounts:signInWithEmailLink",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vx=function(e){p(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return h(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Zw(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",fx(t,{email:this._email,oobCode:this._password}));case 5:_b(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Xw(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",dx(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:_b(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Kw);function mx(e,t){return yx.apply(this,arguments)}function yx(){return(yx=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kb(t,"POST","/v1/accounts:signInWithIdp",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gx=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return h(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return mx(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,mx(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,mx(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ft(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_b("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ib(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Kw);function kx(e,t){return bx.apply(this,arguments)}function bx(){return(bx=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bb(t,"POST","/v1/accounts:sendVerificationCode",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wx(){return(wx=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kb(t,"POST","/v1/accounts:signInWithPhoneNumber",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xx(){return(xx=xt(bt().mark((function e(t,n){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kb(t,"POST","/v1/accounts:signInWithPhoneNumber",Vb(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Yb(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _x=ze({},"USER_NOT_FOUND","user-not-found");function Ix(){return(Ix=xt(bt().mark((function e(t,n){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Kb(t,"POST","/v1/accounts:signInWithPhoneNumber",Vb(t,r),_x));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sx=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone","phone")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return wx.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return xx.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ix.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Kw);var Ex=function(){function e(t){var n,r,i,a,o,s;l(this,e);var u=ht(dt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,f=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Nb(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return h(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ht(dt(e)).link,n=t?ht(dt(t)).deep_link_id:null,r=ht(dt(e)).deep_link_id;return(r?ht(dt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(gy){return null}}}]),e}();var Tx=function(){function e(){l(this,e),this.providerId=e.PROVIDER_ID}return h(e,null,[{key:"credential",value:function(e,t){return vx._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ex.parseLink(t);return Nb(n,"argument-error"),vx._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Tx.PROVIDER_ID="password",Tx.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Tx.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Nx=function(){function e(t){l(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return h(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Cx=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).scopes=[],e}return h(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return c(this.scopes)}}]),n}(Nx),Ax=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Nb(e.idToken||e.accessToken,"argument-error"),gx._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Nb("providerId"in t&&"signInMethod"in t,"argument-error"),gx._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Cx),Dx=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"facebook.com")}return h(n,null,[{key:"credential",value:function(e){return gx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(gy){return null}}}]),n}(Cx);Dx.FACEBOOK_SIGN_IN_METHOD="facebook.com",Dx.PROVIDER_ID="facebook.com";var Rx=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return h(n,null,[{key:"credential",value:function(e,t){return gx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(gy){return null}}}]),n}(Cx);Rx.GOOGLE_SIGN_IN_METHOD="google.com",Rx.PROVIDER_ID="google.com";var Px=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"github.com")}return h(n,null,[{key:"credential",value:function(e){return gx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(gy){return null}}}]),n}(Cx);Px.GITHUB_SIGN_IN_METHOD="github.com",Px.PROVIDER_ID="github.com";var Lx=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return h(n,[{key:"_getIdTokenResponse",value:function(e){return mx(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,mx(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,mx(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Kw),Ox=function(e){p(n,e);var t=b(n);function n(e){return l(this,n),Nb(e.startsWith("saml."),"argument-error"),t.call(this,e)}return h(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Lx.fromJSON(e);return Nb(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Lx._create(r,n)}catch(i){return null}}}]),n}(Nx),Mx=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"twitter.com")}return h(n,null,[{key:"credential",value:function(e,t){return gx._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(gy){return null}}}]),n}(Cx);function Fx(e,t){return jx.apply(this,arguments)}function jx(){return(jx=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kb(t,"POST","/v1/accounts:signUp",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Mx.TWITTER_SIGN_IN_METHOD="twitter.com",Mx.PROVIDER_ID="twitter.com";var Ux=function(){function e(t){l(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return h(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=xt(bt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ww._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=zx(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=xt(bt().mark((function t(n,r,i){var a;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=zx(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function zx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Vx(){return Vx=xt(bt().mark((function e(t){var n,r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vw(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ux({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Fx(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ux._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}var Bx=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o,s;return l(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(g(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return h(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(it);function qx(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Bx._fromErrorAndOperation(e,n,t,r);throw n}))}function Wx(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Hx(e,t){return Kx.apply(this,arguments)}function Kx(){return Kx=xt(bt().mark((function e(t,n){var r,i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kt(t),e.next=3,Xx(!0,r,n);case 3:return e.t0=Zb,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Wx(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Gx(e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=xt(bt().mark((function e(t,n){var r,i,a=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=sw,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ux._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function Xx(e,t,n){return Yx.apply(this,arguments)}function Yx(){return(Yx=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hw(n);case 2:i=Wx(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Nb(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $x(e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=xt(bt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,sw(t,qx(i,a,n,t),r);case 6:return Nb((o=e.sent).idToken,i,"internal-error"),Nb(s=ow(o.idToken),i,"internal-error"),u=s.sub,Nb(t.uid===u,i,"user-mismatch"),e.abrupt("return",Ux._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&_b(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Jx.apply(this,arguments)}function Zx(e,t){return e_.apply(this,arguments)}function e_(){return e_=xt(bt().mark((function e(t,n){var r,i,a,o,s=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,qx(t,i,n);case 4:return a=e.sent,e.next=7,Ux._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),e_.apply(this,arguments)}function t_(e,t){return n_.apply(this,arguments)}function n_(){return(n_=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zx(Vw(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r_(e,t){return i_.apply(this,arguments)}function i_(){return(i_=xt(bt().mark((function e(t,n){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kt(t),e.next=3,Xx(!1,r,n.providerId);case 3:return e.abrupt("return",Gx(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a_(e,t){return o_.apply(this,arguments)}function o_(){return(o_=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$x(kt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s_(e,t){return u_.apply(this,arguments)}function u_(){return(u_=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kb(t,"POST","/v1/accounts:signInWithCustomToken",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c_(){return(c_=xt(bt().mark((function e(t,n){var r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vw(t),e.next=3,s_(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ux._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l_=function(){function e(t,n){l(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return h(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?f_._fromServerResponse(e,t):_b(e,"internal-error")}}]),e}(),f_=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return h(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(l_);function h_(e,t,n){var r;Nb((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Nb("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Nb(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Nb(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function d_(){return(d_=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kt(t),a={requestType:"PASSWORD_RESET",email:n},r&&h_(i,a,r),e.next=5,ax(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p_(){return(p_=xt(bt().mark((function e(t,n,r){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gw(kt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v_(){return(v_=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$w(kt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m_(e,t){return y_.apply(this,arguments)}function y_(){return(y_=xt(bt().mark((function e(t,n){var r,i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kt(t),e.next=3,Gw(r,{oobCode:n});case 3:i=e.sent,Nb(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Nb(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Nb(i.mfaInfo,r,"internal-error");case 13:Nb(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=l_._fromServerResponse(Vw(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g_(){return(g_=xt(bt().mark((function e(t,n){var r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m_(kt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k_(e,t,n){return b_.apply(this,arguments)}function b_(){return(b_=xt(bt().mark((function e(t,n,r){var i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vw(t),e.next=3,Fx(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ux._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w_(){return(w_=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kt(t),a={requestType:"EMAIL_SIGNIN",email:n},Nb(r.handleCodeInApp,i,"argument-error"),r&&h_(i,a,r),e.next=6,sx(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x_(){return(x_=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kt(t),Nb((a=Tx.credentialWithLink(n,r||Pb()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",t_(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function __(e,t){return I_.apply(this,arguments)}function I_(){return(I_=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bb(t,"POST","/v1/accounts:createAuthUri",Vb(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S_(){return(S_=xt(bt().mark((function e(t,n){var r,i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lb()?Pb():"http://localhost",i={identifier:n,continueUri:r},e.next=4,__(kt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E_(){return(E_=xt(bt().mark((function e(t,n){var r,i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&h_(r.auth,a,n),e.next=8,rx(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T_(){return(T_=xt(bt().mark((function e(t,n,r){var i,a,o,s;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&h_(i.auth,o,r),e.next=8,cx(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N_(e,t){return C_.apply(this,arguments)}function C_(){return(C_=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bb(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A_(){return(A_=xt(bt().mark((function e(t,n){var r,i,a,o,s,u,c;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=kt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,sw(a,N_(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D_(e,t,n){return R_.apply(this,arguments)}function R_(){return(R_=xt(bt().mark((function e(t,n,r){var i,a,o,s;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,sw(t,Xw(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P_=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),L_=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i)).username=a,o}return h(n)}(P_),O_=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"facebook.com",r)}return h(n)}(P_),M_=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return h(n)}(L_),F_=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"google.com",r)}return h(n)}(P_),j_=function(e){p(n,e);var t=b(n);function n(e,r,i){return l(this,n),t.call(this,e,"twitter.com",r,i)}return h(n)}(L_);function U_(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ow(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new P_(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new O_(a,i);case"github.com":return new M_(a,i);case"google.com":return new F_(a,i);case"twitter.com":return new j_(a,i,e.screenName||null);case"custom":case"anonymous":return new P_(a,null);default:return new P_(a,r,i)}}(n)}var z_=function(){function e(t,n,r){l(this,e),this.type=t,this.credential=n,this.auth=r}return h(e,[{key:"toJSON",value:function(){return{multiFactorSession:ze({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),V_=function(){function e(t,n,r){l(this,e),this.session=t,this.hints=n,this.signInResolver=r}return h(e,[{key:"resolveSignIn",value:function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Vw(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return l_._fromServerResponse(r,e)}));Nb(i.mfaPendingCredential,r,"internal-error");var o=z_._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=xt(bt().mark((function e(t){var a,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ux._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Nb(n.user,r,"internal-error"),e.abrupt("return",Ux._forOperation(n.user,n.operationType,s));case 17:_b(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function B_(e,t){return Bb(e,"POST","/v2/accounts/mfaEnrollment:start",Vb(e,t))}var q_=function(){function e(t){var n=this;l(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return l_._fromServerResponse(t.auth,e)})))}))}return h(e,[{key:"getSession",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=z_,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=xt(bt().mark((function e(t,n){var r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,sw(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=xt(bt().mark((function e(t){var n,r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,sw(this.user,Bb(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Vb(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),W_=new WeakMap;var H_="__sak",K_=function(){function e(t,n){l(this,e),this.storageRetriever=t,this.type=n}return h(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(H_,"1"),this.storage.removeItem(H_),Promise.resolve(!0)):Promise.resolve(!1)}catch(gy){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var G_=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ke();return Nw(e)||Lw(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Fw(),e._shouldAllowMigration=!0,e}return h(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Mw()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=xt(bt().mark((function e(t,r){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(v(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=xt(bt().mark((function e(t){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(v(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(v(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(K_);G_.type="LOCAL";var Q_=G_,X_=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return h(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(K_);X_.type="SESSION";var Y_=X_;function $_(e){return Promise.all(e.map(function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var J_=function(){function e(t){l(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return h(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=xt(bt().mark((function e(t){var n,r,i,a,o,s,u,c;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,$_(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Z_(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}J_.receivers=[];var eI=function(){function e(t){l(this,e),this.target=t,this.handlers=new Set}return h(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=xt(bt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Z_("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function tI(){return window}function nI(){return"undefined"!==typeof tI().WorkerGlobalScope&&"function"===typeof tI().importScripts}function rI(){return iI.apply(this,arguments)}function iI(){return(iI=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function aI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var oI="firebaseLocalStorageDb",sI="firebaseLocalStorage",uI="fbase_key",cI=function(){function e(t){l(this,e),this.request=t}return h(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function lI(e,t){return e.transaction([sI],t?"readwrite":"readonly").objectStore(sI)}function fI(){var e=indexedDB.deleteDatabase(oI);return new cI(e).toPromise()}function hI(){var e=indexedDB.open(oI,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(sI,{keyPath:uI})}catch(r){n(r)}})),e.addEventListener("success",xt(bt().mark((function n(){var r;return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(sI)){n.next=12;break}return r.close(),n.next=5,fI();case 5:return n.t0=t,n.next=8,hI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function dI(e,t,n){return pI.apply(this,arguments)}function pI(){return pI=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=lI(t,!0).put((ze(i={},uI,n),ze(i,"value",r),i)),e.abrupt("return",new cI(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(e,t){return mI.apply(this,arguments)}function mI(){return mI=xt(bt().mark((function e(t,n){var r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lI(t,!1).get(n),e.next=3,new cI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function yI(e,t){var n=lI(e,!0).delete(t);return new cI(n).toPromise()}var gI=function(){function e(){l(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return h(e,[{key:"_openDb",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,hI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=xt(bt().mark((function e(){var t=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=J_._getInstance(nI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=xt(bt().mark((function e(n,r){var i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=xt(bt().mark((function e(){var t,n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new eI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&aI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,hI();case 5:return t=e.sent,e.next=8,dI(t,H_,"1");case 8:return e.next=10,yI(t,H_);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=xt(bt().mark((function e(t,n){var r=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return dI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return vI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=xt(bt().mark((function e(t){var n=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return yI(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=xt(bt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=lI(e,!1).getAll();return new cI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=T(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(xt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();gI.type="LOCAL";var kI=gI;function bI(e,t){return Bb(e,"POST","/v2/accounts/mfaSignIn:start",Vb(e,t))}function wI(e){return xI.apply(this,arguments)}function xI(){return(xI=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bb(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _I(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ib("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function II(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var SI=1e12,EI=function(){function e(t){l(this,e),this.auth=t,this.counter=SI,this._widgets=new Map}return h(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new TI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||SI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||SI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||SI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),TI=function(){function e(t,n,r){var i=this;l(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Nb(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return h(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var NI=II("rcb"),CI=new Mb(3e4,6e4),AI="https://www.google.com/recaptcha/api.js?",DI=function(){function e(){var t;l(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=tI().grecaptcha)||void 0===t?void 0:t.render)}return h(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Nb(RI(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(tI().grecaptcha):new Promise((function(r,i){var a=tI().setTimeout((function(){i(Ib(e,"network-request-failed"))}),CI.get());tI()[NI]=function(){tI().clearTimeout(a),delete tI()[NI];var o=tI().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ib(e,"internal-error"))},_I("".concat(AI,"?").concat(ft({onload:NI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ib(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=tI().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function RI(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var PI=function(){function e(){l(this,e)}return h(e,[{key:"load",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new EI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),LI="recaptcha",OI={theme:"light",type:"image"},MI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},OI),r=arguments.length>2?arguments[2]:void 0;l(this,e),this.parameters=n,this.type=LI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vw(r),this.isInvisible="invisible"===this.parameters.size,Nb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Nb(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new PI:new DI,this.validateStartingState()}return h(e,[{key:"verify",value:function(){var e=xt(bt().mark((function e(){var t,n,r,i=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Nb(!this.parameters.sitekey,this.auth,"argument-error"),Nb(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Nb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=tI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Nb(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=xt(bt().mark((function e(){var t,n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nb(Lb()&&!nI(),this.auth,"internal-error"),e.next=3,FI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,wI(this.auth);case 8:Nb(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Nb(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function FI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var jI=function(){function e(t,n){l(this,e),this.verificationId=t,this.onConfirmation=n}return h(e,[{key:"confirm",value:function(e){var t=Sx._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function UI(){return(UI=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vw(t),e.next=3,qI(i,n,kt(r));case 3:return a=e.sent,e.abrupt("return",new jI(a,(function(e){return t_(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zI(e,t,n){return VI.apply(this,arguments)}function VI(){return(VI=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kt(t),e.next=3,Xx(!1,i,"phone");case 3:return e.next=5,qI(i.auth,n,kt(r));case 5:return a=e.sent,e.abrupt("return",new jI(a,(function(e){return r_(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BI(){return(BI=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kt(t),e.next=3,qI(i.auth,n,kt(r));case 3:return a=e.sent,e.abrupt("return",new jI(a,(function(e){return a_(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qI(e,t,n){return WI.apply(this,arguments)}function WI(){return WI=xt(bt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Nb("string"===typeof a,t,"argument-error"),Nb(r.type===LI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Nb("enroll"===s.type,t,"internal-error"),e.next=13,B_(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Nb("signin"===s.type,t,"internal-error"),Nb(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,bI(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,kx(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),WI.apply(this,arguments)}function HI(){return(HI=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gx(kt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var KI=function(){function e(t){l(this,e),this.providerId=e.PROVIDER_ID,this.auth=Vw(t)}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return qI(this.auth,e,kt(t))}}],[{key:"credential",value:function(e,t){return Sx._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Sx._fromTokenResponse(n,r):null}}]),e}();function GI(e,t){return t?Rb(t):(Nb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}KI.PROVIDER_ID="phone",KI.PHONE_SIGN_IN_METHOD="phone";var QI=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"custom","custom")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return mx(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return mx(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return mx(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Kw);function XI(e){return Zx(e.auth,new QI(e),e.bypassAuthState)}function YI(e){var t=e.auth,n=e.user;return Nb(n,t,"internal-error"),$x(n,new QI(e),e.bypassAuthState)}function $I(e){return JI.apply(this,arguments)}function JI(){return(JI=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Nb(r=t.user,n,"internal-error"),e.abrupt("return",Gx(r,new QI(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ZI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];l(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return h(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=xt(bt().mark((function t(n,r){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=xt(bt().mark((function e(t){var n,r,i,a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XI;case"linkViaPopup":case"linkViaRedirect":return $I;case"reauthViaPopup":case"reauthViaRedirect":return YI;default:_b(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ab(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ab(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),eS=new Mb(2e3,1e4);function tS(e,t,n){return nS.apply(this,arguments)}function nS(){return(nS=xt(bt().mark((function e(t,n,r){var i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vw(t),Eb(t,n,Nx),a=GI(i,r),o=new oS(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rS(){return(rS=xt(bt().mark((function e(t,n,r){var i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eb((i=kt(t)).auth,n,Nx),a=GI(i.auth,r),o=new oS(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iS(e,t,n){return aS.apply(this,arguments)}function aS(){return(aS=xt(bt().mark((function e(t,n,r){var i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eb((i=kt(t)).auth,n,Nx),a=GI(i.auth,r),o=new oS(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oS=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o){var s;return l(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=g(s),s}return h(n,[{key:"executeNotNull",value:function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Nb(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=xt(bt().mark((function e(){var t,n=this;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ab(1===this.filter.length,"Popup operations only handle one event"),t=Z_(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ib(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ib(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ib(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,eS.get())}()}}]),n}(ZI);oS.currentPopupAction=null;var sS=new Map,uS=function(e){p(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return h(n,[{key:"execute",value:function(){var e=xt(bt().mark((function e(){var t,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=sS.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,cS(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Jn(v(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:sS.set(this.auth._key(),t);case 21:return this.bypassAuthState||sS.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=xt(bt().mark((function e(t){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Jn(v(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Jn(v(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ZI);function cS(e,t){return lS.apply(this,arguments)}function lS(){return(lS=xt(bt().mark((function e(t,n){var r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vS(n),i=pS(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fS(e,t){return hS.apply(this,arguments)}function hS(){return(hS=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pS(t)._set(vS(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dS(e,t){sS.set(e._key(),t)}function pS(e){return Rb(e._redirectPersistence)}function vS(e){return Iw("pendingRedirect",e.config.apiKey,e.name)}function mS(e,t,n){return function(e,t,n){return yS.apply(this,arguments)}(e,t,n)}function yS(){return(yS=xt(bt().mark((function e(t,n,r){var i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vw(t),Eb(t,n,Nx),a=GI(i,r),e.next=5,fS(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gS(e,t,n){return function(e,t,n){return kS.apply(this,arguments)}(e,t,n)}function kS(){return(kS=xt(bt().mark((function e(t,n,r){var i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eb((i=kt(t)).auth,n,Nx),a=GI(i.auth,r),e.next=5,fS(a,i.auth);case 5:return e.next=7,ES(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bS(e,t,n){return function(e,t,n){return wS.apply(this,arguments)}(e,t,n)}function wS(){return(wS=xt(bt().mark((function e(t,n,r){var i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Eb((i=kt(t)).auth,n,Nx),a=GI(i.auth,r),e.next=5,Xx(!1,i,n.providerId);case 5:return e.next=7,fS(a,i.auth);case 7:return e.next=9,ES(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xS(e,t){return _S.apply(this,arguments)}function _S(){return(_S=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vw(t)._initializationPromise;case 2:return e.abrupt("return",IS(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IS(e,t){return SS.apply(this,arguments)}function SS(){return SS=xt(bt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Vw(t),a=GI(i,n),o=new uS(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function ES(e){return TS.apply(this,arguments)}function TS(){return(TS=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Z_("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var NS=function(){function e(t){l(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return h(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AS(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!AS(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ib(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(CS(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(CS(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function CS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function AS(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function DS(e){return RS.apply(this,arguments)}function RS(){return RS=xt(bt().mark((function e(t){var n,r=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Bb(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}var PS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LS=/^https?/;function OS(){return(OS=xt(bt().mark((function e(t){var n,r,i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,DS(t);case 4:n=e.sent,r=n.authorizedDomains,i=T(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!MS(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:_b(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function MS(e){var t=Pb(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!LS.test(r))return!1;if(PS.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var FS=new Mb(3e4,6e4);function jS(){var e=tI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=c(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var US=null;function zS(e){return US=US||function(e){return new Promise((function(t,n){var r,i,a;function o(){jS(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){jS(),n(Ib(e,"network-request-failed"))},timeout:FS.get()})}if(null===(i=null===(r=tI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=tI().gapi)||void 0===a?void 0:a.load)){var s=II("iframefcb");return tI()[s]=function(){gapi.load?o():n(Ib(e,"network-request-failed"))},_I("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw US=null,e}))}(e),US}var VS=new Mb(5e3,15e3),BS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WS(e){var t=e.config;Nb(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Fb(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:bn},i=qS.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ft(r).slice(1))}function HS(e){return KS.apply(this,arguments)}function KS(){return KS=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zS(t);case 2:return n=e.sent,Nb(r=tI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:WS(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BS,dontclear:!0},(function(e){return new Promise(function(){var n=xt(bt().mark((function n(r,i){var a,o,s;return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){tI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ib(t,"network-request-failed"),o=tI().setTimeout((function(){i(a)}),VS.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}var GS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QS="_blank",XS="http://localhost",YS=function(){function e(t){l(this,e),this.window=t,this.associatedEvent=null}return h(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function $S(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},GS),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ke().toLowerCase();n&&(s=Cw(c)?QS:n),Tw(c)&&(t=t||XS,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=_(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ow(c)&&"_self"!==s)return JS(t||"",s),new YS(null);var f=window.open(t||"",s,l);Nb(f,e,"popup-blocked");try{f.focus()}catch(h){}return new YS(f)}function JS(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ZS="__/auth/handler",eE="emulator/auth/handler";function tE(e,t,n,r,i,a){Nb(e.config.authDomain,e,"auth-domain-config-required"),Nb(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:bn,eventId:i};if(t instanceof Nx){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=_(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Cx){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ZS);return Fb(t,eE)}(e),"?").concat(ft(d).slice(1))}var nE="webStorageSupport",rE=function(){function e(){l(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y_,this._completeRedirectFn=IS,this._overrideRedirectResult=dS}return h(e,[{key:"_openPopup",value:function(){var e=xt(bt().mark((function e(t,n,r,i){var a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ab(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=tE(t,n,r,Pb(),i),e.abrupt("return",$S(t,o,Z_()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=xt(bt().mark((function e(t,n,r,i){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=tE(t,n,r,Pb(),i),tI().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ab(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HS(t);case 2:return n=e.sent,r=new NS(t),n.register("authEvent",(function(e){return Nb(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(nE,{type:nE},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[nE];void 0!==i&&t(!!i),_b(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return OS.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Fw()||Nw()||Lw()}}]),e}(),iE=rE,aE=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone")).credential=e,r}return h(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Bb(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vb(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Bb(e,"POST","/v2/accounts/mfaSignIn:finalize",Vb(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){l(this,e),this.factorId=t}return h(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Cb("unexpected MultiFactorSessionType")}}}]),e}()),oE=function(){function e(){l(this,e)}return h(e,null,[{key:"assertion",value:function(e){return aE._fromCredential(e)}}]),e}();oE.FACTOR_ID="phone";var sE="@firebase/auth",uE="0.21.0",cE=function(){function e(t){l(this,e),this.auth=t,this.internalListeners=new Map}return h(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Nb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var lE;!function(e){var t;null===(t=et())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function fE(){return window}lE="Browser",dn(new _t("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Nb(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Nb(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:lE,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jw(lE)},i=new zw(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rb);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),dn(new _t("auth-internal",(function(e){return function(e){return new cE(e)}(Vw(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),En(sE,uE,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(lE)),En(sE,uE,"esm2017");function hE(e,t,n){return dE.apply(this,arguments)}function dE(){return dE=xt(bt().mark((function e(t,n,r){var i,a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fE(),o=a.BuildInfo,Ab(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,kE(n.sessionId);case 4:return s=e.sent,u={},Lw()?u.ibi=o.packageName:Dw()?u.apn=o.packageName:_b(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",tE(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}function pE(){return(pE=xt(bt().mark((function e(t){var n,r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fE(),r=n.BuildInfo,i={},Lw()?i.iosBundleId=r.packageName:Dw()?i.androidPackageName=r.packageName:_b(t,"operation-not-supported-in-this-environment"),e.next=5,DS(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vE(e){var t=fE().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function mE(e,t,n){return yE.apply(this,arguments)}function yE(){return yE=xt(bt().mark((function e(t,n,r){var i,a,o;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fE(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Ib(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Dw()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),yE.apply(this,arguments)}function gE(e){var t,n,r,i,a,o,s,u,c,l,f=fE();Nb("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Nb("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Nb("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Nb("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Nb("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function kE(e){return bE.apply(this,arguments)}function bE(){return(bE=xt(bt().mark((function e(t){var n,r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wE(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wE(e){if(Ab(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var xE=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return h(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Jn(v(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(NS);function _E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:NE(),postBody:null,tenantId:e.tenantId,error:Ib(e,"no-auth-event")}}function IE(e,t){return CE()._set(AE(e),t)}function SE(e){return EE.apply(this,arguments)}function EE(){return(EE=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,CE()._get(AE(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,CE()._remove(AE(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TE(e,t){var n,r,i=function(e){var t=DE(e),n=t.link?decodeURIComponent(t.link):void 0,r=DE(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return DE(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=DE(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Ib(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function NE(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function CE(){return Rb(Q_)}function AE(e){return Iw("authEvent",e.config.apiKey,e.name)}function DE(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=E(e.split("?"));t[0];return ht(t.slice(1).join("?"))}var RE=function(){function e(){l(this,e),this._redirectPersistence=Y_,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=IS,this._overrideRedirectResult=dS}return h(e,[{key:"_initialize",value:function(){var e=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new xE(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){_b(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=xt(bt().mark((function e(t,n,r,i){var a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gE(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),sS.clear(),e.next=10,this._originValidation(t);case 10:return o=_E(t,r,i),e.next=13,IE(t,o);case 13:return e.next=15,hE(t,o,n);case 15:return s=e.sent,e.next=18,vE(s);case 18:return u=e.sent,e.abrupt("return",mE(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pE.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=fE(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(xt(bt().mark((function n(){return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,SE(e);case 2:t.onEvent(LE());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=xt(bt().mark((function n(r){var i,a;return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,SE(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=TE(i,r.url)),t.onEvent(a||LE());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");fE().handleOpenURL=function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),PE=RE;function LE(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ib("no-auth-event")}}function OE(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ME(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return!("file:"!==OE()&&"ionic:"!==OE()&&"capacitor:"!==OE()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function FE(){return Ye()&&11===(null===document||void 0===document?void 0:document.documentMode)}function jE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/Edge\/\d+/.test(e)}function UE(){try{var e=self.localStorage,t=Z_();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return FE()||jE(e)}()||$e()}catch(n){return zE()&&$e()}return!1}function zE(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function VE(){return("http:"===OE()||"https:"===OE()||Qe()||ME())&&!(Xe()||Ge())&&UE()&&!zE()}function BE(){return ME()&&"undefined"!==typeof document}function qE(){return WE.apply(this,arguments)}function WE(){return(WE=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(BE()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HE={LOCAL:"local",NONE:"none",SESSION:"session"},KE=Nb,GE="persistence";function QE(e,t){KE(Object.values(HE).includes(t),e,"invalid-persistence-type"),Xe()?KE(t!==HE.SESSION,e,"unsupported-persistence-type"):Ge()?KE(t===HE.NONE,e,"unsupported-persistence-type"):zE()?KE(t===HE.NONE||t===HE.LOCAL&&$e(),e,"unsupported-persistence-type"):KE(t===HE.NONE||UE(),e,"unsupported-persistence-type")}function XE(e){return YE.apply(this,arguments)}function YE(){return(YE=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=$E(),r=Iw(GE,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $E(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var JE=Nb,ZE=function(){function e(){l(this,e),this.browserResolver=Rb(iE),this.cordovaResolver=Rb(PE),this.underlyingResolver=null,this._redirectPersistence=Y_,this._completeRedirectFn=IS,this._overrideRedirectResult=dS}return h(e,[{key:"_initialize",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=xt(bt().mark((function e(t,n,r,i){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=xt(bt().mark((function e(t,n,r,i){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return BE()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return JE(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,qE();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function eT(e){return e.unwrap()}function tT(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new oT(e,function(e,t){var n,r=kt(e),i=t;return Nb(t.customData.operationType,r,"argument-error"),Nb(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),V_._fromError(r,i)}(e,t));else if(r){var i=nT(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function nT(e){var t=(e instanceof it?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof it)&&"temporaryProof"in t&&"phoneNumber"in t)return KI.credentialFromResult(e);var n,r=t.providerId;if(!r||r===cb)return null;switch(r){case ub:n=Rx;break;case ob:n=Dx;break;case sb:n=Px;break;case lb:n=Mx;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Lx._create(r,s):gx._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Ax(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof it?n.credentialFromError(e):n.credentialFromResult(e)}function rT(e,t){return t.catch((function(t){throw t instanceof it&&tT(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,nT(t)),additionalUserInfo:U_(e),user:sT.getOrCreate(r)}}))}function iT(e,t){return aT.apply(this,arguments)}function aT(){return(aT=xt(bt().mark((function e(t,n){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return rT(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oT=function(){function e(t,n){l(this,e),this.resolver=n,this.auth=t.wrapped()}return h(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return rT(eT(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),sT=function(){function e(t){l(this,e),this._delegate=t,this.multiFactor=function(e){var t=kt(e);return W_.has(t)||W_.set(t,q_._fromUser(t)),W_.get(t)}(t)}return h(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rT(this.auth,r_(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iT(this.auth,zI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rT(this.auth,iS(this._delegate,t,ZE)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XE(Vw(this.auth));case 2:return e.abrupt("return",bS(this._delegate,t,ZE));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rT(this.auth,a_(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return iT(this.auth,function(e,t,n){return BI.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return rT(this.auth,function(e,t,n){return rS.apply(this,arguments)}(this._delegate,e,ZE))}},{key:"reauthenticateWithRedirect",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,XE(Vw(this.auth));case 2:return e.abrupt("return",gS(this._delegate,t,ZE));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return E_.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hx(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return D_(kt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return D_(kt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return HI.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return A_.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return T_.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();sT.USER_MAP=new WeakMap;var uT=Nb,cT=function(){function e(t,n){if(l(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;uT(r,"invalid-api-key",{appName:t.name}),uT(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?ZE:void 0;this._delegate=n.initialize({options:{persistence:fT(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(gb),this.linkUnderlyingAuth()}return h(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?sT.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){qw(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return v_.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return m_(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return p_.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=xt(bt().mark((function e(t,n){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rT(this._delegate,k_(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return S_.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ex.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uT(VE(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,xS(this._delegate,ZE);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",rT(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Vw(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=lT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=lT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return w_.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return d_.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:QE(this._delegate,t),e.t0=t,e.next=e.t0===HE.SESSION?4:e.t0===HE.LOCAL?6:e.t0===HE.NONE?11:13;break;case 4:return n=Y_,e.abrupt("break",14);case 6:return e.next=8,Rb(kI)._isAvailable();case 8:return r=e.sent,n=r?kI:Q_,e.abrupt("break",14);case 11:return n=_w,e.abrupt("break",14);case 13:return e.abrupt("return",_b("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return rT(this._delegate,function(e){return Vx.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return rT(this._delegate,t_(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return rT(this._delegate,function(e,t){return c_.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return rT(this._delegate,function(e,t,n){return t_(kt(e),Tx.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return rT(this._delegate,function(e,t,n){return x_.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return iT(this._delegate,function(e,t,n){return UI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uT(VE(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",rT(this._delegate,tS(this._delegate,t,ZE)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uT(VE(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,XE(this._delegate);case 3:return e.abrupt("return",mS(this._delegate,t,ZE));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return g_.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function lT(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&sT.getOrCreate(e))},error:t,complete:n}}function fT(e,t){var n=function(e,t){var n=$E();if(!n)return[];var r=Iw(GE,e,t);switch(n.getItem(r)){case HE.NONE:return[_w];case HE.LOCAL:return[kI,Y_];case HE.SESSION:return[Y_];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(kI)||n.push(kI),"undefined"!==typeof window)for(var r=0,i=[Q_,Y_];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(_w)||n.push(_w),n}cT.Persistence=HE;var hT=function(){function e(){l(this,e),this.providerId="phone",this._delegate=new KI(eT(Yn.auth()))}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return KI.credential(e,t)}}]),e}();hT.PHONE_SIGN_IN_METHOD=KI.PHONE_SIGN_IN_METHOD,hT.PROVIDER_ID=KI.PROVIDER_ID;var dT,pT=Nb,vT=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yn.app();l(this,e),pT(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new MI(t,n,i.auth()),this.type=this._delegate.type}return h(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new _t("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new cT(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fb,PASSWORD_RESET:hb,RECOVER_EMAIL:db,REVERT_SECOND_FACTOR_ADDITION:pb,VERIFY_AND_CHANGE_EMAIL:vb,VERIFY_EMAIL:mb}},EmailAuthProvider:Tx,FacebookAuthProvider:Dx,GithubAuthProvider:Px,GoogleAuthProvider:Rx,OAuthProvider:Ax,SAMLAuthProvider:Ox,PhoneAuthProvider:hT,PhoneMultiFactorGenerator:oE,RecaptchaVerifier:vT,TwitterAuthProvider:Mx,Auth:cT,AuthCredential:Kw,Error:it}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.3.0")}(Yn);var mT="@firebase/installations",yT="0.6.0",gT=1e4,kT="w:".concat(yT),bT="FIS_v2",wT=36e5,xT=(ze(dT={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),ze(dT,"not-registered","Firebase Installation is not registered."),ze(dT,"installation-not-found","Firebase Installation not found."),ze(dT,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),ze(dT,"app-offline","Could not process request. Application offline."),ze(dT,"delete-pending-registration","Can't delete installation while there is a pending registration request."),dT),_T=new at("installations","Installations",xT);function IT(e){return e instanceof it&&e.code.includes("request-failed")}function ST(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function ET(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function TT(e,t){return NT.apply(this,arguments)}function NT(){return(NT=xt(bt().mark((function e(t,n){var r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",_T.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CT(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function AT(e,t){var n=t.refreshToken,r=CT(e);return r.append("Authorization",function(e){return"".concat(bT," ").concat(e)}(n)),r}function DT(e){return RT.apply(this,arguments)}function RT(){return RT=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function PT(e,t){return LT.apply(this,arguments)}function LT(){return(LT=xt(bt().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=ST(r),s=CT(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:bT,appId:r.appId,sdkVersion:kT},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,DT((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:ET(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,TT("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OT(e){return new Promise((function(t){setTimeout(t,e)}))}var MT=/^[cdef][\w-]{21}$/;function FT(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,c(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return MT.test(t)?t:""}catch(gy){return""}}function jT(e){return"".concat(e.appName,"!").concat(e.appId)}var UT=new Map;function zT(e,t){var n=jT(e);VT(n,t),function(e,t){var n=qT();n&&n.postMessage({key:e,fid:t});WT()}(n,t)}function VT(e,t){var n=UT.get(e);if(n){var r,i=T(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var BT=null;function qT(){return!BT&&"BroadcastChannel"in self&&((BT=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){VT(e.data.key,e.data.fid)}),BT}function WT(){0===UT.size&&BT&&(BT.close(),BT=null)}var HT="firebase-installations-store",KT=null;function GT(){return KT||(KT=Xt("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(HT)}})),KT}function QT(e,t){return XT.apply(this,arguments)}function XT(){return XT=xt(bt().mark((function e(t,n){var r,i,a,o,s;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jT(t),e.next=3,GT();case 3:return i=e.sent,a=i.transaction(HT,"readwrite"),o=a.objectStore(HT),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||zT(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),XT.apply(this,arguments)}function YT(e){return $T.apply(this,arguments)}function $T(){return $T=xt(bt().mark((function e(t){var n,r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jT(t),e.next=3,GT();case 3:return r=e.sent,i=r.transaction(HT,"readwrite"),e.next=7,i.objectStore(HT).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),$T.apply(this,arguments)}function JT(e,t){return ZT.apply(this,arguments)}function ZT(){return ZT=xt(bt().mark((function e(t,n){var r,i,a,o,s,u;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jT(t),e.next=3,GT();case 3:return i=e.sent,a=i.transaction(HT,"readwrite"),o=a.objectStore(HT),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||zT(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),ZT.apply(this,arguments)}function eN(e){return tN.apply(this,arguments)}function tN(){return(tN=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JT(t.appConfig,(function(e){var r=nN(e),i=rN(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nN(e){return uN(e||{fid:FT(),registrationStatus:0})}function rN(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(_T.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return iN.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:aN(e)}:{installationEntry:t}}function iN(){return(iN=xt(bt().mark((function e(t,n){var r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,PT(t,n);case 3:return r=e.sent,e.abrupt("return",QT(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!IT(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,YT(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,QT(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function aN(e){return oN.apply(this,arguments)}function oN(){return(oN=xt(bt().mark((function e(t){var n,r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sN(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,OT(100);case 6:return e.next=8,sN(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,eN(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sN(e){return JT(e,(function(e){if(!e)throw _T.create("installation-not-found");return uN(e)}))}function uN(e){return 1===(t=e).registrationStatus&&t.registrationTime+gT<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function cN(e,t){return lN.apply(this,arguments)}function lN(){return(lN=xt(bt().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=fN(r,n),o=AT(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:kT,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,DT((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=ET(h),e.abrupt("return",d);case 22:return e.next=24,TT("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fN(e,t){var n=t.fid;return"".concat(ST(e),"/").concat(n,"/authTokens:generate")}function hN(e){return dN.apply(this,arguments)}function dN(){return dN=xt(bt().mark((function e(t){var n,r,i,a,o=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,JT(t.appConfig,(function(e){if(!kN(e))throw _T.create("not-registered");var i=e.authToken;if(!n&&bN(i))return e;if(1===i.requestStatus)return r=pN(t,n),e;if(!navigator.onLine)throw _T.create("app-offline");var a=wN(e);return r=yN(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),dN.apply(this,arguments)}function pN(e,t){return vN.apply(this,arguments)}function vN(){return(vN=xt(bt().mark((function e(t,n){var r,i;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mN(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,OT(100);case 6:return e.next=8,mN(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",hN(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mN(e){return JT(e,(function(e){if(!kN(e))throw _T.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+gT<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function yN(e,t){return gN.apply(this,arguments)}function gN(){return(gN=xt(bt().mark((function e(t,n){var r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cN(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,QT(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!IT(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,YT(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,QT(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function kN(e){return void 0!==e&&2===e.registrationStatus}function bN(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+wT}(e)}function wN(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function xN(){return(xN=xt(bt().mark((function e(t){var n,r,i,a;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,eN(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):hN(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _N(){return _N=xt(bt().mark((function e(t){var n,r,i,a=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,IN(r);case 4:return e.next=6,hN(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),_N.apply(this,arguments)}function IN(e){return SN.apply(this,arguments)}function SN(){return(SN=xt(bt().mark((function e(t){var n,r;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eN(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function EN(e){return _T.create("missing-app-config-values",{valueName:e})}var TN,NN="installations",CN=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw EN("App Configuration");if(!e.name)throw EN("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw EN(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:pn(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},AN=function(e){var t=pn(e.getProvider("app").getImmediate(),NN).getImmediate(),n={getId:function(){return function(e){return xN.apply(this,arguments)}(t)},getToken:function(e){return function(e){return _N.apply(this,arguments)}(t,e)}};return n};dn(new _t(NN,CN,"PUBLIC")),dn(new _t("installations-internal",AN,"PRIVATE")),En(mT,yT),En(mT,yT,"esm2017");var DN="analytics",RN="firebase_id",PN="origin",LN=6e4,ON="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",MN="https://www.googletagmanager.com/gtag/js",FN=new Lt("@firebase/analytics");function jN(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function UN(e,t){var n=document.createElement("script");n.src="".concat(MN,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function zN(e,t,n,r,i,a){return VN.apply(this,arguments)}function VN(){return VN=xt(bt().mark((function e(t,n,r,i,a,o){var s,u,c;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,jN(r);case 9:if(u=e.sent,!(c=u.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),FN.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),VN.apply(this,arguments)}function BN(e,t,n,r,i){return qN.apply(this,arguments)}function qN(){return qN=xt(bt().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,jN(r);case 7:u=e.sent,c=T(s),e.prev=9,f=function(){var e=l.value,t=u.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),FN.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),qN.apply(this,arguments)}function WN(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=xt(bt().mark((function i(a,o,s){return bt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,BN(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,zN(e,t,n,r,o,s);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",s):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),FN.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function HN(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(MN)&&i.src.includes(e))return i}return null}var KN=(ze(TN={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),ze(TN,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),ze(TN,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),ze(TN,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),ze(TN,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ze(TN,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ze(TN,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),ze(TN,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),ze(TN,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),ze(TN,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),TN),GN=new at("analytics","Analytics",KN),QN=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;l(this,e),this.throttleMetadata=t,this.intervalMillis=n}return h(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),XN=new QN;function YN(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function $N(e){return JN.apply(this,arguments)}function JN(){return JN=xt(bt().mark((function e(t){var n,r,i,a,o,s,u,c;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:YN(i)},o=ON.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw GN.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),JN.apply(this,arguments)}function ZN(e){return eC.apply(this,arguments)}function eC(){return eC=xt(bt().mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:XN,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw GN.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw GN.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new sC,setTimeout(xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:LN),e.abrupt("return",tC({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),eC.apply(this,arguments)}function tC(e,t,n){return nC.apply(this,arguments)}function nC(){return nC=xt(bt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p=arguments;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:XN,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,rC(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return FN.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,$N(t);case 17:return l=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),iC(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(u),!c){e.next=32;break}return FN.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(s=null===f||void 0===f?void 0:f.customData)||void 0===s?void 0:s.httpStatus)?gt(a,o.intervalMillis,30):gt(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(u,d),FN.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",tC(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),nC.apply(this,arguments)}function rC(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(GN.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function iC(e){if(!(e instanceof it)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var aC,oC,sC=function(){function e(){l(this,e),this.listeners=[]}return h(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function uC(){return(uC=xt(bt().mark((function e(t,n,r,i,a){var o,s;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cC(e){oC=e}function lC(e){aC=e}function fC(){return hC.apply(this,arguments)}function hC(){return(hC=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($e()){e.next=5;break}return FN.warn(GN.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Je();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),FN.warn(GN.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function dC(){return dC=xt(bt().mark((function e(t,n,r,i,a,o,s){var u,c,l,f,h,d,p,v;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=ZN(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&FN.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return FN.error(e)})),n.push(c),l=fC().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,l]);case 6:return f=e.sent,h=_(f,2),d=h[0],p=h[1],HN(o)||UN(o,d.measurementId),oC&&(a("consent","default",oC),cC(void 0)),a("js",new Date),(v=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{})[PN]="firebase",v.update=!0,null!=p&&(v[RN]=p),a("config",d.measurementId,v),aC&&(a("set",aC),lC(void 0)),e.abrupt("return",d.measurementId);case 20:case"end":return e.stop()}}),e)}))),dC.apply(this,arguments)}var pC,vC,mC=function(){function e(t){l(this,e),this.app=t}return h(e,[{key:"_delete",value:function(){return delete yC[this.app.options.appId],Promise.resolve()}}]),e}(),yC={},gC=[],kC={},bC="dataLayer",wC="gtag",xC=!1;function _C(){var e=[];if(Qe()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=GN.create("invalid-analytics-context",{errorInfo:t});FN.warn(n.message)}}function IC(e,t,n){_C();var r=e.options.appId;if(!r)throw GN.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw GN.create("no-api-key");FN.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=yC[r])throw GN.create("already-exists",{id:r});if(!xC){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(bC);var i=WN(yC,gC,kC,bC,wC),a=i.wrappedGtag,o=i.gtagCore;vC=a,pC=o,xC=!0}return yC[r]=function(e,t,n,r,i,a,o){return dC.apply(this,arguments)}(e,gC,kC,t,pC,bC,n),new mC(e)}function SC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=pn(e,DN);if(n.isInitialized()){var r=n.getImmediate();if(ct(t,n.getOptions()))return r;throw GN.create("already-initialized")}var i=n.initialize({options:t});return i}function EC(e,t,n,r){e=kt(e),function(e,t,n,r,i){return uC.apply(this,arguments)}(vC,yC[e.app.options.appId],t,n,r).catch((function(e){return FN.error(e)}))}var TC="@firebase/analytics",NC="0.9.0";dn(new _t(DN,(function(e,t){var n=t.options;return IC(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),dn(new _t("analytics-internal",(function(e){try{var t=e.getProvider(DN).getImmediate();return{logEvent:function(e,n,r){return EC(t,e,n,r)}}}catch(n){throw GN.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),En(TC,NC),En(TC,NC,"esm2017");var CC=Yn.initializeApp({apiKey:"AIzaSyB-HuMpggeqx23pF6zCLiYoJO-BjEqS9H8",authDomain:"setmenu-a5d55.firebaseapp.com",databaseURL:"https://setmenu-a5d55-default-rtdb.asia-southeast1.firebasedatabase.app/",projectId:"setmenu-a5d55",storageBucket:"setmenu-a5d55.appspot.com",messagingSenderId:"6192868695",appId:"1:6192868695:web:1bfeb5970bec220d526212",measurementId:"G-TQFQ701RMX"}),AC=CC.firestore(),DC=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn(),t=pn(e=kt(e),DN);t.isInitialized()?t.getImmediate():SC(e)}(CC),CC),RC=n(184),PC=r.createContext(),LC=function(e){var t=e.children,n=_((0,r.useState)(null),2),i=n[0],a=n[1],o=_((0,r.useState)(!0),2),s=o[0],u=o[1];return(0,r.useEffect)((function(){DC.auth().onAuthStateChanged((function(e){a(e),u(!1)}))}),[]),s?null:(0,RC.jsx)(PC.Provider,{value:{currentUser:i},children:t})};function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OC.apply(this,arguments)}function MC(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var FC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],jC=["aria-current","caseSensitive","className","end","style","to","children"];function UC(e){var t,n=e.basename,i=e.children,a=e.window,o=r.useRef();null==o.current&&(o.current=(void 0===(t={window:a,v5Compat:!0})&&(t={}),F((function(e,t){var n=e.location;return P("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,t)));var s=o.current,u=_(r.useState({action:s.action,location:s.location}),2),c=u[0],l=u[1];return r.useLayoutEffect((function(){return s.listen(l)}),[s]),r.createElement(Me,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:s})}var zC=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,s=e.state,u=e.target,c=e.to,l=e.preventScrollReset,f=MC(e,FC),h=function(e,t){var n=(void 0===t?{}:t).relative;xe()||D(!1);var i=r.useContext(ge),a=i.basename,o=i.navigator,s=Se(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:J([a,c])),o.createHref({pathname:f,search:l,hash:u})}(c,{relative:i}),d=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=Ie(),l=_e(),f=Se(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(c,{replace:o,state:s,target:u,preventScrollReset:l,relative:i});return r.createElement("a",OC({},f,{href:h,onClick:a?n:function(e){n&&n(e),e.defaultPrevented||d(e)},ref:t,target:u}))}));var VC=r.forwardRef((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=MC(e,jC),v=Se(h,{relative:p.relative}),m=_e(),y=r.useContext(me),g=r.useContext(ge).navigator,k=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,b=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase());var x,_=b===k||!l&&b.startsWith(k)&&"/"===b.charAt(k.length),I=null!=w&&(w===k||!l&&w.startsWith(k)&&"/"===w.charAt(k.length)),S=_?i:void 0;x="function"===typeof u?u({isActive:_,isPending:I}):[u,_?"active":null,I?"pending":null].filter(Boolean).join(" ");var E="function"===typeof f?f({isActive:_,isPending:I}):f;return r.createElement(zC,OC({},p,{"aria-current":S,className:x,ref:t,style:E,to:h}),"function"===typeof d?d({isActive:_,isPending:I}):d)}));var BC,qC;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(BC||(BC={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(qC||(qC={}));var WC=function(e){var t=e.currentUser;return(0,RC.jsxs)("header",{className:"user-panel__header",children:[(0,RC.jsx)(zC,{className:"user-panel__header__logo",to:"/",children:(0,RC.jsx)("img",{className:"user-panel__header__logo--img",src:"/setmenu/img/logos/setmenu-blacklogo.png",alt:"Logo"})}),(0,RC.jsxs)("ul",{className:"user-panel__header__list",children:[(0,RC.jsx)("li",{children:(0,RC.jsx)(VC,{activeClassName:"header-active-link",className:"user-panel__header__link",to:"/mymenu",children:"My Menu"})}),(0,RC.jsx)("li",{children:(0,RC.jsx)(VC,{activeClassName:"header-active-link",className:"user-panel__header__link",to:"/myorders",children:"Orders"})})]}),(0,RC.jsxs)("div",{className:"user-panel__profile",children:[(0,RC.jsx)("img",{className:"user-panel__profile__image",src:"/setmenu/img/profile.png",alt:"Profile picture"}),(0,RC.jsxs)("div",{className:"user-panel__profile__text__container",children:[(0,RC.jsx)("span",{className:"user-panel__profile__text",children:t.displayName}),(0,RC.jsx)("span",{onClick:function(){DC.auth().signOut()},className:"user-panel__profile__logout",children:"Sign Out"})]})]})]})},HC=n(562),KC=n.n(HC),GC=function(e){var t=e.children,n=e.title,i=e.isMyMenu,a=e.openModal,o=e.setActive,s=(0,r.useContext)(PC).currentUser,u=document.getElementById("switch");(0,r.useEffect)((function(){i&&l()}),[]);var c=function(){var e=xt(bt().mark((function e(){var t;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.checked){e.next=16;break}return o(!0),t={idUser:s.uid},e.prev=3,u.disabled=!0,e.next=7,AC.collection("menus").doc().set(t);case 7:u.disabled=!1,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),KC().Notify.failure("Something went wrong!"),u.disabled=!1;case 14:e.next=19;break;case 16:o(!1),u.disabled=!0,AC.collection("menus").where("idUser","==",s.uid).get().then((function(e){var t=AC.batch();return e.forEach((function(e){t.delete(e.ref)})),t.commit()})).then((function(){u.disabled=!1})).catch((function(e){KC().Notify.failure("Something went wrong!")}));case 19:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=xt(bt().mark((function e(){var t,n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("switch"),n=[],e.prev=2,e.next=5,AC.collection("menus").where("idUser","==",s.uid).get();case 5:e.sent.forEach((function(e){n.push(Mt(Mt({},e.data()),{},{id:e.id}))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),KC().Notify.failure("Something went wrong!");case 12:n.length&&(t.checked=!0,o(!0));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return(0,RC.jsx)("div",{className:"user-panel-container",children:(0,RC.jsxs)("div",{className:"user-panel",children:[(0,RC.jsx)(WC,{currentUser:s}),(0,RC.jsxs)("div",{className:"user-panel__title",children:[(0,RC.jsx)("h1",{className:"user-panel__title--h1",children:n}),i&&(0,RC.jsxs)("button",{onClick:function(){return a(!0)},className:"user-panel__title--button",children:["Add food",(0,RC.jsx)("img",{className:"user-panel__title--button-icon",src:"/setmenu/img/icons/plus-circle.svg",alt:"+"})]}),i&&(0,RC.jsxs)("div",{className:"switch-container",children:[(0,RC.jsx)("span",{className:"switch-container__text",children:"Publish"}),(0,RC.jsx)("input",{type:"checkbox",className:"user-panel__switch_input",id:"switch",onChange:c}),(0,RC.jsx)("label",{className:"user-panel__switch_label",htmlFor:"switch",children:"Toggle"})]})]}),t]})})},QC=function(){return(0,RC.jsx)(GC,{title:"Main Menu",children:(0,RC.jsxs)("section",{className:"user-panel__main",children:[(0,RC.jsx)(zC,{className:"user-panel__main__link",to:"/mymenu",children:(0,RC.jsxs)("div",{className:"main-menu-card card-1",children:[(0,RC.jsx)("h2",{children:"Your Menu"}),(0,RC.jsx)("div",{className:"main-menu-card__arrow-container",children:(0,RC.jsx)("img",{className:"main-menu-card__arrow-container--img",src:"/setmenu/img/icons/arrow-card-1.svg",alt:"\u2192"})}),(0,RC.jsx)("img",{className:"main-menu-card--img-1",src:"/setmenu/img/illustrations/card-1.png",alt:"Food"})]})}),(0,RC.jsx)(zC,{className:"user-panel__main__link",to:"/myorders",children:(0,RC.jsxs)("div",{className:"main-menu-card card-2",children:[(0,RC.jsx)("h2",{children:"Your Orders"}),(0,RC.jsx)("div",{className:"main-menu-card__arrow-container",children:(0,RC.jsx)("img",{className:"main-menu-card__arrow-container--img",src:"/setmenu/img/icons/arrow-card-2.svg",alt:"\u2192"})}),(0,RC.jsx)("img",{className:"main-menu-card--img-2",src:"/setmenu/img/illustrations/card-2.png",alt:"Food"})]})})]})})},XC=function(){return(0,RC.jsxs)("div",{className:"landing-container",children:[(0,RC.jsxs)("header",{className:"header-landing",children:[(0,RC.jsx)(zC,{className:"header-landing__logo",to:"/",children:(0,RC.jsx)("img",{className:"header-landing__logo--img",src:"/setmenu/img/logos/setmenu-whitelogo.png",alt:"logo"})}),(0,RC.jsxs)("div",{children:[(0,RC.jsx)(zC,{className:"landing__button--header landing__button",to:"/register",children:"Sign up for free"}),(0,RC.jsx)("br",{}),(0,RC.jsx)(zC,{className:"header-landing__login",to:"/login",children:(0,RC.jsx)("div",{children:"Log in"})})]})]}),(0,RC.jsxs)("main",{className:"fadeIn landing-container__main",children:[(0,RC.jsx)("h1",{className:"landing-container__main--h1",children:"Improve the quality of your restaurant's menu."}),(0,RC.jsx)("br",{}),(0,RC.jsx)("br",{}),(0,RC.jsx)("p",{className:"landing-container__main--p",children:"The finest software for creating digital menus is SetMenu."}),(0,RC.jsx)("div",{className:"landing-container__button-hero",children:(0,RC.jsxs)(zC,{className:"landing__button__main landing__button",to:"/register",children:[(0,RC.jsx)("span",{children:"Sign up for free"}),(0,RC.jsx)("img",{className:"landing__button--img",src:"/setmenu/img/icons/arrow-right.svg",alt:"\u2192"})]})})]}),(0,RC.jsx)("div",{children:(0,RC.jsx)("img",{className:"landing-container__illustration",src:"/setmenu/img/illustrations/landing.svg",alt:"Restaurant"})})]})},YC=function(){var e=(0,r.useContext)(PC).currentUser;return(0,r.useEffect)((function(){document.title="SetMenu - Home"}),[]),e?(0,RC.jsx)(QC,{}):(0,RC.jsx)(XC,{})},$C=n(164),JC=function(e){var t=e.children,n=e.closeModal,r=e.setTemporaryFoodEdit,i=e.isMyMenu,a=e.isOrders,o=e.setDeleteOrder,s=e.little;return $C.createPortal((0,RC.jsxs)("div",{className:"modal ".concat(s&&"little"),children:[(0,RC.jsx)("div",{onClick:function(){n(!1),i&&r(""),a&&o("")},className:"modal__exitBackground"}),(0,RC.jsxs)("div",{className:"modal__container",children:[(0,RC.jsx)("button",{onClick:function(){n(!1),i&&r(""),a&&o("")},className:"modal__container__exit"}),t]})]}),document.getElementById("modal"))},ZC=function(e){e.id;var t=e.name,n=e.category,i=e.price,a=e.description,o=(e.addToCart,_((0,r.useState)(!1),2)),s=o[0],u=o[1];(0,r.useEffect)((function(){KC().Notify.init({position:"right-bottom"})}),[]);return(0,RC.jsxs)(RC.Fragment,{children:[s&&(0,RC.jsxs)(JC,{closeModal:function(e){return u(e)},children:[(0,RC.jsx)("h2",{children:t}),(0,RC.jsx)("br",{}),(0,RC.jsx)("p",{children:n}),(0,RC.jsx)("br",{}),(0,RC.jsx)("p",{children:a}),(0,RC.jsx)("br",{}),(0,RC.jsx)("p",{children:(0,RC.jsxs)("strong",{children:["\u20b9 ",i]})})]}),(0,RC.jsxs)("div",{onClick:function(){return u(!0)},className:"menu__item",children:[(0,RC.jsx)("div",{className:"menu__item__circle",children:(0,RC.jsx)("img",{className:"menu__item__circle__img",src:"/setmenu/img/food/food.jpg",alt:"Pizza"})}),(0,RC.jsxs)("div",{className:"menu__item__content",children:[(0,RC.jsx)("h3",{children:t}),(0,RC.jsx)("br",{}),(0,RC.jsx)("p",{children:n}),(0,RC.jsx)("br",{}),(0,RC.jsxs)("p",{children:[a.slice(0,20),"..."]}),(0,RC.jsx)("br",{}),(0,RC.jsx)("p",{children:(0,RC.jsxs)("strong",{children:["\u20b9 ",i]})})]})]})]})},eA=function(){return(0,r.useEffect)((function(){document.title="SetMenu - 404"}),[]),(0,RC.jsxs)("div",{className:"landing-container",children:[(0,RC.jsxs)("header",{className:"header-landing",children:[(0,RC.jsx)(zC,{className:"header-landing__logo",to:"/",children:(0,RC.jsx)("img",{className:"header-landing__logo--img",src:"/setmenu/img/logos/setmenu-whitelogo.png",alt:"logo"})}),(0,RC.jsxs)("div",{children:[(0,RC.jsx)(zC,{className:"header-landing__login",to:"/login",children:(0,RC.jsx)("div",{children:"Log in"})}),(0,RC.jsx)(zC,{className:"landing__button--header landing__button",to:"/register",children:"Sign up free"})]})]}),(0,RC.jsxs)("main",{className:"fadeIn landing-container__main",children:[(0,RC.jsx)("h1",{className:"landing-container__main--h1",children:"404"}),(0,RC.jsx)("br",{}),(0,RC.jsx)("br",{}),(0,RC.jsx)("p",{className:"landing-container__main--p",children:"This page was not found!"}),(0,RC.jsxs)(zC,{className:"landing__button__main landing__button",to:"/",children:[(0,RC.jsx)("span",{children:"Go to start!"}),(0,RC.jsx)("img",{className:"landing__button--img",src:"/setmenu/img/icons/arrow-right.svg",alt:"\u2192"})]})]}),(0,RC.jsx)("div",{children:(0,RC.jsx)("img",{className:"landing-container__illustration",src:"/setmenu/img/illustrations/landing.svg",alt:"Restaurant"})})]})},tA=function(){return(0,RC.jsxs)("div",{className:"succesful-order",children:[(0,RC.jsx)("img",{className:"succesful-order__image",src:"/setmenu/img/illustrations/order.png",alt:"order"}),(0,RC.jsxs)("h1",{children:["Your order was successfully placed ","\ud83d\ude04"]}),(0,RC.jsx)("br",{}),(0,RC.jsx)("p",{children:"In a few minutes your food will arrive at the table!"})]})},nA=function(){var e=function(){var e=r.useContext(be).matches,t=e[e.length-1];return t?t.params:{}}().id,t=_((0,r.useState)(!1),2),n=t[0],i=t[1],a=_((0,r.useState)(!1),2),o=a[0],s=a[1],u=_((0,r.useState)([]),2),l=u[0],f=u[1],h=_((0,r.useState)([]),2),d=h[0],p=h[1],v=_((0,r.useState)(0),2),m=v[0],y=v[1],g=_((0,r.useState)(!1),2),k=g[0],b=g[1],w=_((0,r.useState)(""),2),x=w[0],I=w[1],S=_((0,r.useState)(!1),2),E=S[0],T=S[1],N=_((0,r.useState)(""),2),C=N[0],A=N[1],D=_((0,r.useState)(""),2),R=D[0],P=D[1],L=_((0,r.useState)([]),2),O=L[0],M=L[1];(0,r.useEffect)((function(){document.title="SetMenu",z()}),[]);var F=function(){var t=xt(bt().mark((function t(){var n;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,AC.collection("foods").where("idUser","==",e).get();case 4:t.sent.forEach((function(e){n.push(Mt(Mt({},e.data()),{},{id:e.id}))})),f(n),i(!0),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),KC().Notify.failure("Something went wrong while fetching the data from the menu. Please try again");case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=xt(bt().mark((function t(n){var r;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),d.length){t.next=5;break}KC().Notify.warning("You have no items in your shopping cart!"),t.next=19;break;case 5:return document.querySelectorAll(".menuForm").forEach((function(e){return e.disabled=!0})),t.prev=6,r={idUser:e,products:c(d),table:x,Observations:C,total:U()},t.next=10,AC.collection("orders").doc().set(r);case 10:KC().Notify.success("The order was made correctly!"),T(!0),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),KC().Notify.failure("Something went wrong. Please try again!"),b(!1);case 18:document.querySelectorAll(".menuForm").forEach((function(e){return e.disabled=!1}));case 19:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(e){return t.apply(this,arguments)}}(),U=function(){var e=0;return d.forEach((function(t){e+=t.price*t.amount})),e},z=function(){var t=xt(bt().mark((function t(){var n;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.prev=1,t.next=4,AC.collection("menus").where("idUser","==",e).get();case 4:t.sent.forEach((function(e){n.push(Mt(Mt({},e.data()),{},{id:e.id}))})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),KC().Notify.failure("Something went wrong!");case 11:n.length?F():s(!0);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),V=[].concat(c(new Set(l.map((function(e){return e.category})))),["All"]),B=function(){var t=xt(bt().mark((function t(n){var r,i;return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("All"!==n){t.next=8;break}return r=[],t.next=4,AC.collection("foods").where("idUser","==",e).get();case 4:return t.sent.forEach((function(e){r.push(Mt(Mt({},e.data()),{},{id:e.id}))})),f(r),t.abrupt("return");case 8:i=l.filter((function(e){return e.category===n})),f(i);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return o?(0,RC.jsx)(eA,{}):E?(0,RC.jsx)(tA,{}):n?(0,RC.jsxs)(RC.Fragment,{children:[k&&(0,RC.jsxs)(JC,{closeModal:function(e){return b(e)},little:!0,children:[(0,RC.jsxs)("div",{className:"trolley-row",children:[(0,RC.jsx)("h4",{children:"Product"}),(0,RC.jsx)("h4",{children:"Price"}),(0,RC.jsx)("h4",{children:"Quantity"}),(0,RC.jsx)("h4",{children:"Remove"})]},l.id),!d.length&&(0,RC.jsx)("div",{className:"no-products",children:"There are no products in the cart yet!"}),d.map((function(e){return(0,RC.jsxs)("div",{className:"trolley-row",children:[(0,RC.jsx)("span",{children:e.name}),(0,RC.jsx)("span",{children:e.category}),(0,RC.jsxs)("span",{children:["\u20b9 ",e.price]}),(0,RC.jsx)("span",{children:e.amount}),(0,RC.jsx)("button",{className:"delete-product-cart",onClick:function(){return function(e){var t=d,n=d.findIndex((function(t){return t.id===e}));y(m-d[n].amount),t.splice(n,1),p(t)}(e.id)},children:"x"})]},e.id)})),(0,RC.jsxs)("form",{className:"form-order",onSubmit:j,children:[(0,RC.jsx)("div",{className:"trolley-total",children:(0,RC.jsxs)("label",{children:["Table you are at:",(0,RC.jsx)("input",{className:"input-table menuForm",required:!0,value:x,onChange:function(e){return I(e.target.value)},type:"number"})]})}),(0,RC.jsxs)("div",{className:"trolley-total Observations",children:[(0,RC.jsx)("h4",{children:"Observations"}),(0,RC.jsx)("textarea",{className:"Observations__textarea",onChange:function(e){return A(e.target.value)},placeholder:"Jain or Non Jain...",type:"text"})]}),(0,RC.jsx)("div",{className:"trolley-total",children:(0,RC.jsx)("p",{children:(0,RC.jsxs)("strong",{children:["Total: \u20b9",U()]})})}),(0,RC.jsx)("input",{type:"submit",className:"modal__container__button menuForm",value:"Make an order"})]})]}),(0,RC.jsxs)("div",{className:"main-container",children:[(0,RC.jsxs)("header",{className:"header",children:[(0,RC.jsx)(zC,{className:"header__logo__link",to:"/",children:(0,RC.jsx)("img",{className:"header__logo",src:"/setmenu/img/logos/setmenu-blacklogo.png",alt:"Logo"})}),(0,RC.jsx)("input",{onChange:function(e){var t=e.target.value;P(t);var n=l.filter((function(e){return"".concat(e.name).toLowerCase().includes(t.toLowerCase())}));M(n)},className:"header__input",type:"text",placeholder:"Search"})]}),(0,RC.jsx)("div",{children:V.map((function(e,t){return(0,RC.jsxs)("button",{className:"filter_button",onClick:function(){return B(e)},children:[" ",e," "]},t)}))}),(0,RC.jsx)("div",{className:"main-container__title",children:(0,RC.jsx)("h1",{className:"main-container__title__h1",children:"Menu"})}),0===l.length?(0,RC.jsx)("div",{className:"no-food",children:(0,RC.jsx)("p",{children:"This menu has no food yet!"})}):(0,RC.jsxs)(RC.Fragment,{children:[!R&&(0,RC.jsx)("section",{className:"menu",children:l.map((function(e){return(0,RC.jsx)(ZC,{id:e.id,name:e.name,category:e.category,price:e.price,description:e.description},e.id)}))}),!O.length&&R&&(0,RC.jsx)("div",{className:"no-food",children:(0,RC.jsx)("p",{children:"It was not found: ".concat(R)})}),O.length&&R&&(0,RC.jsx)("section",{className:"menu",children:O.map((function(e){return(0,RC.jsx)(ZC,{id:e.id,name:e.name,category:e.category,price:e.price,description:e.description},e.id)}))})]})]})]}):(0,RC.jsx)("div",{className:"fullscreen-loader",children:(0,RC.jsx)("img",{className:"fullscreen-loader__img",src:"/setmenu/img/logos/setmenu-blacklogo.png",alt:"Logo"})})},rA=function(){return(0,RC.jsx)("div",{className:"container-loader",children:(0,RC.jsx)("div",{className:"loader loader--style1",title:"0",children:(0,RC.jsxs)("svg",{version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg",xlinkHref:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 40 40",enableBackground:"new 0 0 40 40",xmlSpace:"preserve",children:[(0,RC.jsx)("path",{opacity:"0.2",fill:"#000",d:"M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946\r s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634\r c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"}),(0,RC.jsx)("path",{fill:"#000",d:"M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0\r C22.32,8.481,24.301,9.057,26.013,10.047z",children:(0,RC.jsx)("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 20 20",to:"360 20 20",dur:"0.5s",repeatCount:"indefinite"})})]})})})},iA=function(){return(0,RC.jsx)("footer",{className:"footer",children:(0,RC.jsxs)("div",{className:"footer-container",children:[(0,RC.jsxs)("div",{className:"footer-links",children:[(0,RC.jsx)(zC,{to:"/about",children:"About"}),(0,RC.jsx)("a",{href:"#",children:"Contact"}),(0,RC.jsx)("a",{href:"#",children:"Privacy Policy"}),(0,RC.jsx)("a",{href:"#",children:"Terms of Use"})]}),(0,RC.jsx)("div",{className:"footer-copyright",children:"Copyright \xa9 2022 SetMenu"})]})})},aA=function(){var e={name:"",price:"",category:"",description:""},t=(0,r.useContext)(PC).currentUser,n=_((0,r.useState)(!1),2),i=n[0],a=n[1],o=_((0,r.useState)(e),2),s=o[0],u=o[1],c=_((0,r.useState)([]),2),l=c[0],f=c[1],h=_((0,r.useState)(!1),2),d=h[0],p=h[1],v=_((0,r.useState)(""),2),m=v[0],y=v[1],g=_((0,r.useState)(""),2),k=g[0],b=g[1],w=_((0,r.useState)(!1),2),x=w[0],I=w[1],S=_((0,r.useState)({foodsLoader:!0}),2),E=S[0],T=S[1];(0,r.useEffect)((function(){document.title="SetMenu - My Menu",KC().Notify.init({position:"right-bottom"}),P()}),[]);var N=function(e){u(Mt(Mt({},s),{},ze({},e.target.name,e.target.value)))},C=function(){var e=xt(bt().mark((function e(t){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),document.querySelectorAll(".newfoodForm").forEach((function(e){return e.disabled=!0})),!m){e.next=7;break}return e.next=5,R();case 5:e.next=9;break;case 7:return e.next=9,L();case 9:document.querySelectorAll(".newfoodForm").forEach((function(e){return e.disabled=!1})),a(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=xt(bt().mark((function e(t){var n;return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(t),e.prev=1,e.next=4,AC.collection("foods").doc(t).get();case 4:n=e.sent,u(n.data()),a(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),KC().Notify.failure("Something went wrong. Please try again!");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!1),e.prev=1,e.next=4,AC.collection("foods").doc(k).delete();case 4:KC().Notify.success("Food was removed correctly!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),KC().Notify.failure("Something went wrong while trying to delete the information. Please try again!");case 10:b("");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var t=xt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,AC.collection("foods").doc(m).update(s);case 3:KC().Notify.success("The food was updated correctly!"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),KC().Notify.failure("Something went wrong. Please try again!");case 9:u(e),y("");case 11:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),P=function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{AC.collection("foods").where("idUser","==",t.uid).onSnapshot((function(e){var t=[];T(Mt(Mt({},E),{},{foodsLoader:!0})),e.forEach((function(e){t.push(Mt(Mt({},e.data()),{},{id:e.id}))})),f(t),T(Mt(Mt({},E),{},{foodsLoader:!1}))}))}catch(n){KC().Notify.failure("An error occurred while fetching the information. Please try again!")}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var n=xt(bt().mark((function n(){var r;return bt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Mt(Mt({},s),{},{price:parseInt(s.price,10),idUser:t.uid}),T(Mt(Mt({},E),{},{newfoodLoader:!0})),n.prev=2,n.next=5,AC.collection("foods").doc().set(r);case 5:KC().Notify.success("Food was added correctly!"),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(2),KC().Notify.failure("Something went wrong while trying to send the information. Please try again!"),a(!1);case 12:T(Mt(Mt({},E),{},{newfoodLoader:!1})),u(e);case 14:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(){return n.apply(this,arguments)}}();return t?(0,RC.jsxs)(GC,{isMyMenu:!0,title:"My Menu",setActive:function(e){return p(e)},openModal:function(e){return a(e)},children:[x&&(0,RC.jsxs)(JC,{isMyMenu:!0,settemporaryFoodEdit:function(e){return y(e)},closeModal:function(e){return I(e)},children:[(0,RC.jsx)("p",{children:"Do you want to remove this item?"}),(0,RC.jsxs)("div",{children:[(0,RC.jsx)("button",{className:"modal__container__button",onClick:function(){return I(!1)},children:"No"}),(0,RC.jsx)("button",{onClick:function(){return D()},className:"modal__container__button modal__container__button--red",children:"Yes"})]})]}),i&&(0,RC.jsx)(JC,{isMyMenu:!0,closeModal:function(e){return a(e)},settemporaryFoodEdit:function(e){return y(e)},children:(0,RC.jsxs)("form",{onSubmit:C,className:"modal__new-food__form",children:[(0,RC.jsx)("h2",{children:m?"Edit":"Add"}),(0,RC.jsx)("br",{}),(0,RC.jsxs)("label",{children:["Name",(0,RC.jsx)("input",{value:s.name,type:"text",name:"name",onChange:N,required:!0,maxLength:"20",className:"input-modal__new-food newfoodForm"})]}),(0,RC.jsxs)("label",{children:["Category",(0,RC.jsx)("input",{value:s.category,type:"text",name:"category",onChange:N,required:!0,maxLength:"20",className:"input-modal__new-food newfoodForm"})]}),(0,RC.jsxs)("label",{children:["Price",(0,RC.jsx)("input",{value:s.price,type:"number",name:"price",onChange:N,required:!0,className:"input-modal__new-food newfoodForm"})]}),(0,RC.jsxs)("label",{children:["Description",(0,RC.jsx)("textarea",{value:s.description,type:"text",name:"description",onChange:N,required:!0,className:"input-modal__new-food input-modal__new-food--textarea newfoodForm"})]}),(0,RC.jsx)("input",{type:"submit",className:"modal__container__button newfoodForm",value:m?"Edit Food":"Add Food"})]})}),(0,RC.jsxs)("section",{className:"my-menu__container",children:[d&&(0,RC.jsxs)("div",{className:"menu-link-qr fadeIn",children:[(0,RC.jsxs)("p",{children:["Your Menu is available at:",(0,RC.jsx)("br",{}),(0,RC.jsx)(zC,{className:"menu-link-qr__link",to:"/menu/".concat(t.uid),children:" ".concat(window.location.origin.toString(),"/menu/").concat(t.uid)})]}),(0,RC.jsxs)("a",{className:"menu-link-qr__qr",role:"button",href:"https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=".concat(window.location.origin.toString(),"/menu/").concat(t.uid),rel:"noopener noreferrer",target:"_blank",children:["Menu QR Code",(0,RC.jsx)("img",{className:"menu-link-qr__qr--icon",src:"/setmenu/img/icons/qrcode.svg",alt:"QR"})]})]}),E.foodsLoader?(0,RC.jsx)(rA,{}):(0,RC.jsx)(RC.Fragment,{children:0===l.length?(0,RC.jsx)("div",{className:"my-menu__no-foods",children:(0,RC.jsx)("span",{children:"You still have no food on your Menu!"})}):(0,RC.jsx)(RC.Fragment,{children:l.map((function(e){return(0,RC.jsxs)("div",{className:"food-container",children:[(0,RC.jsx)("h2",{children:e.name}),(0,RC.jsx)("br",{}),(0,RC.jsx)("p",{children:e.category}),(0,RC.jsx)("br",{}),(0,RC.jsx)("p",{children:e.description}),(0,RC.jsx)("br",{}),(0,RC.jsxs)("strong",{children:["\u20b9 ",e.price]}),(0,RC.jsxs)("div",{className:"food-container__buttons",children:[(0,RC.jsx)("button",{className:"food-container-button food-container__button-edit",onClick:function(){return A(e.id)},children:"Edit"}),(0,RC.jsx)("button",{className:"food-container-button food-container__button-delete",onClick:function(){return function(e){b(e),I(!0)}(e.id)},children:"Remove"})]})]},e.id)}))})})]}),(0,RC.jsx)(iA,{})]}):(0,RC.jsx)(Le,{to:"/"})},oA=function(){var e=(0,r.useContext)(PC).currentUser,t=_((0,r.useState)([]),2),n=t[0],i=t[1],a=_((0,r.useState)(""),2),o=a[0],s=a[1],u=_((0,r.useState)(!1),2),c=u[0],l=u[1],f=_((0,r.useState)({ordersLoader:!0}),2),h=f[0],d=f[1];(0,r.useEffect)((function(){document.title="SetMenu - My Orders",KC().Notify.init({position:"right-bottom"}),p()}),[]);var p=function(){try{AC.collection("orders").where("idUser","==",e.uid).onSnapshot((function(e){var t=[];d(Mt(Mt({},h),{},{ordersLoader:!0})),e.forEach((function(e){t.push(Mt(Mt({},e.data()),{},{id:e.id}))})),i(t),d(Mt(Mt({},h),{},{ordersLoader:!1}))}))}catch(t){KC().Notify.failure("An error occurred while fetching the information. Please try again!")}},v=function(){var e=xt(bt().mark((function e(){return bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!1),e.prev=1,e.next=4,AC.collection("orders").doc(o).delete();case 4:KC().Notify.success("Food was removed correctly!"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),KC().Notify.failure("Something went wrong while trying to delete the order. Please try again!");case 10:s("");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return e?(0,RC.jsxs)(GC,{title:"My Orders",children:[c&&(0,RC.jsxs)(JC,{isOrders:!0,closeModal:function(e){return l(e)},setDeleteOrder:function(e){return s(e)},children:[(0,RC.jsx)("p",{children:"Do you want to delete this order?"}),(0,RC.jsxs)("div",{children:[(0,RC.jsx)("button",{className:"modal__container__button",onClick:function(){return l(!1)},children:"Cancel"}),(0,RC.jsx)("button",{onClick:function(){return v()},className:"modal__container__button modal__container__button--red",children:"Remove"})]})]}),(0,RC.jsx)("section",{children:h.ordersLoader?(0,RC.jsx)(rA,{}):(0,RC.jsx)(RC.Fragment,{children:0===n.length?(0,RC.jsx)("div",{className:"no-orders",children:(0,RC.jsx)("span",{children:"You still have no orders!"})}):(0,RC.jsx)(RC.Fragment,{children:n.map((function(e){return(0,RC.jsxs)("div",{className:"order-container",children:[(0,RC.jsxs)("div",{className:"order-container__header",children:[(0,RC.jsxs)("h2",{children:["Table ",e.table]}),(0,RC.jsx)("button",{onClick:function(){return function(e){s(e),l(!0)}(e.id)},className:"order-container__header-button",children:(0,RC.jsx)("img",{src:"/setmenu/img/icons/trash.svg",alt:"Remove"})})]}),(0,RC.jsx)("br",{}),(0,RC.jsx)("hr",{}),(0,RC.jsxs)("div",{className:"order-container-row",children:[(0,RC.jsx)("h4",{children:"Name"}),(0,RC.jsx)("h4",{children:"Quantity"}),(0,RC.jsx)("h4",{children:"Price"})]}),e.products.map((function(e){return(0,RC.jsxs)("div",{className:"order-container-row",children:[(0,RC.jsx)("span",{children:e.name}),(0,RC.jsx)("span",{children:e.amount}),(0,RC.jsxs)("span",{children:["\u20b9 ",e.price]})]},e.id)})),(0,RC.jsx)("br",{}),(0,RC.jsx)("hr",{}),(0,RC.jsx)("br",{}),(0,RC.jsx)("h4",{children:"Observations"}),(0,RC.jsx)("br",{}),(0,RC.jsx)("p",{children:e.Observations}),(0,RC.jsx)("br",{}),(0,RC.jsx)("hr",{}),(0,RC.jsx)("br",{}),(0,RC.jsxs)("p",{className:"total-order",children:[(0,RC.jsx)("strong",{children:"Total:"})," \u20b9",e.total]}),(0,RC.jsx)("br",{})]},e.id)}))})})})]}):(0,RC.jsx)(Le,{to:"/"})},sA=function(e){var t=e.setErrors,n=new Yn.auth.GoogleAuthProvider,r=new Yn.auth.FacebookAuthProvider;return(0,RC.jsxs)("div",{className:"sign-in-social",children:[(0,RC.jsx)("hr",{className:"sign-in-social__divider"}),(0,RC.jsxs)("div",{className:"sign-in-social__container",children:[(0,RC.jsx)("button",{onClick:function(){Yn.auth().signInWithPopup(n).catch((function(e){KC().Notify.failure("Something went wrong trying to sign in with Google, please try again!")}))},className:"sign-in-social__button sign-in-social__button--google",children:(0,RC.jsx)("img",{className:"sign-in-social__button--img",src:"/setmenu/img/icons/google.svg",alt:"Google"})}),(0,RC.jsx)("button",{onClick:function(){Yn.auth().signInWithPopup(r).catch((function(e){"auth/account-exists-with-different-credential"===e.code?t({facebook:!0}):KC().Notify.failure("Something went wrong while trying to log in with Facebook, please try again!")}))},className:"sign-in-social__button sign-in-social__button--facebook",children:(0,RC.jsx)("img",{className:"sign-in-social__button--img",src:"/setmenu/img/icons/facebook.svg",alt:"Facebook"})})]})]})},uA=function(){var e=_((0,r.useState)({}),2),t=e[0],n=e[1],i=_((0,r.useState)(!1),2),a=i[0],o=i[1],s=_((0,r.useState)({}),2),u=s[0],c=s[1],l=(0,r.useContext)(PC).currentUser;(0,r.useEffect)((function(){document.title="SetMenu - Login"}),[]);var f=function(e){n(Mt(Mt({},t),{},ze({},e.target.name,e.target.value)))};return l?(0,RC.jsx)(Le,{to:"/"}):(0,RC.jsxs)("div",{className:"login-register-container__grid",children:[(0,RC.jsx)("h1",{children:"Log in"}),(0,RC.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c({}),o(!0),document.querySelectorAll("input").forEach((function(e){return e.disabled=!0})),DC.auth().signInWithEmailAndPassword(t.email,t.password).catch((function(e){"auth/user-not-found"===e.code||"auth/wrong-password"===e.code?c({incorrect:!0}):c({unexpected:!0})})),document.querySelectorAll("input").forEach((function(e){return e.disabled=!1})),o(!1)},className:"login-grid",children:[(0,RC.jsxs)("label",{className:"login-register-form__label",children:[(0,RC.jsx)("img",{className:"login-register-form__label__icon",src:"/setmenu/img/icons/mail.svg",alt:"User"}),(0,RC.jsx)("input",{name:"email",placeholder:"Email",className:"login-register-form__input",type:"email",required:!0,onChange:f})]}),(0,RC.jsxs)("label",{className:"login-register-form__label",children:[(0,RC.jsx)("img",{className:"login-register-form__label__icon",src:"/setmenu/img/icons/padlock.svg",alt:"User"}),(0,RC.jsx)("input",{name:"password",placeholder:"Password",className:"login-register-form__input",type:"password",required:!0,onChange:f})]}),(0,RC.jsx)("input",{className:"login-register-form__button",type:"submit",value:"Log in"})]}),(0,RC.jsx)(sA,{setErrors:function(e){return c(e)}}),a&&(0,RC.jsx)(rA,{}),(0,RC.jsx)("div",{className:"login-register__errors",children:(0,RC.jsx)("span",{children:(0,RC.jsxs)("ul",{children:[u.incorrect&&(0,RC.jsx)("li",{className:"login-register__errors--li",children:"Oops! The email or password is incorrect."}),u.unexpected&&(0,RC.jsx)("li",{className:"login-register__errors--li",children:"An error occurred while sending the information. Please try to again!"}),u.facebook&&(0,RC.jsx)("li",{className:"login-register__errors--li",children:"An account with the same email address already exists email at a provider associated with this email address email. Try to login with Email or Google!"})]})})})]})},cA=function(){var e=_((0,r.useState)({}),2),t=e[0],n=e[1],i=_((0,r.useState)(!1),2),a=i[0],o=i[1],s=_((0,r.useState)({}),2),u=s[0],c=s[1],l=(0,r.useContext)(PC).currentUser;(0,r.useEffect)((function(){document.title="SetMenu - Create Account"}),[]);var f=function(e){n(Mt(Mt({},t),{},ze({},e.target.name,e.target.value)))};return l?(0,RC.jsx)(Le,{to:"/"}):(0,RC.jsxs)("div",{className:"login-register-container__grid",children:[(0,RC.jsx)("h1",{children:"Create Account"}),(0,RC.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c({}),o(!0),document.querySelectorAll("input").forEach((function(e){return e.disabled=!0})),t.password===t.confirmPassword?DC.auth().createUserWithEmailAndPassword(t.email,t.password).then((function(e){return e.user.updateProfile({displayName:t.name})})).catch((function(e){"auth/email-already-in-use"===e.code?c({email:!0}):c({unexpected:!0})})):c({password:!0}),document.querySelectorAll("input").forEach((function(e){return e.disabled=!1})),o(!1)},className:"regirter-grid",children:[(0,RC.jsxs)("label",{className:"login-register-form__label regirter-grid--division",children:[(0,RC.jsx)("img",{className:"login-register-form__label__icon",src:"/setmenu/img/icons/user.svg",alt:"User"}),(0,RC.jsx)("input",{name:"name",placeholder:"Name",className:"login-register-form__input",type:"text",required:!0,maxLength:"30",onChange:f})]}),(0,RC.jsxs)("label",{className:"login-register-form__label regirter-grid--division",children:[(0,RC.jsx)("img",{className:"login-register-form__label__icon",src:"/setmenu/img/icons/mail.svg",alt:"User"}),(0,RC.jsx)("input",{name:"email",placeholder:"Email",className:"login-register-form__input",type:"email",required:!0,onChange:f})]}),(0,RC.jsxs)("label",{className:"login-register-form__label register-grid__correccion-icon",children:[(0,RC.jsx)("img",{className:"login-register-form__label__icon",src:"/setmenu/img/icons/padlock.svg",alt:"User"}),(0,RC.jsx)("input",{name:"password",placeholder:"Password",className:"login-register-form__input",type:"password",required:!0,minLength:"8",onChange:f})]}),(0,RC.jsxs)("label",{className:"login-register-form__label register-grid__correccion-icon",children:[(0,RC.jsx)("img",{className:"login-register-form__label__icon",src:"/setmenu/img/icons/padlock.svg",alt:"User"}),(0,RC.jsx)("input",{name:"confirmPassword",placeholder:"Confirm Password",className:"login-register-form__input",type:"password",required:!0,onChange:f})]}),(0,RC.jsx)("input",{className:"login-register-form__button regirter-grid--division",type:"submit",value:" Create Account"})]}),(0,RC.jsx)(sA,{setErrors:function(e){return c(e)}}),a&&(0,RC.jsx)(rA,{}),(0,RC.jsx)("div",{className:"login-register__errors",children:(0,RC.jsx)("span",{children:(0,RC.jsxs)("ul",{children:[u.password&&(0,RC.jsx)("li",{className:"login-register__errors--li",children:"Password Do Not Match!"}),u.email&&(0,RC.jsx)("li",{className:"login-register__errors--li",children:"Sorry! This Email is already registered."}),u.unexpected&&(0,RC.jsx)("li",{className:"login-register__errors--li",children:"An error occurred while sending the information. Please try to again."}),u.facebook&&(0,RC.jsx)("li",{className:"login-register__errors--li",children:"An account with the same email address already exists email at a provider associated with this email address email. Try to login with Email or Google."})]})})})]})},lA=function(){return(0,RC.jsxs)("div",{className:"login-register",children:[(0,RC.jsxs)("div",{className:"login-register__form",children:[(0,RC.jsx)(zC,{to:"/",children:(0,RC.jsx)("img",{className:"login-register__form__logo",src:"/setmenu/img/logos/setmenu-whitelogo.png",alt:"Logo"})}),"/login"===Le?(0,RC.jsx)(uA,{}):(0,RC.jsx)(cA,{}),(0,RC.jsxs)("div",{className:"login-register__links-question",children:["/login"===Le?(0,RC.jsxs)("span",{children:["Don't have an account?",(0,RC.jsx)(zC,{className:"login-register__form__question__link",to:"/register",children:(0,RC.jsx)("strong",{children:" Create Account"})})]}):(0,RC.jsxs)("span",{children:["Do you already have an account?",(0,RC.jsx)(zC,{className:"login-register__form__question__link",to:"/login",children:(0,RC.jsx)("strong",{children:" Log in"})})]}),(0,RC.jsxs)("div",{className:"login-register__form__links",children:[(0,RC.jsx)(zC,{className:"login-register__form__links--link",to:"/",children:"Terms and Conditions"}),(0,RC.jsx)(zC,{className:"login-register__form__links--link",to:"/",children:"Privacy Policy"}),(0,RC.jsx)(zC,{className:"login-register__form__links--link",to:"/",children:"Cookies"}),(0,RC.jsx)("br",{}),(0,RC.jsx)("br",{}),(0,RC.jsx)("span",{className:"login-register__form__links--link",children:"\xa9 2022 SetMenu."})]})]})]}),(0,RC.jsxs)("div",{className:"login-register__content",children:[(0,RC.jsx)("span",{className:"login-register__content__title",children:"Don't let your restaurant stagnate in the digital age"}),(0,RC.jsx)("img",{className:"login-register__content__image",src:"/setmenu/img/illustrations/login_register.png",alt:"Illustration"})]})]})},fA=function(){return(0,RC.jsx)("div",{children:"manan"})},hA=function(){return(0,RC.jsxs)("div",{className:"about",children:[(0,RC.jsxs)("div",{className:"about-header",children:[(0,RC.jsx)("img",{src:"/setmenu/img/logos/setmenu-whitelogo.png",alt:"SetMenu logo",className:"logo"}),(0,RC.jsx)("h1",{className:"title",children:"About SetMenu"})]}),(0,RC.jsxs)("div",{className:"about-content",children:[(0,RC.jsx)("p",{children:"SetMenu is a company that provides a platform for restaurants to create and manage their online menus. Our goal is to make it easy for restaurants to showcase their offerings and for customers to find and order the dishes they love."}),(0,RC.jsx)("p",{children:"SetMenu was founded in 2020 by a team of food and technology enthusiasts who saw an opportunity to improve the way restaurants share their menus with the world. We are constantly working to improve our platform and add new features that help restaurants succeed."}),(0,RC.jsx)("p",{children:"If you are a restaurant owner or manager and would like to learn more about how SetMenu can help you grow your business, please don't hesitate to contact us. We would love to hear from you!"})]}),(0,RC.jsx)("div",{className:"about-images",children:(0,RC.jsx)("img",{src:"/setmenu/img/illustrations/login_register.png",alt:"Restaurant image",className:"image"})})]})};var dA=function(){return(0,RC.jsx)(RC.Fragment,{children:(0,RC.jsx)(LC,{children:(0,RC.jsxs)(Fe,{children:[(0,RC.jsx)(Oe,{path:"/",element:(0,RC.jsx)(YC,{})}),(0,RC.jsx)(Oe,{path:"/setmenu",element:(0,RC.jsx)(YC,{})}),(0,RC.jsx)(Oe,{path:"/manan",element:(0,RC.jsx)(fA,{})}),(0,RC.jsx)(Oe,{path:"/login",element:(0,RC.jsx)(uA,{})}),(0,RC.jsx)(Oe,{path:"/register",element:(0,RC.jsx)(lA,{})}),(0,RC.jsx)(Oe,{path:"/mymenu",element:(0,RC.jsx)(aA,{})}),(0,RC.jsx)(Oe,{path:"/myorders",element:(0,RC.jsx)(oA,{})}),(0,RC.jsx)(Oe,{path:"/menu/:id",element:(0,RC.jsx)(nA,{})}),(0,RC.jsx)(Oe,{element:(0,RC.jsx)(eA,{})}),(0,RC.jsx)(Oe,{path:"/about",element:(0,RC.jsx)(hA,{})})]})})})};a.createRoot(document.getElementById("root")).render((0,RC.jsx)(UC,{children:(0,RC.jsx)(dA,{})}))}()}();
//# sourceMappingURL=main.0a25056b.js.map